<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Requests 2.18.1 æ–‡æ¡£</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/badge_only.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.18.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="ç´¢å¼•" href="genindex.html" />
    <link rel="search" title="æœç´¢" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.python-requests.org/zh_CN/latest/" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'index'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="requests-http">
<h1>Requests: è®© HTTP æœåŠ¡äººç±»<a class="headerlink" href="#requests-http" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p>å‘è¡Œç‰ˆæœ¬ v2.18.1. (<a class="reference internal" href="index.html#install"><span class="std std-ref">å®‰è£…è¯´æ˜</span></a>)</p>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/requests"><img alt="https://img.shields.io/pypi/l/requests.svg" src="https://img.shields.io/pypi/l/requests.svg" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/requests"><img alt="https://img.shields.io/pypi/wheel/requests.svg" src="https://img.shields.io/pypi/wheel/requests.svg" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/requests"><img alt="https://img.shields.io/pypi/pyversions/requests.svg" src="https://img.shields.io/pypi/pyversions/requests.svg" /></a>
<a class="reference external image-reference" href="https://codecov.io/github/requests/requests"><img alt="codecov.io" src="https://codecov.io/github/requests/requests/coverage.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://saythanks.io/to/kennethreitz"><img alt="https://img.shields.io/badge/Say%20Thanks!-ğŸ¦‰-1EAEDB.svg" src="https://img.shields.io/badge/Say%20Thanks!-ğŸ¦‰-1EAEDB.svg" /></a>
<p>Requests å”¯ä¸€çš„ä¸€ä¸ª<strong>éè½¬åŸºå› </strong>çš„ Python HTTP åº“ï¼Œäººç±»å¯ä»¥å®‰å…¨äº«ç”¨ã€‚</p>
<p><strong>è­¦å‘Š</strong>ï¼šéä¸“ä¸šä½¿ç”¨å…¶ä»– HTTP åº“ä¼šå¯¼è‡´å±é™©çš„å‰¯ä½œç”¨ï¼ŒåŒ…æ‹¬ï¼šå®‰å…¨ç¼ºé™·ç—‡ã€å†—ä½™ä»£ç ç—‡ã€é‡æ–°å‘æ˜è½®å­ç—‡ã€å•ƒæ–‡æ¡£ç—‡ã€æŠ‘éƒã€å¤´ç–¼ã€ç”šè‡³æ­»äº¡ã€‚</p>
<p>çœ‹å§ï¼Œè¿™å°±æ˜¯ Requests çš„å¨åŠ›ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/user&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;content-type&#39;</span><span class="p">]</span>
<span class="go">&#39;application/json; charset=utf8&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;utf-8&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">u&#39;{&quot;type&quot;:&quot;User&quot;...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">{u&#39;private_gists&#39;: 419, u&#39;total_private_repos&#39;: 77, ...}</span>
</pre></div>
</div>
<p>å‚è§ <a class="reference external" href="https://gist.github.com/973705">æœªä½¿ç”¨ Requests çš„ç›¸ä¼¼ä»£ç </a>.</p>
<p>Requests å…è®¸ä½ å‘é€<strong>çº¯å¤©ç„¶ï¼Œæ¤ç‰©é¥²å…»</strong>çš„ HTTP/1.1 è¯·æ±‚ï¼Œæ— éœ€æ‰‹å·¥åŠ³åŠ¨ã€‚ä½ ä¸éœ€è¦æ‰‹åŠ¨ä¸º
URL æ·»åŠ æŸ¥è¯¢å­—ä¸²ï¼Œä¹Ÿä¸éœ€è¦å¯¹ POST æ•°æ®è¿›è¡Œè¡¨å•ç¼–ç ã€‚Keep-alive å’Œ HTTP è¿æ¥æ± çš„åŠŸèƒ½æ˜¯
100% è‡ªåŠ¨åŒ–çš„ï¼Œä¸€åˆ‡åŠ¨åŠ›éƒ½æ¥è‡ªäºæ ¹æ¤åœ¨ Requests å†…éƒ¨çš„ <a class="reference external" href="https://github.com/shazow/urllib3">urllib3</a>ã€‚</p>
<div class="section" id="id1">
<h2>ç”¨æˆ·è§è¯<a class="headerlink" href="#id1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>Twitterã€Spotifyã€Microsoftã€Amazonã€Lyftã€BuzzFeedã€Redditã€NSAã€å¥³ç‹æ®¿ä¸‹çš„æ”¿åºœã€Amazonã€Googleã€Twilioã€Mozillaã€Herokuã€PayPalã€NPRã€Obama for Americaã€Transifexã€Native Instrumentsã€Washington Postã€Twitterã€SoundCloudã€Kipptã€Readabilityã€ä»¥åŠè‹¥å¹²ä¸æ„¿å…¬å¼€èº«ä»½çš„è”é‚¦æ”¿åºœæœºæ„éƒ½åœ¨å†…éƒ¨ä½¿ç”¨ã€‚</p>
<dl class="docutils">
<dt><strong>Armin Ronacher</strong></dt>
<dd>Requests æ˜¯ä¸€ä¸ªå®Œç¾çš„ä¾‹å­ï¼Œå®ƒè¯æ˜äº†é€šè¿‡æ°åˆ°å¥½å¤„çš„æŠ½è±¡ï¼ŒAPI å¯ä»¥å†™å¾—å¤šä¹ˆä¼˜ç¾ã€‚</dd>
<dt><strong>Matt DeBoard</strong></dt>
<dd>æˆ‘è¦æƒ³ä¸ªåŠæ³•ï¼ŒæŠŠ &#64;kennethreitz å†™çš„ Python requests æ¨¡å—åšæˆçº¹èº«ã€‚ä¸€å­—ä¸æ¼ã€‚</dd>
<dt><strong>Daniel Greenfeld</strong></dt>
<dd>æ„Ÿè°¢ &#64;kennethreitz çš„ Requests åº“ï¼Œåˆšåˆšç”¨ 10 è¡Œä»£ç ç‚¸æ‰äº† 1200 è¡Œæ„å¤§åˆ©é¢ä»£ç ã€‚ä»Šå¤©çœŸæ˜¯çˆ½å‘†äº†ï¼</dd>
<dt><strong>Kenny Meyers</strong></dt>
<dd>Python HTTP: ç–‘æƒ‘ä¸å¦ï¼Œéƒ½å»ç”¨ Requests å§ã€‚ç®€å•ä¼˜ç¾ï¼Œè€Œä¸”ç¬¦åˆ Python é£æ ¼ã€‚</dd>
</dl>
</div>
<div class="section" id="id2">
<h2>åŠŸèƒ½ç‰¹æ€§<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>Requests å®Œå…¨æ»¡è¶³ä»Šæ—¥ web çš„éœ€æ±‚ã€‚</p>
<ul class="simple">
<li>Keep-Alive &amp; è¿æ¥æ± </li>
<li>å›½é™…åŒ–åŸŸåå’Œ URL</li>
<li>å¸¦æŒä¹… Cookie çš„ä¼šè¯</li>
<li>æµè§ˆå™¨å¼çš„ SSL è®¤è¯</li>
<li>è‡ªåŠ¨å†…å®¹è§£ç </li>
<li>åŸºæœ¬/æ‘˜è¦å¼çš„èº«ä»½è®¤è¯</li>
<li>ä¼˜é›…çš„ key/value Cookie</li>
<li>è‡ªåŠ¨è§£å‹</li>
<li>Unicode å“åº”ä½“</li>
<li>HTTP(S) ä»£ç†æ”¯æŒ</li>
<li>æ–‡ä»¶åˆ†å—ä¸Šä¼ </li>
<li>æµä¸‹è½½</li>
<li>è¿æ¥è¶…æ—¶</li>
<li>åˆ†å—è¯·æ±‚</li>
<li>æ”¯æŒ <code class="docutils literal"><span class="pre">.netrc</span></code></li>
</ul>
<p>Requests æ”¯æŒ Python 2.6â€”2.7ä»¥åŠ3.3â€”3.7ï¼Œè€Œä¸”èƒ½åœ¨ PyPy ä¸‹å®Œç¾è¿è¡Œã€‚</p>
</div>
<div class="section" id="id3">
<h2>ç”¨æˆ·æŒ‡å—<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¿™éƒ¨åˆ†æ–‡æ¡£æ˜¯ä»¥æ–‡å­—ä¸ºä¸»ï¼Œä» Requests çš„èƒŒæ™¯è®²èµ·ï¼Œç„¶åå¯¹ Requests çš„é‡ç‚¹åŠŸèƒ½åšäº†é€ä¸€çš„ä»‹ç»ã€‚</p>
<div class="toctree-wrapper compound">
<span id="document-user/intro"></span><div class="section" id="introduction">
<span id="id1"></span><h3>ç®€ä»‹<a class="headerlink" href="#introduction" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<div class="section" id="id2">
<h4>å¼€å‘å“²å­¦<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests æ˜¯ä»¥ <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0020"><strong>PEP 20</strong></a> çš„ç®´è¨€ä¸ºä¸­å¿ƒå¼€å‘çš„</p>
<ol class="arabic simple">
<li>Beautiful is better than ugly.(ç¾ä¸½ä¼˜äºä¸‘é™‹)</li>
<li>Explicit is better than implicit.(ç›´ç™½ä¼˜äºå«è“„)</li>
<li>Simple is better than complex.(ç®€å•ä¼˜äºå¤æ‚)</li>
<li>Complex is better than complicated.(å¤æ‚ä¼˜äºç¹ç)</li>
<li>Readability counts.(å¯è¯»æ€§å¾ˆé‡è¦)</li>
</ol>
<p>å¯¹äº Requests æ‰€æœ‰çš„è´¡çŒ®éƒ½åº”ç‰¢è®°è¿™äº›é‡è¦çš„å‡†åˆ™ã€‚</p>
</div>
<div class="section" id="apache2">
<span id="id3"></span><h4>Apache2 åè®®<a class="headerlink" href="#apache2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ç°åœ¨ä½ æ‰¾åˆ°çš„è®¸å¤šå¼€æºé¡¹ç›®éƒ½æ˜¯ä»¥ <a class="reference external" href="http://www.opensource.org/licenses/gpl-license.php">GPL åè®®</a>å‘å¸ƒçš„ã€‚è™½ç„¶ GPL æœ‰å®ƒè‡ªå·±çš„ä¸€å¸­ä¹‹åœ°ï¼Œ
ä½†åœ¨å¼€å§‹ä½ çš„ä¸‹ä¸€ä¸ªå¼€æºé¡¹ç›®æ—¶ï¼ŒGPL åº”è¯¥ä¸å†æ˜¯ä½ çš„é»˜è®¤é€‰æ‹©ã€‚</p>
<p>é¡¹ç›®å‘è¡Œäº GPL åè®®ä¹‹åï¼Œå°±ä¸èƒ½ç”¨äºä»»ä½•æœ¬èº«æ²¡å¼€æºçš„å•†ä¸šäº§å“ä¸­ã€‚</p>
<p>MITã€BSDã€ISCã€Apache2 è®¸å¯éƒ½æ˜¯ä¼˜ç§€çš„æ›¿ä»£å“ï¼Œå®ƒä»¬å…è®¸ä½ çš„å¼€æºè½¯ä»¶è‡ªç”±åº”ç”¨åœ¨ç§æœ‰é—­æºè½¯ä»¶ä¸­ã€‚</p>
<p>Requests çš„å‘å¸ƒè®¸å¯ä¸º <a class="reference external" href="http://opensource.org/licenses/Apache-2.0">Apache2 License</a>.</p>
</div>
<div class="section" id="requests">
<h4>Requests åè®®<a class="headerlink" href="#requests" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<blockquote>
<div><p>Copyright 2017 Kenneth Reitz</p>
<blockquote>
<div><p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<div><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></div></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div></blockquote>
</div></blockquote>
</div>
</div>
<span id="document-user/install"></span><div class="section" id="requests">
<span id="install"></span><h3>å®‰è£… Requests<a class="headerlink" href="#requests" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è¿™éƒ¨åˆ†æ–‡æ¡£åŒ…å«äº† Requests çš„å®‰è£…è¿‡ç¨‹ï¼Œä½¿ç”¨ä»»ä½•è½¯ä»¶çš„ç¬¬ä¸€æ­¥å°±æ˜¯æ­£ç¡®åœ°å®‰è£…å®ƒã€‚</p>
<div class="section" id="pip-install-requests">
<h4>pip install requests<a class="headerlink" href="#pip-install-requests" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>è¦å®‰è£… Requestsï¼Œåªè¦åœ¨ä½ çš„ç»ˆç«¯ä¸­è¿è¡Œè¿™ä¸ªç®€å•å‘½ä»¤å³å¯ï¼š</p>
<dl class="docutils">
<dt>::</dt>
<dd>$ pip install requests</dd>
</dl>
<p>å¦‚æœä½ æ²¡æœ‰å®‰è£… pip ï¼ˆå•§å•§ï¼‰ï¼Œè¿™ä¸ª <a class="reference external" href="http://docs.python-guide.org/en/latest/starting/installation/">Python installation guide</a>
å¯ä»¥å¸¦ä½ å®Œæˆè¿™ä¸€æµç¨‹ã€‚</p>
</div>
<div class="section" id="id1">
<h4>è·å¾—æºç <a class="headerlink" href="#id1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests ä¸€ç›´åœ¨ Github ä¸Šç§¯æåœ°å¼€å‘ï¼Œä½ å¯ä»¥ä¸€ç›´ä»<a class="reference external" href="https://github.com/requests/requests">è¿™é‡Œ</a>è·å–åˆ°ä»£ç ã€‚</p>
<p>ä½ å¯ä»¥å…‹éš†å…¬å…±ç‰ˆæœ¬åº“ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kennethreitz</span><span class="o">/</span><span class="n">requests</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>ä¹Ÿå¯ä»¥ä¸‹è½½ <a class="reference external" href="https://github.com/requests/requests/tarball/master">tarball</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ curl -OL https://github.com/requests/requests/tarball/master
# Windows ç”¨æˆ·ä¹Ÿå¯é€‰æ‹© zip åŒ…
</pre></div>
</div>
<p>è·å¾—ä»£ç ä¹‹åï¼Œä½ å°±å¯ä»¥è½»æ¾çš„å°†å®ƒåµŒå…¥åˆ°ä½ çš„ python åŒ…é‡Œï¼Œæˆ–è€…å®‰è£…åˆ°ä½ çš„ site-packages:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ cd requests
$ pip install .
</pre></div>
</div>
</div>
</div>
<span id="document-user/quickstart"></span><div class="section" id="module-requests.models">
<span id="id1"></span><span id="quickstart"></span><h3>å¿«é€Ÿä¸Šæ‰‹<a class="headerlink" href="#module-requests.models" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è¿«ä¸åŠå¾…äº†å—ï¼Ÿæœ¬é¡µå†…å®¹ä¸ºå¦‚ä½•å…¥é—¨ Requests æä¾›äº†å¾ˆå¥½çš„æŒ‡å¼•ã€‚å…¶å‡è®¾ä½ å·²ç»å®‰è£…äº† Requestsã€‚å¦‚æœè¿˜æ²¡æœ‰ï¼Œå»<a class="reference internal" href="index.html#install"><span class="std std-ref">å®‰è£…</span></a>ä¸€èŠ‚çœ‹çœ‹å§ã€‚</p>
<p>é¦–å…ˆï¼Œç¡®è®¤ä¸€ä¸‹ï¼š</p>
<ul class="simple">
<li>Requests <a class="reference internal" href="index.html#install"><span class="std std-ref">å·²å®‰è£…</span></a></li>
<li>Requests <a class="reference internal" href="index.html#updates"><span class="std std-ref">æ˜¯æœ€æ–°çš„</span></a></li>
</ul>
<p>è®©æˆ‘ä»¬ä»ä¸€äº›ç®€å•çš„ç¤ºä¾‹å¼€å§‹å§ã€‚</p>
<div class="section" id="id2">
<h4>å‘é€è¯·æ±‚<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½¿ç”¨ Requests å‘é€ç½‘ç»œè¯·æ±‚éå¸¸ç®€å•ã€‚</p>
<p>ä¸€å¼€å§‹è¦å¯¼å…¥ Requests æ¨¡å—ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
</pre></div>
</div>
<p>ç„¶åï¼Œå°è¯•è·å–æŸä¸ªç½‘é¡µã€‚æœ¬ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¥è·å– Github çš„å…¬å…±æ—¶é—´çº¿ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/timeline.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º <code class="docutils literal"><span class="pre">r</span></code> çš„ <a class="reference internal" href="index.html#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a>
å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥ä»è¿™ä¸ªå¯¹è±¡ä¸­è·å–æ‰€æœ‰æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ã€‚</p>
<p>Requests ç®€ä¾¿çš„ API æ„å‘³ç€æ‰€æœ‰ HTTP è¯·æ±‚ç±»å‹éƒ½æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·å‘é€ä¸€ä¸ª
HTTP POST è¯·æ±‚ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/post&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>æ¼‚äº®ï¼Œå¯¹å§ï¼Ÿé‚£ä¹ˆå…¶ä»– HTTP è¯·æ±‚ç±»å‹ï¼šPUTï¼ŒDELETEï¼ŒHEAD ä»¥åŠ OPTIONS åˆæ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿéƒ½æ˜¯ä¸€æ ·çš„ç®€å•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/put&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/delete&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/get&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/get&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>éƒ½å¾ˆä¸é”™å§ï¼Œä½†è¿™ä¹Ÿä»…æ˜¯ Requests çš„å†°å±±ä¸€è§’å‘¢ã€‚</p>
</div>
<div class="section" id="url">
<h4>ä¼ é€’ URL å‚æ•°<a class="headerlink" href="#url" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½ ä¹Ÿè®¸ç»å¸¸æƒ³ä¸º URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²(query string)ä¼ é€’æŸç§æ•°æ®ã€‚å¦‚æœä½ æ˜¯æ‰‹å·¥æ„å»º URLï¼Œé‚£ä¹ˆæ•°æ®ä¼šä»¥é”®/å€¼å¯¹çš„å½¢å¼ç½®äº URL ä¸­ï¼Œè·Ÿåœ¨ä¸€ä¸ªé—®å·çš„åé¢ã€‚ä¾‹å¦‚ï¼Œ <code class="docutils literal"><span class="pre">httpbin.org/get?key=val</span></code>ã€‚
Requests å…è®¸ä½ ä½¿ç”¨ <code class="docutils literal"><span class="pre">params</span></code> å…³é”®å­—å‚æ•°ï¼Œä»¥ä¸€ä¸ªå­—ç¬¦ä¸²å­—å…¸æ¥æä¾›è¿™äº›å‚æ•°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ æƒ³ä¼ é€’
<code class="docutils literal"><span class="pre">key1=value1</span></code> å’Œ <code class="docutils literal"><span class="pre">key2=value2</span></code> åˆ° <code class="docutils literal"><span class="pre">httpbin.org/get</span></code> ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="s1">&#39;value2&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/get&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
<p>é€šè¿‡æ‰“å°è¾“å‡ºè¯¥ URLï¼Œä½ èƒ½çœ‹åˆ° URL å·²è¢«æ­£ç¡®ç¼–ç ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="go">http://httpbin.org/get?key2=value2&amp;key1=value1</span>
</pre></div>
</div>
<p>æ³¨æ„å­—å…¸é‡Œå€¼ä¸º <code class="docutils literal"><span class="pre">None</span></code> çš„é”®éƒ½ä¸ä¼šè¢«æ·»åŠ åˆ° URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²é‡Œã€‚</p>
<p>ä½ è¿˜å¯ä»¥å°†ä¸€ä¸ªåˆ—è¡¨ä½œä¸ºå€¼ä¼ å…¥ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;value2&#39;</span><span class="p">,</span> <span class="s1">&#39;value3&#39;</span><span class="p">]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="go">http://httpbin.org/get?key1=value1&amp;key2=value2&amp;key2=value3</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h4>å“åº”å†…å®¹<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æˆ‘ä»¬èƒ½è¯»å–æœåŠ¡å™¨å“åº”çš„å†…å®¹ã€‚å†æ¬¡ä»¥ GitHub æ—¶é—´çº¿ä¸ºä¾‹ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/timeline.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">u&#39;[{&quot;repository&quot;:{&quot;open_issues&quot;:0,&quot;url&quot;:&quot;https://github.com/...</span>
</pre></div>
</div>
<p>Requests ä¼šè‡ªåŠ¨è§£ç æ¥è‡ªæœåŠ¡å™¨çš„å†…å®¹ã€‚å¤§å¤šæ•° unicode å­—ç¬¦é›†éƒ½èƒ½è¢«æ— ç¼åœ°è§£ç ã€‚</p>
<p>è¯·æ±‚å‘å‡ºåï¼ŒRequests ä¼šåŸºäº HTTP å¤´éƒ¨å¯¹å“åº”çš„ç¼–ç ä½œå‡ºæœ‰æ ¹æ®çš„æ¨æµ‹ã€‚å½“ä½ è®¿é—® <code class="docutils literal"><span class="pre">r.text</span></code>
ä¹‹æ—¶ï¼ŒRequests ä¼šä½¿ç”¨å…¶æ¨æµ‹çš„æ–‡æœ¬ç¼–ç ã€‚ä½ å¯ä»¥æ‰¾å‡º Requests ä½¿ç”¨äº†ä»€ä¹ˆç¼–ç ï¼Œå¹¶ä¸”èƒ½å¤Ÿä½¿ç”¨
<code class="docutils literal"><span class="pre">r.encoding</span></code> å±æ€§æ¥æ”¹å˜å®ƒï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;utf-8&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;ISO-8859-1&#39;</span>
</pre></div>
</div>
<p>å¦‚æœä½ æ”¹å˜äº†ç¼–ç ï¼Œæ¯å½“ä½ è®¿é—® <code class="docutils literal"><span class="pre">r.text</span></code> ï¼ŒRequest éƒ½å°†ä¼šä½¿ç”¨ <code class="docutils literal"><span class="pre">r.encoding</span></code>
çš„æ–°å€¼ã€‚ä½ å¯èƒ½å¸Œæœ›åœ¨ä½¿ç”¨ç‰¹æ®Šé€»è¾‘è®¡ç®—å‡ºæ–‡æœ¬çš„ç¼–ç çš„æƒ…å†µä¸‹æ¥ä¿®æ”¹ç¼–ç ã€‚æ¯”å¦‚ HTTP å’Œ XML
è‡ªèº«å¯ä»¥æŒ‡å®šç¼–ç ã€‚è¿™æ ·çš„è¯ï¼Œä½ åº”è¯¥ä½¿ç”¨ <code class="docutils literal"><span class="pre">r.content</span></code> æ¥æ‰¾åˆ°ç¼–ç ï¼Œç„¶åè®¾ç½® <code class="docutils literal"><span class="pre">r.encoding</span></code>
ä¸ºç›¸åº”çš„ç¼–ç ã€‚è¿™æ ·å°±èƒ½ä½¿ç”¨æ­£ç¡®çš„ç¼–ç è§£æ <code class="docutils literal"><span class="pre">r.text</span></code> äº†ã€‚</p>
<p>åœ¨ä½ éœ€è¦çš„æƒ…å†µä¸‹ï¼ŒRequests ä¹Ÿå¯ä»¥ä½¿ç”¨å®šåˆ¶çš„ç¼–ç ã€‚å¦‚æœä½ åˆ›å»ºäº†è‡ªå·±çš„ç¼–ç ï¼Œå¹¶ä½¿ç”¨
<code class="docutils literal"><span class="pre">codecs</span></code> æ¨¡å—è¿›è¡Œæ³¨å†Œï¼Œä½ å°±å¯ä»¥è½»æ¾åœ°ä½¿ç”¨è¿™ä¸ªè§£ç å™¨åç§°ä½œä¸º <code class="docutils literal"><span class="pre">r.encoding</span></code> çš„å€¼ï¼Œ
ç„¶åç”± Requests æ¥ä¸ºä½ å¤„ç†ç¼–ç ã€‚</p>
</div>
<div class="section" id="id4">
<h4>äºŒè¿›åˆ¶å“åº”å†…å®¹<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½ ä¹Ÿèƒ½ä»¥å­—èŠ‚çš„æ–¹å¼è®¿é—®è¯·æ±‚å“åº”ä½“ï¼Œå¯¹äºéæ–‡æœ¬è¯·æ±‚ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">content</span>
<span class="go">b&#39;[{&quot;repository&quot;:{&quot;open_issues&quot;:0,&quot;url&quot;:&quot;https://github.com/...</span>
</pre></div>
</div>
<p>Requests ä¼šè‡ªåŠ¨ä¸ºä½ è§£ç  <code class="docutils literal"><span class="pre">gzip</span></code> å’Œ <code class="docutils literal"><span class="pre">deflate</span></code> ä¼ è¾“ç¼–ç çš„å“åº”æ•°æ®ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä»¥è¯·æ±‚è¿”å›çš„äºŒè¿›åˆ¶æ•°æ®åˆ›å»ºä¸€å¼ å›¾ç‰‡ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="k">import</span> <span class="n">BytesIO</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="json">
<h4>JSON å“åº”å†…å®¹<a class="headerlink" href="#json" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests ä¸­ä¹Ÿæœ‰ä¸€ä¸ªå†…ç½®çš„ JSON è§£ç å™¨ï¼ŒåŠ©ä½ å¤„ç† JSON æ•°æ®ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/timeline.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">[{u&#39;repository&#39;: {u&#39;open_issues&#39;: 0, u&#39;url&#39;: &#39;https://github.com/...</span>
</pre></div>
</div>
<p>å¦‚æœ JSON è§£ç å¤±è´¥ï¼Œ <code class="docutils literal"><span class="pre">r.json()</span></code> å°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ä¾‹å¦‚ï¼Œå“åº”å†…å®¹æ˜¯ 401 (Unauthorized)ï¼Œå°è¯•è®¿é—® <code class="docutils literal"><span class="pre">r.json()</span></code> å°†ä¼šæŠ›å‡º <code class="docutils literal"><span class="pre">ValueError:</span> <span class="pre">No</span> <span class="pre">JSON</span> <span class="pre">object</span> <span class="pre">could</span> <span class="pre">be</span> <span class="pre">decoded</span></code> å¼‚å¸¸ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæˆåŠŸè°ƒç”¨ <code class="docutils literal"><span class="pre">r.json()</span></code> å¹¶**ä¸**æ„å‘³ç€å“åº”çš„æˆåŠŸã€‚æœ‰çš„æœåŠ¡å™¨ä¼šåœ¨å¤±è´¥çš„å“åº”ä¸­åŒ…å«ä¸€ä¸ª JSON å¯¹è±¡ï¼ˆæ¯”å¦‚ HTTP 500 çš„é”™è¯¯ç»†èŠ‚ï¼‰ã€‚è¿™ç§ JSON ä¼šè¢«è§£ç è¿”å›ã€‚è¦æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œè¯·ä½¿ç”¨ <code class="docutils literal"><span class="pre">r.raise_for_status()</span></code> æˆ–è€…æ£€æŸ¥ <code class="docutils literal"><span class="pre">r.status_code</span></code> æ˜¯å¦å’Œä½ çš„æœŸæœ›ç›¸åŒã€‚</p>
</div>
<div class="section" id="id5">
<h4>åŸå§‹å“åº”å†…å®¹<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>åœ¨ç½•è§çš„æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æƒ³è·å–æ¥è‡ªæœåŠ¡å™¨çš„åŸå§‹å¥—æ¥å­—å“åº”ï¼Œé‚£ä¹ˆä½ å¯ä»¥è®¿é—® <code class="docutils literal"><span class="pre">r.raw</span></code>ã€‚
å¦‚æœä½ ç¡®å®æƒ³è¿™ä¹ˆå¹²ï¼Œé‚£è¯·ä½ ç¡®ä¿åœ¨åˆå§‹è¯·æ±‚ä¸­è®¾ç½®äº† <code class="docutils literal"><span class="pre">stream=True</span></code>ã€‚å…·ä½“ä½ å¯ä»¥è¿™ä¹ˆåšï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/timeline.json&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">raw</span>
<span class="go">&lt;requests.packages.urllib3.response.HTTPResponse object at 0x101194810&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">&#39;\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\x03&#39;</span>
</pre></div>
</div>
<p>ä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ä»¥ä¸‹é¢çš„æ¨¡å¼å°†æ–‡æœ¬æµä¿å­˜åˆ°æ–‡ä»¶ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">):</span>
        <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
<p>ä½¿ç”¨ <code class="docutils literal"><span class="pre">Response.iter_content</span></code> å°†ä¼šå¤„ç†å¤§é‡ä½ ç›´æ¥ä½¿ç”¨ <code class="docutils literal"><span class="pre">Response.raw</span></code> ä¸å¾—ä¸å¤„ç†çš„ã€‚
å½“æµä¸‹è½½æ—¶ï¼Œä¸Šé¢æ˜¯ä¼˜å…ˆæ¨èçš„è·å–å†…å®¹æ–¹å¼ã€‚ Note that <code class="docutils literal"><span class="pre">chunk_size</span></code> can be freely adjusted to a number that
may better fit your use cases.</p>
</div>
<div class="section" id="id6">
<h4>å®šåˆ¶è¯·æ±‚å¤´<a class="headerlink" href="#id6" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœä½ æƒ³ä¸ºè¯·æ±‚æ·»åŠ  HTTP å¤´éƒ¨ï¼Œåªè¦ç®€å•åœ°ä¼ é€’ä¸€ä¸ª <code class="docutils literal"><span class="pre">dict</span></code> ç»™ <code class="docutils literal"><span class="pre">headers</span></code> å‚æ•°å°±å¯ä»¥äº†ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨å‰ä¸€ä¸ªç¤ºä¾‹ä¸­æˆ‘ä»¬æ²¡æœ‰æŒ‡å®š content-type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.github.com/some/endpoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;user-agent&#39;</span><span class="p">:</span> <span class="s1">&#39;my-app/0.0.1&#39;</span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</pre></div>
</div>
<p>æ³¨æ„: å®šåˆ¶ header çš„ä¼˜å…ˆçº§ä½äºæŸäº›ç‰¹å®šçš„ä¿¡æ¯æºï¼Œä¾‹å¦‚ï¼š</p>
<ul class="simple">
<li>å¦‚æœåœ¨ <code class="docutils literal"><span class="pre">.netrc</span></code> ä¸­è®¾ç½®äº†ç”¨æˆ·è®¤è¯ä¿¡æ¯ï¼Œä½¿ç”¨ <cite>headers=</cite> è®¾ç½®çš„æˆæƒå°±ä¸ä¼šç”Ÿæ•ˆã€‚è€Œå¦‚æœè®¾ç½®äº†
<code class="docutils literal"><span class="pre">auth=</span></code> å‚æ•°ï¼Œ``.netrc`` çš„è®¾ç½®å°±æ— æ•ˆäº†ã€‚</li>
<li>å¦‚æœè¢«é‡å®šå‘åˆ°åˆ«çš„ä¸»æœºï¼Œæˆæƒ header å°±ä¼šè¢«åˆ é™¤ã€‚</li>
<li>ä»£ç†æˆæƒ header ä¼šè¢« URL ä¸­æä¾›çš„ä»£ç†èº«ä»½è¦†ç›–æ‰ã€‚</li>
<li>åœ¨æˆ‘ä»¬èƒ½åˆ¤æ–­å†…å®¹é•¿åº¦çš„æƒ…å†µä¸‹ï¼Œheader çš„ Content-Length ä¼šè¢«æ”¹å†™ã€‚</li>
</ul>
<p>æ›´è¿›ä¸€æ­¥è®²ï¼ŒRequests ä¸ä¼šåŸºäºå®šåˆ¶ header çš„å…·ä½“æƒ…å†µæ”¹å˜è‡ªå·±çš„è¡Œä¸ºã€‚åªä¸è¿‡åœ¨æœ€åçš„è¯·æ±‚ä¸­ï¼Œæ‰€æœ‰çš„
header ä¿¡æ¯éƒ½ä¼šè¢«ä¼ é€’è¿›å»ã€‚</p>
<p>æ³¨æ„: æ‰€æœ‰çš„ header å€¼å¿…é¡»æ˜¯ <code class="docutils literal"><span class="pre">string</span></code>ã€bytestring æˆ–è€… unicodeã€‚å°½ç®¡ä¼ é€’ unicode
header ä¹Ÿæ˜¯å…è®¸çš„ï¼Œä½†ä¸å»ºè®®è¿™æ ·åšã€‚</p>
</div>
<div class="section" id="post">
<h4>æ›´åŠ å¤æ‚çš„ POST è¯·æ±‚<a class="headerlink" href="#post" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>é€šå¸¸ï¼Œä½ æƒ³è¦å‘é€ä¸€äº›ç¼–ç ä¸ºè¡¨å•å½¢å¼çš„æ•°æ®â€”â€”éå¸¸åƒä¸€ä¸ª HTML è¡¨å•ã€‚è¦å®ç°è¿™ä¸ªï¼Œåªéœ€ç®€å•åœ°ä¼ é€’ä¸€ä¸ªå­—å…¸ç»™ <cite>data</cite> å‚æ•°ã€‚ä½ çš„æ•°æ®å­—å…¸åœ¨å‘å‡ºè¯·æ±‚æ—¶ä¼šè‡ªåŠ¨ç¼–ç ä¸ºè¡¨å•å½¢å¼ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="s1">&#39;value2&#39;</span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/post&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">  ...</span>
<span class="go">  &quot;form&quot;: {</span>
<span class="go">    &quot;key2&quot;: &quot;value2&quot;,</span>
<span class="go">    &quot;key1&quot;: &quot;value1&quot;</span>
<span class="go">  },</span>
<span class="go">  ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>ä½ è¿˜å¯ä»¥ä¸º <code class="docutils literal"><span class="pre">data</span></code> å‚æ•°ä¼ å…¥ä¸€ä¸ªå…ƒç»„åˆ—è¡¨ã€‚åœ¨è¡¨å•ä¸­å¤šä¸ªå…ƒç´ ä½¿ç”¨åŒä¸€ key çš„æ—¶å€™ï¼Œè¿™ç§æ–¹å¼å°¤å…¶æœ‰æ•ˆï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">payload</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;value1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/post&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">  ...</span>
<span class="go">  &quot;form&quot;: {</span>
<span class="go">    &quot;key1&quot;: [</span>
<span class="go">      &quot;value1&quot;,</span>
<span class="go">      &quot;value2&quot;</span>
<span class="go">    ]</span>
<span class="go">  },</span>
<span class="go">  ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>å¾ˆå¤šæ—¶å€™ä½ æƒ³è¦å‘é€çš„æ•°æ®å¹¶éç¼–ç ä¸ºè¡¨å•å½¢å¼çš„ã€‚å¦‚æœä½ ä¼ é€’ä¸€ä¸ª <code class="docutils literal"><span class="pre">string</span></code> è€Œä¸æ˜¯ä¸€ä¸ª <code class="docutils literal"><span class="pre">dict</span></code>ï¼Œé‚£ä¹ˆæ•°æ®ä¼šè¢«ç›´æ¥å‘å¸ƒå‡ºå»ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒGithub API v3 æ¥å—ç¼–ç ä¸º JSON çš„ POST/PATCH æ•°æ®ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">json</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.github.com/some/endpoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;some&#39;</span><span class="p">:</span> <span class="s1">&#39;data&#39;</span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</pre></div>
</div>
<p>æ­¤å¤„é™¤äº†å¯ä»¥è‡ªè¡Œå¯¹ <code class="docutils literal"><span class="pre">dict</span></code> è¿›è¡Œç¼–ç ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ <code class="docutils literal"><span class="pre">json</span></code> å‚æ•°ç›´æ¥ä¼ é€’ï¼Œç„¶åå®ƒå°±ä¼šè¢«è‡ªåŠ¨ç¼–ç ã€‚è¿™æ˜¯ 2.4.2 ç‰ˆçš„æ–°åŠ åŠŸèƒ½ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.github.com/some/endpoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;some&#39;</span><span class="p">:</span> <span class="s1">&#39;data&#39;</span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="post-multipart-encoded">
<h4>POSTä¸€ä¸ªå¤šéƒ¨åˆ†ç¼–ç (Multipart-Encoded)çš„æ–‡ä»¶<a class="headerlink" href="#post-multipart-encoded" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests ä½¿å¾—ä¸Šä¼ å¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶å˜å¾—å¾ˆç®€å•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/post&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;report.xls&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">{</span>
<span class="go">  ...</span>
<span class="go">  &quot;files&quot;: {</span>
<span class="go">    &quot;file&quot;: &quot;&lt;censored...binary...data&gt;&quot;</span>
<span class="go">  },</span>
<span class="go">  ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>ä½ å¯ä»¥æ˜¾å¼åœ°è®¾ç½®æ–‡ä»¶åï¼Œæ–‡ä»¶ç±»å‹å’Œè¯·æ±‚å¤´ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/post&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;report.xls&#39;</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;report.xls&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">),</span> <span class="s1">&#39;application/vnd.ms-excel&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;Expires&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span><span class="p">})}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">{</span>
<span class="go">  ...</span>
<span class="go">  &quot;files&quot;: {</span>
<span class="go">    &quot;file&quot;: &quot;&lt;censored...binary...data&gt;&quot;</span>
<span class="go">  },</span>
<span class="go">  ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>å¦‚æœä½ æƒ³ï¼Œä½ ä¹Ÿå¯ä»¥å‘é€ä½œä¸ºæ–‡ä»¶æ¥æ¥æ”¶çš„å­—ç¬¦ä¸²ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/post&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;some,data,to,send</span><span class="se">\n</span><span class="s1">another,row,to,send</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">{</span>
<span class="go">  ...</span>
<span class="go">  &quot;files&quot;: {</span>
<span class="go">    &quot;file&quot;: &quot;some,data,to,send\\nanother,row,to,send\\n&quot;</span>
<span class="go">  },</span>
<span class="go">  ...</span>
<span class="go">}</span>
</pre></div>
</div>
<p>å¦‚æœä½ å‘é€ä¸€ä¸ªéå¸¸å¤§çš„æ–‡ä»¶ä½œä¸º <code class="docutils literal"><span class="pre">multipart/form-data</span></code> è¯·æ±‚ï¼Œä½ å¯èƒ½å¸Œæœ›å°†è¯·æ±‚åšæˆæ•°æ®æµã€‚é»˜è®¤ä¸‹ <code class="docutils literal"><span class="pre">requests</span></code> ä¸æ”¯æŒ, ä½†æœ‰ä¸ªç¬¬ä¸‰æ–¹åŒ… <code class="docutils literal"><span class="pre">requests-toolbelt</span></code> æ˜¯æ”¯æŒçš„ã€‚ä½ å¯ä»¥é˜…è¯»
<a class="reference external" href="https://toolbelt.rtfd.org">toolbelt æ–‡æ¡£</a> æ¥äº†è§£ä½¿ç”¨æ–¹æ³•ã€‚</p>
<p>åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­å‘é€å¤šæ–‡ä»¶å‚è€ƒ <a class="reference internal" href="index.html#advanced"><span class="std std-ref">é«˜çº§ç”¨æ³•</span></a> ä¸€èŠ‚ã€‚</p>
<div class="admonition- admonition">
<p class="first admonition-title">è­¦å‘Š</p>
<p class="last">æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ç”¨äºŒè¿›åˆ¶æ¨¡å¼(<a class="reference external" href="https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files">binary mode</a>)æ‰“å¼€æ–‡ä»¶ã€‚è¿™æ˜¯å› ä¸º Requests å¯èƒ½ä¼šè¯•å›¾ä¸ºä½ æä¾›
<code class="docutils literal"><span class="pre">Content-Length</span></code> headerï¼Œåœ¨å®ƒè¿™æ ·åšçš„æ—¶å€™ï¼Œè¿™ä¸ªå€¼ä¼šè¢«è®¾ä¸ºæ–‡ä»¶çš„å­—èŠ‚æ•°ï¼ˆ<em>bytes</em>ï¼‰ã€‚å¦‚æœç”¨æ–‡æœ¬æ¨¡å¼(text mode)æ‰“å¼€æ–‡ä»¶ï¼Œå°±å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ã€‚</p>
</div>
</div>
<div class="section" id="id7">
<h4>å“åº”çŠ¶æ€ç <a class="headerlink" href="#id7" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æˆ‘ä»¬å¯ä»¥æ£€æµ‹å“åº”çŠ¶æ€ç ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
</pre></div>
</div>
<p>ä¸ºæ–¹ä¾¿å¼•ç”¨ï¼ŒRequestsè¿˜é™„å¸¦äº†ä¸€ä¸ªå†…ç½®çš„çŠ¶æ€ç æŸ¥è¯¢å¯¹è±¡ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">ok</span>
<span class="go">True</span>
</pre></div>
</div>
<p>å¦‚æœå‘é€äº†ä¸€ä¸ªé”™è¯¯è¯·æ±‚(ä¸€ä¸ª 4XX å®¢æˆ·ç«¯é”™è¯¯ï¼Œæˆ–è€… 5XX æœåŠ¡å™¨é”™è¯¯å“åº”)ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡
<a class="reference internal" href="index.html#requests.Response.raise_for_status" title="requests.Response.raise_for_status"><code class="xref py py-meth docutils literal"><span class="pre">Response.raise_for_status()</span></code></a>
æ¥æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bad_r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/status/404&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bad_r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">404</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">bad_r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;requests/models.py&quot;</span>, line <span class="m">832</span>, in <span class="n">raise_for_status</span>
    <span class="k">raise</span> <span class="n">http_error</span>
<span class="gr">requests.exceptions.HTTPError</span>: <span class="n">404 Client Error</span>
</pre></div>
</div>
<p>ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬çš„ä¾‹å­ä¸­ <code class="docutils literal"><span class="pre">r</span></code> çš„ <code class="docutils literal"><span class="pre">status_code</span></code> æ˜¯ <code class="docutils literal"><span class="pre">200</span></code> ï¼Œå½“æˆ‘ä»¬è°ƒç”¨
<code class="docutils literal"><span class="pre">raise_for_status()</span></code> æ—¶ï¼Œå¾—åˆ°çš„æ˜¯ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<span class="go">None</span>
</pre></div>
</div>
<p>ä¸€åˆ‡éƒ½æŒºå’Œè°å“ˆã€‚</p>
</div>
<div class="section" id="id8">
<h4>å“åº”å¤´<a class="headerlink" href="#id8" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä»¥ä¸€ä¸ª Python å­—å…¸å½¢å¼å±•ç¤ºçš„æœåŠ¡å™¨å“åº”å¤´ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span>
<span class="go">{</span>
<span class="go">    &#39;content-encoding&#39;: &#39;gzip&#39;,</span>
<span class="go">    &#39;transfer-encoding&#39;: &#39;chunked&#39;,</span>
<span class="go">    &#39;connection&#39;: &#39;close&#39;,</span>
<span class="go">    &#39;server&#39;: &#39;nginx/1.0.4&#39;,</span>
<span class="go">    &#39;x-runtime&#39;: &#39;148ms&#39;,</span>
<span class="go">    &#39;etag&#39;: &#39;&quot;e1ca502697e5c9317743dc078f67693f&quot;&#39;,</span>
<span class="go">    &#39;content-type&#39;: &#39;application/json&#39;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>ä½†æ˜¯è¿™ä¸ªå­—å…¸æ¯”è¾ƒç‰¹æ®Šï¼šå®ƒæ˜¯ä»…ä¸º HTTP å¤´éƒ¨è€Œç”Ÿçš„ã€‚æ ¹æ®
<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">RFC 2616</a>ï¼Œ
HTTP å¤´éƒ¨æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»æ„å¤§å†™å½¢å¼æ¥è®¿é—®è¿™äº›å“åº”å¤´å­—æ®µï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">]</span>
<span class="go">&#39;application/json&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content-type&#39;</span><span class="p">)</span>
<span class="go">&#39;application/json&#39;</span>
</pre></div>
</div>
<p>å®ƒè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šç‚¹ï¼Œé‚£å°±æ˜¯æœåŠ¡å™¨å¯ä»¥å¤šæ¬¡æ¥å—åŒä¸€ headerï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨ä¸åŒçš„å€¼ã€‚ä½† Requests
ä¼šå°†å®ƒä»¬åˆå¹¶ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥ç”¨ä¸€ä¸ªæ˜ å°„æ¥è¡¨ç¤ºå‡ºæ¥ï¼Œå‚è§
<a class="reference external" href="http://tools.ietf.org/html/rfc7230#section-3.2">RFC 7230</a>:</p>
<blockquote>
<div><p>A recipient MAY combine multiple header fields with the same field name
into one &quot;field-name: field-value&quot; pair, without changing the semantics
of the message, by appending each subsequent field value to the combined
field value in order, separated by a comma.</p>
<p>æ¥æ”¶è€…å¯ä»¥åˆå¹¶å¤šä¸ªç›¸åŒåç§°çš„ header æ ä½ï¼ŒæŠŠå®ƒä»¬åˆä¸ºä¸€ä¸ª &quot;field-name: field-value&quot;
é…å¯¹ï¼Œå°†æ¯ä¸ªåç»­çš„æ ä½å€¼ä¾æ¬¡è¿½åŠ åˆ°åˆå¹¶çš„æ ä½å€¼ä¸­ï¼Œç”¨é€—å·éš”å¼€å³å¯ï¼Œè¿™æ ·åšä¸ä¼šæ”¹å˜ä¿¡æ¯çš„è¯­ä¹‰ã€‚</p>
</div></blockquote>
</div>
<div class="section" id="cookie">
<h4>Cookie<a class="headerlink" href="#cookie" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœæŸä¸ªå“åº”ä¸­åŒ…å«ä¸€äº› cookieï¼Œä½ å¯ä»¥å¿«é€Ÿè®¿é—®å®ƒä»¬ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://example.com/some/cookie/setting/url&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">cookies</span><span class="p">[</span><span class="s1">&#39;example_cookie_name&#39;</span><span class="p">]</span>
<span class="go">&#39;example_cookie_value&#39;</span>
</pre></div>
</div>
<p>è¦æƒ³å‘é€ä½ çš„cookiesåˆ°æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨ <code class="docutils literal"><span class="pre">cookies</span></code> å‚æ•°ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/cookies&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cookies</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">cookies_are</span><span class="o">=</span><span class="s1">&#39;working&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">cookies</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">&#39;{&quot;cookies&quot;: {&quot;cookies_are&quot;: &quot;working&quot;}}&#39;</span>
</pre></div>
</div>
<p>Cookie çš„è¿”å›å¯¹è±¡ä¸º <a class="reference internal" href="index.html#requests.cookies.RequestsCookieJar" title="requests.cookies.RequestsCookieJar"><code class="xref py py-class docutils literal"><span class="pre">RequestsCookieJar</span></code></a>ï¼Œå®ƒçš„è¡Œä¸ºå’Œå­—å…¸ç±»ä¼¼ï¼Œä½†ç•Œé¢æ›´ä¸ºå®Œæ•´ï¼Œé€‚åˆè·¨åŸŸåè·¨è·¯å¾„ä½¿ç”¨ã€‚ä½ è¿˜å¯ä»¥æŠŠ Cookie Jar ä¼ åˆ° Requests ä¸­ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jar</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">cookies</span><span class="o">.</span><span class="n">RequestsCookieJar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;tasty_cookie&#39;</span><span class="p">,</span> <span class="s1">&#39;yum&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;httpbin.org&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/cookies&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;gross_cookie&#39;</span><span class="p">,</span> <span class="s1">&#39;blech&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;httpbin.org&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/elsewhere&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/cookies&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="n">jar</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">&#39;{&quot;cookies&quot;: {&quot;tasty_cookie&quot;: &quot;yum&quot;}}&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>é‡å®šå‘ä¸è¯·æ±‚å†å²<a class="headerlink" href="#id9" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé™¤äº† HEAD, Requests ä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰é‡å®šå‘ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨å“åº”å¯¹è±¡çš„ <code class="docutils literal"><span class="pre">history</span></code> æ–¹æ³•æ¥è¿½è¸ªé‡å®šå‘ã€‚</p>
<p><a class="reference internal" href="index.html#requests.Response.history" title="requests.Response.history"><code class="xref py py-attr docutils literal"><span class="pre">Response.history</span></code></a> æ˜¯ä¸€ä¸ª
<a class="reference internal" href="index.html#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> å¯¹è±¡çš„åˆ—è¡¨ï¼Œä¸ºäº†å®Œæˆè¯·æ±‚è€Œåˆ›å»ºäº†è¿™äº›å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡åˆ—è¡¨æŒ‰ç…§ä»æœ€è€åˆ°æœ€è¿‘çš„è¯·æ±‚è¿›è¡Œæ’åºã€‚</p>
<p>ä¾‹å¦‚ï¼ŒGithub å°†æ‰€æœ‰çš„ HTTP è¯·æ±‚é‡å®šå‘åˆ° HTTPSï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://github.com&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;https://github.com/&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">history</span>
<span class="go">[&lt;Response [301]&gt;]</span>
</pre></div>
</div>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯GETã€OPTIONSã€POSTã€PUTã€PATCH æˆ–è€… DELETEï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡ <code class="docutils literal"><span class="pre">allow_redirects</span></code>
å‚æ•°ç¦ç”¨é‡å®šå‘å¤„ç†ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://github.com&#39;</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">301</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">history</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>å¦‚æœä½ ä½¿ç”¨äº† HEADï¼Œä½ ä¹Ÿå¯ä»¥å¯ç”¨é‡å®šå‘ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="s1">&#39;http://github.com&#39;</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;https://github.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">history</span>
<span class="go">[&lt;Response [301]&gt;]</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h4>è¶…æ—¶<a class="headerlink" href="#id10" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½ å¯ä»¥å‘Šè¯‰ requests åœ¨ç»è¿‡ä»¥ <code class="docutils literal"><span class="pre">timeout</span></code> å‚æ•°è®¾å®šçš„ç§’æ•°æ—¶é—´ä¹‹ååœæ­¢ç­‰å¾…å“åº”ã€‚åŸºæœ¬ä¸Šæ‰€æœ‰çš„ç”Ÿäº§ä»£ç éƒ½åº”è¯¥ä½¿ç”¨è¿™ä¸€å‚æ•°ã€‚å¦‚æœä¸ä½¿ç”¨ï¼Œä½ çš„ç¨‹åºå¯èƒ½ä¼šæ°¸è¿œå¤±å»å“åº”ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://github.com&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">requests.exceptions.Timeout</span>: <span class="n">HTTPConnectionPool(host=&#39;github.com&#39;, port=80): Request timed out. (timeout=0.001)</span>
</pre></div>
</div>
<div class="admonition- admonition">
<p class="first admonition-title">æ³¨æ„</p>
<p class="last"><code class="docutils literal"><span class="pre">timeout</span></code> ä»…å¯¹è¿æ¥è¿‡ç¨‹æœ‰æ•ˆï¼Œä¸å“åº”ä½“çš„ä¸‹è½½æ— å…³ã€‚ <code class="docutils literal"><span class="pre">timeout</span></code> å¹¶ä¸æ˜¯æ•´ä¸ªä¸‹è½½å“åº”çš„æ—¶é—´é™åˆ¶ï¼Œè€Œæ˜¯å¦‚æœæœåŠ¡å™¨åœ¨ <code class="docutils literal"><span class="pre">timeout</span></code> ç§’å†…æ²¡æœ‰åº”ç­”ï¼Œå°†ä¼šå¼•å‘ä¸€ä¸ªå¼‚å¸¸ï¼ˆæ›´ç²¾ç¡®åœ°è¯´ï¼Œæ˜¯åœ¨
<code class="docutils literal"><span class="pre">timeout</span></code> ç§’å†…æ²¡æœ‰ä»åŸºç¡€å¥—æ¥å­—ä¸Šæ¥æ”¶åˆ°ä»»ä½•å­—èŠ‚çš„æ•°æ®æ—¶ï¼‰If no timeout is specified explicitly, requests do
not time out.</p>
</div>
</div>
<div class="section" id="id11">
<h4>é”™è¯¯ä¸å¼‚å¸¸<a class="headerlink" href="#id11" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>é‡åˆ°ç½‘ç»œé—®é¢˜ï¼ˆå¦‚ï¼šDNS æŸ¥è¯¢å¤±è´¥ã€æ‹’ç»è¿æ¥ç­‰ï¼‰æ—¶ï¼ŒRequests ä¼šæŠ›å‡ºä¸€ä¸ª
<code class="xref py py-exc docutils literal"><span class="pre">ConnectionError</span></code> å¼‚å¸¸ã€‚</p>
<p>å¦‚æœ HTTP è¯·æ±‚è¿”å›äº†ä¸æˆåŠŸçš„çŠ¶æ€ç ï¼Œ <a class="reference internal" href="index.html#requests.Response.raise_for_status" title="requests.Response.raise_for_status"><code class="xref py py-meth docutils literal"><span class="pre">Response.raise_for_status()</span></code></a>
ä¼šæŠ›å‡ºä¸€ä¸ª <code class="xref py py-exc docutils literal"><span class="pre">HTTPError</span></code> å¼‚å¸¸ã€‚</p>
<p>è‹¥è¯·æ±‚è¶…æ—¶ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ª <code class="xref py py-exc docutils literal"><span class="pre">Timeout</span></code> å¼‚å¸¸ã€‚</p>
<p>è‹¥è¯·æ±‚è¶…è¿‡äº†è®¾å®šçš„æœ€å¤§é‡å®šå‘æ¬¡æ•°ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ª <code class="xref py py-exc docutils literal"><span class="pre">TooManyRedirects</span></code> å¼‚å¸¸ã€‚</p>
<p>æ‰€æœ‰Requestsæ˜¾å¼æŠ›å‡ºçš„å¼‚å¸¸éƒ½ç»§æ‰¿è‡ª <code class="xref py py-exc docutils literal"><span class="pre">requests.exceptions.RequestException</span></code> ã€‚</p>
<hr class="docutils" />
<p>å‡†å¤‡å¥½å­¦ä¹ æ›´å¤šå†…å®¹äº†å—ï¼Ÿå» <a class="reference internal" href="index.html#advanced"><span class="std std-ref">é«˜çº§ç”¨æ³•</span></a> ä¸€èŠ‚çœ‹çœ‹å§ã€‚</p>
</div>
</div>
<span id="document-user/advanced"></span><div class="section" id="advanced">
<span id="id1"></span><h3>é«˜çº§ç”¨æ³•<a class="headerlink" href="#advanced" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>æœ¬ç¯‡æ–‡æ¡£æ¶µç›–äº† Requests çš„ä¸€äº›é«˜çº§ç‰¹æ€§ã€‚</p>
<div class="section" id="session-objects">
<span id="id2"></span><h4>ä¼šè¯å¯¹è±¡<a class="headerlink" href="#session-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä¼šè¯å¯¹è±¡è®©ä½ èƒ½å¤Ÿè·¨è¯·æ±‚ä¿æŒæŸäº›å‚æ•°ã€‚å®ƒä¹Ÿä¼šåœ¨åŒä¸€ä¸ª Session å®ä¾‹å‘å‡ºçš„æ‰€æœ‰è¯·æ±‚ä¹‹é—´ä¿æŒ cookieï¼Œ
æœŸé—´ä½¿ç”¨ <code class="docutils literal"><span class="pre">urllib3</span></code> çš„ <a class="reference external" href="http://urllib3.readthedocs.io/en/latest/reference/index.html#module-urllib3.connectionpool">connection pooling</a> åŠŸèƒ½ã€‚æ‰€ä»¥å¦‚æœä½ å‘åŒä¸€ä¸»æœºå‘é€å¤šä¸ªè¯·æ±‚ï¼Œåº•å±‚çš„ TCP è¿æ¥å°†ä¼šè¢«é‡ç”¨ï¼Œä»è€Œå¸¦æ¥æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚ (å‚è§ <a class="reference external" href="https://en.wikipedia.org/wiki/HTTP_persistent_connection">HTTP persistent connection</a>).</p>
<p>ä¼šè¯å¯¹è±¡å…·æœ‰ä¸»è¦çš„ Requests API çš„æ‰€æœ‰æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬æ¥è·¨è¯·æ±‚ä¿æŒä¸€äº› cookie:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

<span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/cookies/set/sessioncookie/123456789&#39;</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://httpbin.org/cookies&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="c1"># &#39;{&quot;cookies&quot;: {&quot;sessioncookie&quot;: &quot;123456789&quot;}}&#39;</span>
</pre></div>
</div>
<p>ä¼šè¯ä¹Ÿå¯ç”¨æ¥ä¸ºè¯·æ±‚æ–¹æ³•æä¾›ç¼ºçœæ•°æ®ã€‚è¿™æ˜¯é€šè¿‡ä¸ºä¼šè¯å¯¹è±¡çš„å±æ€§æä¾›æ•°æ®æ¥å®ç°çš„ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">auth</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;x-test&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">})</span>

<span class="c1"># both &#39;x-test&#39; and &#39;x-test2&#39; are sent</span>
<span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/headers&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x-test2&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>ä»»ä½•ä½ ä¼ é€’ç»™è¯·æ±‚æ–¹æ³•çš„å­—å…¸éƒ½ä¼šä¸å·²è®¾ç½®ä¼šè¯å±‚æ•°æ®åˆå¹¶ã€‚æ–¹æ³•å±‚çš„å‚æ•°è¦†ç›–ä¼šè¯çš„å‚æ•°ã€‚</p>
<p>ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œå°±ç®—ä½¿ç”¨äº†ä¼šè¯ï¼Œæ–¹æ³•çº§åˆ«çš„å‚æ•°ä¹Ÿä¸ä¼šè¢«è·¨è¯·æ±‚ä¿æŒã€‚ä¸‹é¢çš„ä¾‹å­åªä¼šå’Œç¬¬ä¸€ä¸ªè¯·æ±‚å‘é€ cookie
ï¼Œè€Œéç¬¬äºŒä¸ªï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/cookies&#39;</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;from-my&#39;</span><span class="p">:</span> <span class="s1">&#39;browser&#39;</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="c1"># &#39;{&quot;cookies&quot;: {&quot;from-my&quot;: &quot;browser&quot;}}&#39;</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/cookies&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="c1"># &#39;{&quot;cookies&quot;: {}}&#39;</span>
</pre></div>
</div>
<p>å¦‚æœä½ è¦æ‰‹åŠ¨ä¸ºä¼šè¯æ·»åŠ  cookieï¼Œå°±ä½¿ç”¨ <a class="reference internal" href="index.html#api-cookies"><span class="std std-ref">Cookie utility å‡½æ•°</span></a> æ¥æ“çºµ
<a class="reference internal" href="index.html#requests.Session.cookies" title="requests.Session.cookies"><code class="xref py py-attr docutils literal"><span class="pre">Session.cookies</span></code></a>ã€‚</p>
<p>ä¼šè¯è¿˜å¯ä»¥ç”¨ä½œå‰åæ–‡ç®¡ç†å™¨ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/cookies/set/sessioncookie/123456789&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>è¿™æ ·å°±èƒ½ç¡®ä¿ <code class="docutils literal"><span class="pre">with</span></code> åŒºå—é€€å‡ºåä¼šè¯èƒ½è¢«å…³é—­ï¼Œå³ä½¿å‘ç”Ÿäº†å¼‚å¸¸ä¹Ÿä¸€æ ·ã€‚</p>
<div class="admonition- admonition">
<p class="first admonition-title">ä»å­—å…¸å‚æ•°ä¸­ç§»é™¤ä¸€ä¸ªå€¼</p>
<p class="last">æœ‰æ—¶ä½ ä¼šæƒ³çœç•¥å­—å…¸å‚æ•°ä¸­ä¸€äº›ä¼šè¯å±‚çš„é”®ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ åªéœ€ç®€å•åœ°åœ¨æ–¹æ³•å±‚å‚æ•°ä¸­å°†é‚£ä¸ªé”®çš„å€¼è®¾ç½®ä¸º <code class="docutils literal"><span class="pre">None</span></code> ï¼Œé‚£ä¸ªé”®å°±ä¼šè¢«è‡ªåŠ¨çœç•¥æ‰ã€‚</p>
</div>
<p>åŒ…å«åœ¨ä¸€ä¸ªä¼šè¯ä¸­çš„æ‰€æœ‰æ•°æ®ä½ éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å­¦ä¹ æ›´å¤šç»†èŠ‚è¯·é˜…è¯» <a class="reference internal" href="index.html#sessionapi"><span class="std std-ref">ä¼šè¯ API æ–‡æ¡£</span></a>ã€‚</p>
</div>
<div class="section" id="request-and-response-objects">
<span id="id3"></span><h4>è¯·æ±‚ä¸å“åº”å¯¹è±¡<a class="headerlink" href="#request-and-response-objects" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä»»ä½•æ—¶å€™è¿›è¡Œäº†ç±»ä¼¼ requests.get() çš„è°ƒç”¨ï¼Œä½ éƒ½åœ¨åšä¸¤ä»¶ä¸»è¦çš„äº‹æƒ…ã€‚å…¶ä¸€ï¼Œä½ åœ¨æ„å»ºä¸€ä¸ª <cite>Request</cite> å¯¹è±¡ï¼Œ
è¯¥å¯¹è±¡å°†è¢«å‘é€åˆ°æŸä¸ªæœåŠ¡å™¨è¯·æ±‚æˆ–æŸ¥è¯¢ä¸€äº›èµ„æºã€‚å…¶äºŒï¼Œä¸€æ—¦ <code class="docutils literal"><span class="pre">requests</span></code> å¾—åˆ°ä¸€ä¸ªä»æœåŠ¡å™¨è¿”å›çš„å“åº”å°±ä¼šäº§ç”Ÿä¸€ä¸ª <code class="docutils literal"><span class="pre">Response</span></code> å¯¹è±¡ã€‚è¯¥å“åº”å¯¹è±¡åŒ…å«æœåŠ¡å™¨è¿”å›çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¹ŸåŒ…å«ä½ åŸæ¥åˆ›å»ºçš„ <code class="docutils literal"><span class="pre">Request</span></code> å¯¹è±¡ã€‚å¦‚ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚ï¼Œä» Wikipedia çš„æœåŠ¡å™¨å¾—åˆ°ä¸€äº›éå¸¸é‡è¦çš„ä¿¡æ¯ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://en.wikipedia.org/wiki/Monty_Python&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>å¦‚æœæƒ³è®¿é—®æœåŠ¡å™¨è¿”å›ç»™æˆ‘ä»¬çš„å“åº”å¤´éƒ¨ä¿¡æ¯ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span>
<span class="go">{&#39;content-length&#39;: &#39;56170&#39;, &#39;x-content-type-options&#39;: &#39;nosniff&#39;, &#39;x-cache&#39;:</span>
<span class="go">&#39;HIT from cp1006.eqiad.wmnet, MISS from cp1010.eqiad.wmnet&#39;, &#39;content-encoding&#39;:</span>
<span class="go">&#39;gzip&#39;, &#39;age&#39;: &#39;3080&#39;, &#39;content-language&#39;: &#39;en&#39;, &#39;vary&#39;: &#39;Accept-Encoding,Cookie&#39;,</span>
<span class="go">&#39;server&#39;: &#39;Apache&#39;, &#39;last-modified&#39;: &#39;Wed, 13 Jun 2012 01:33:50 GMT&#39;,</span>
<span class="go">&#39;connection&#39;: &#39;close&#39;, &#39;cache-control&#39;: &#39;private, s-maxage=0, max-age=0,</span>
<span class="go">must-revalidate&#39;, &#39;date&#39;: &#39;Thu, 14 Jun 2012 12:59:39 GMT&#39;, &#39;content-type&#39;:</span>
<span class="go">&#39;text/html; charset=UTF-8&#39;, &#39;x-cache-lookup&#39;: &#39;HIT from cp1006.eqiad.wmnet:3128,</span>
<span class="go">MISS from cp1010.eqiad.wmnet:80&#39;}</span>
</pre></div>
</div>
<p>ç„¶è€Œï¼Œå¦‚æœæƒ³å¾—åˆ°å‘é€åˆ°æœåŠ¡å™¨çš„è¯·æ±‚çš„å¤´éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°è®¿é—®è¯¥è¯·æ±‚ï¼Œç„¶åæ˜¯è¯¥è¯·æ±‚çš„å¤´éƒ¨ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">headers</span>
<span class="go">{&#39;Accept-Encoding&#39;: &#39;identity, deflate, compress, gzip&#39;,</span>
<span class="go">&#39;Accept&#39;: &#39;*/*&#39;, &#39;User-Agent&#39;: &#39;python-requests/0.13.1&#39;}</span>
</pre></div>
</div>
</div>
<div class="section" id="prepared-request">
<span id="prepared-requests"></span><h4>å‡†å¤‡çš„è¯·æ±‚ ï¼ˆPrepared Requestï¼‰<a class="headerlink" href="#prepared-request" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å½“ä½ ä» API æˆ–è€…ä¼šè¯è°ƒç”¨ä¸­æ”¶åˆ°ä¸€ä¸ª <a class="reference internal" href="index.html#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a>
å¯¹è±¡æ—¶ï¼Œ<code class="docutils literal"><span class="pre">request</span></code> å±æ€§å…¶å®æ˜¯ä½¿ç”¨äº† <code class="docutils literal"><span class="pre">PreparedRequest</span></code>ã€‚æœ‰æ—¶åœ¨å‘é€è¯·æ±‚ä¹‹å‰ï¼Œä½ éœ€è¦å¯¹
body æˆ–è€… header ï¼ˆæˆ–è€…åˆ«çš„ä»€ä¹ˆä¸œè¥¿ï¼‰åšä¸€äº›é¢å¤–å¤„ç†ï¼Œä¸‹é¢æ¼”ç¤ºäº†ä¸€ä¸ªç®€å•çš„åšæ³•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">requests</span> <span class="k">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">Session</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="n">header</span>
<span class="p">)</span>
<span class="n">prepped</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">prepare</span><span class="p">()</span>

<span class="c1"># do something with prepped.body</span>
<span class="c1"># do something with prepped.headers</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">prepped</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
    <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
    <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span>
    <span class="n">cert</span><span class="o">=</span><span class="n">cert</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
</pre></div>
</div>
<p>ç”±äºä½ æ²¡æœ‰å¯¹ <code class="docutils literal"><span class="pre">Request</span></code> å¯¹è±¡åšä»€ä¹ˆç‰¹æ®Šäº‹æƒ…ï¼Œä½ ç«‹å³å‡†å¤‡å’Œä¿®æ”¹äº† <code class="docutils literal"><span class="pre">PreparedRequest</span></code>
å¯¹è±¡ï¼Œç„¶åæŠŠå®ƒå’Œåˆ«çš„å‚æ•°ä¸€èµ·å‘é€åˆ° <code class="docutils literal"><span class="pre">requests.*</span></code> æˆ–è€… <code class="docutils literal"><span class="pre">Session.*</span></code>ã€‚</p>
<p>ç„¶è€Œï¼Œä¸Šè¿°ä»£ç ä¼šå¤±å» Requests <a class="reference internal" href="index.html#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> å¯¹è±¡çš„ä¸€äº›ä¼˜åŠ¿ï¼Œ
å°¤å…¶ <a class="reference internal" href="index.html#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> çº§åˆ«çš„çŠ¶æ€ï¼Œä¾‹å¦‚ cookie å°±ä¸ä¼šè¢«åº”ç”¨åˆ°ä½ çš„è¯·æ±‚ä¸Šå»ã€‚è¦è·å–ä¸€ä¸ªå¸¦æœ‰çŠ¶æ€çš„ <a class="reference internal" href="index.html#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a>ï¼Œ
è¯·ç”¨ <a class="reference internal" href="index.html#requests.Session.prepare_request" title="requests.Session.prepare_request"><code class="xref py py-meth docutils literal"><span class="pre">Session.prepare_request()</span></code></a> å–ä»£
<a class="reference internal" href="index.html#requests.Request.prepare" title="requests.Request.prepare"><code class="xref py py-meth docutils literal"><span class="pre">Request.prepare()</span></code></a> çš„è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">requests</span> <span class="k">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">Session</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>  <span class="n">url</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">data</span>
    <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">)</span>

<span class="n">prepped</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">prepare_request</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>

<span class="c1"># do something with prepped.body</span>
<span class="c1"># do something with prepped.headers</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">prepped</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">,</span>
    <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
    <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span>
    <span class="n">cert</span><span class="o">=</span><span class="n">cert</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ssl">
<span id="verification"></span><h4>SSL è¯ä¹¦éªŒè¯<a class="headerlink" href="#ssl" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests å¯ä»¥ä¸º HTTPS è¯·æ±‚éªŒè¯ SSL è¯ä¹¦ï¼Œå°±åƒ web æµè§ˆå™¨ä¸€æ ·ã€‚SSL éªŒè¯é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œå¦‚æœè¯ä¹¦éªŒè¯å¤±è´¥ï¼ŒRequests ä¼šæŠ›å‡º SSLError:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://requestb.in&#39;</span><span class="p">)</span>
<span class="go">requests.exceptions.SSLError: hostname &#39;requestb.in&#39; doesn&#39;t match either of &#39;*.herokuapp.com&#39;, &#39;herokuapp.com&#39;</span>
</pre></div>
</div>
<p>åœ¨è¯¥åŸŸåä¸Šæˆ‘æ²¡æœ‰è®¾ç½® SSLï¼Œæ‰€ä»¥å¤±è´¥äº†ã€‚ä½† Github è®¾ç½®äº† SSL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>ä½ å¯ä»¥ä¸º <code class="docutils literal"><span class="pre">verify</span></code> ä¼ å…¥ CA_BUNDLE æ–‡ä»¶çš„è·¯å¾„ï¼Œæˆ–è€…åŒ…å«å¯ä¿¡ä»» CA è¯ä¹¦æ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="s1">&#39;/path/to/certfile&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>æˆ–è€…å°†å…¶ä¿æŒåœ¨ä¼šè¯ä¸­ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">verify</span> <span class="o">=</span> <span class="s1">&#39;/path/to/certfile&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">æ³¨è§£</p>
<p class="last">å¦‚æœ <code class="docutils literal"><span class="pre">verify</span></code> è®¾ä¸ºæ–‡ä»¶å¤¹è·¯å¾„ï¼Œæ–‡ä»¶å¤¹å¿…é¡»é€šè¿‡ OpenSSL æä¾›çš„ c_rehash å·¥å…·å¤„ç†ã€‚</p>
</div>
<p>ä½ è¿˜å¯ä»¥é€šè¿‡ <code class="docutils literal"><span class="pre">REQUESTS_CA_BUNDLE</span></code> ç¯å¢ƒå˜é‡å®šä¹‰å¯ä¿¡ä»» CA åˆ—è¡¨ã€‚</p>
<p>å¦‚æœä½ å°† <code class="docutils literal"><span class="pre">verify</span></code> è®¾ç½®ä¸º Falseï¼ŒRequests ä¹Ÿèƒ½å¿½ç•¥å¯¹ SSL è¯ä¹¦çš„éªŒè¯ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://kennethreitz.org&#39;</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ <code class="docutils literal"><span class="pre">verify</span></code> æ˜¯è®¾ç½®ä¸º True çš„ã€‚é€‰é¡¹ <code class="docutils literal"><span class="pre">verify</span></code> ä»…åº”ç”¨äºä¸»æœºè¯ä¹¦ã€‚</p>
<p># å¯¹äºç§æœ‰è¯ä¹¦ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ª CA_BUNDLE æ–‡ä»¶çš„è·¯å¾„ç»™ <code class="docutils literal"><span class="pre">verify</span></code>ã€‚ä½ ä¹Ÿå¯ä»¥è®¾ç½®
# <code class="docutils literal"><span class="pre">REQUEST_CA_BUNDLE</span></code> ç¯å¢ƒå˜é‡ã€‚</p>
</div>
<div class="section" id="id4">
<h4>å®¢æˆ·ç«¯è¯ä¹¦<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½ ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªæœ¬åœ°è¯ä¹¦ç”¨ä½œå®¢æˆ·ç«¯è¯ä¹¦ï¼Œå¯ä»¥æ˜¯å•ä¸ªæ–‡ä»¶ï¼ˆåŒ…å«å¯†é’¥å’Œè¯ä¹¦ï¼‰æˆ–ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ–‡ä»¶è·¯å¾„çš„å…ƒç»„ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://kennethreitz.org&#39;</span><span class="p">,</span> <span class="n">cert</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;/path/client.cert&#39;</span><span class="p">,</span> <span class="s1">&#39;/path/client.key&#39;</span><span class="p">))</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>æˆ–è€…ä¿æŒåœ¨ä¼šè¯ä¸­ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">cert</span> <span class="o">=</span> <span class="s1">&#39;/path/client.cert&#39;</span>
</pre></div>
</div>
<p>å¦‚æœä½ æŒ‡å®šäº†ä¸€ä¸ªé”™è¯¯è·¯å¾„æˆ–ä¸€ä¸ªæ— æ•ˆçš„è¯ä¹¦:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://kennethreitz.org&#39;</span><span class="p">,</span> <span class="n">cert</span><span class="o">=</span><span class="s1">&#39;/wrong_path/client.pem&#39;</span><span class="p">)</span>
<span class="go">SSLError: [Errno 336265225] _ssl.c:347: error:140B0009:SSL routines:SSL_CTX_use_PrivateKey_file:PEM lib</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">è­¦å‘Š</p>
<p>è­¦å‘Š</p>
<p class="last">æœ¬åœ°è¯ä¹¦çš„ç§æœ‰ key å¿…é¡»æ˜¯è§£å¯†çŠ¶æ€ã€‚ç›®å‰ï¼ŒRequests ä¸æ”¯æŒä½¿ç”¨åŠ å¯†çš„ keyã€‚</p>
</div>
</div>
<div class="section" id="ca">
<span id="ca-certificates"></span><h4>CA è¯ä¹¦<a class="headerlink" href="#ca" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests é»˜è®¤é™„å¸¦äº†ä¸€å¥—å®ƒä¿¡ä»»çš„æ ¹è¯ä¹¦ï¼Œæ¥è‡ªäº <a class="reference external" href="https://hg.mozilla.org/mozilla-central/raw-file/tip/security/nss/lib/ckfw/builtins/certdata.txt">Mozilla trust store</a>ã€‚ç„¶è€Œå®ƒä»¬åœ¨æ¯æ¬¡
Requests æ›´æ–°æ—¶æ‰ä¼šæ›´æ–°ã€‚è¿™æ„å‘³ç€å¦‚æœä½ å›ºå®šä½¿ç”¨æŸä¸€ç‰ˆæœ¬çš„ Requestsï¼Œä½ çš„è¯ä¹¦æœ‰å¯èƒ½å·²ç»
å¤ªæ—§äº†ã€‚</p>
<p>ä» Requests 2.4.0 ç‰ˆä¹‹åï¼Œå¦‚æœç³»ç»Ÿä¸­è£…äº† <a class="reference external" href="http://certifi.io/">certifi</a>  åŒ…ï¼ŒRequests ä¼šè¯•å›¾ä½¿ç”¨å®ƒé‡Œè¾¹çš„
è¯ä¹¦ã€‚è¿™æ ·ç”¨æˆ·å°±å¯ä»¥åœ¨ä¸ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹æ›´æ–°ä»–ä»¬çš„å¯ä¿¡ä»»è¯ä¹¦ã€‚</p>
<p>ä¸ºäº†å®‰å…¨èµ·è§ï¼Œæˆ‘ä»¬å»ºè®®ä½ ç»å¸¸æ›´æ–° certifiï¼</p>
</div>
<div class="section" id="body-content-workflow">
<span id="id5"></span><h4>å“åº”ä½“å†…å®¹å·¥ä½œæµ<a class="headerlink" href="#body-content-workflow" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä½ è¿›è¡Œç½‘ç»œè¯·æ±‚åï¼Œå“åº”ä½“ä¼šç«‹å³è¢«ä¸‹è½½ã€‚ä½ å¯ä»¥é€šè¿‡ <code class="docutils literal"><span class="pre">stream</span></code> å‚æ•°è¦†ç›–è¿™ä¸ªè¡Œä¸ºï¼Œæ¨è¿Ÿä¸‹è½½å“åº”ä½“ç›´åˆ°è®¿é—® <a class="reference internal" href="index.html#requests.Response.content" title="requests.Response.content"><code class="xref py py-attr docutils literal"><span class="pre">Response.content</span></code></a> å±æ€§ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tarball_url</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/kennethreitz/requests/tarball/master&#39;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tarball_url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>æ­¤æ—¶ä»…æœ‰å“åº”å¤´è¢«ä¸‹è½½ä¸‹æ¥äº†ï¼Œè¿æ¥ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå› æ­¤å…è®¸æˆ‘ä»¬æ ¹æ®æ¡ä»¶è·å–å†…å®¹ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;content-length&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">TOO_LONG</span><span class="p">:</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">content</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>ä½ å¯ä»¥è¿›ä¸€æ­¥ä½¿ç”¨ <a class="reference internal" href="index.html#requests.Response.iter_content" title="requests.Response.iter_content"><code class="xref py py-class docutils literal"><span class="pre">Response.iter_content</span></code></a>
å’Œ <a class="reference internal" href="index.html#requests.Response.iter_lines" title="requests.Response.iter_lines"><code class="xref py py-class docutils literal"><span class="pre">Response.iter_lines</span></code></a>
æ–¹æ³•æ¥æ§åˆ¶å·¥ä½œæµï¼Œæˆ–è€…ä»¥ <a class="reference internal" href="index.html#requests.Response.raw" title="requests.Response.raw"><code class="xref py py-class docutils literal"><span class="pre">Response.raw</span></code></a>
ä»åº•å±‚ urllib3 çš„ <code class="xref py py-class docutils literal"><span class="pre">urllib3.HTTPResponse</span> <span class="pre">&lt;urllib3.response.HTTPResponse</span></code> è¯»å–æœªè§£ç çš„ç›¸åº”ä½“ã€‚</p>
<p>å¦‚æœä½ åœ¨è¯·æ±‚ä¸­æŠŠ <code class="docutils literal"><span class="pre">stream</span></code> è®¾ä¸º <code class="docutils literal"><span class="pre">True</span></code>ï¼ŒRequests æ— æ³•å°†è¿æ¥é‡Šæ”¾å›è¿æ¥æ± ï¼Œé™¤éä½ 
æ¶ˆè€—äº†æ‰€æœ‰çš„æ•°æ®ï¼Œæˆ–è€…è°ƒç”¨äº† <a class="reference internal" href="index.html#requests.Response.close" title="requests.Response.close"><code class="xref py py-class docutils literal"><span class="pre">Response.close</span></code></a>ã€‚
è¿™æ ·ä¼šå¸¦æ¥è¿æ¥æ•ˆç‡ä½ä¸‹çš„é—®é¢˜ã€‚å¦‚æœä½ å‘ç°ä½ åœ¨ä½¿ç”¨ <code class="docutils literal"><span class="pre">stream=True</span></code> çš„åŒæ—¶è¿˜åœ¨éƒ¨åˆ†è¯»å–è¯·æ±‚çš„
bodyï¼ˆæˆ–è€…å®Œå…¨æ²¡æœ‰è¯»å– bodyï¼‰ï¼Œé‚£ä¹ˆä½ å°±åº”è¯¥è€ƒè™‘ä½¿ç”¨ with è¯­å¥å‘é€è¯·æ±‚ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è¯·æ±‚ä¸€å®šä¼šè¢«å…³é—­ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
    <span class="c1"># åœ¨æ­¤å¤„ç†å“åº”ã€‚</span>
</pre></div>
</div>
</div>
<div class="section" id="keep-alive">
<span id="id7"></span><h4>ä¿æŒæ´»åŠ¨çŠ¶æ€ï¼ˆæŒä¹…è¿æ¥ï¼‰<a class="headerlink" href="#keep-alive" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¥½æ¶ˆæ¯â€”â€”å½’åŠŸäº urllib3ï¼ŒåŒä¸€ä¼šè¯å†…çš„æŒä¹…è¿æ¥æ˜¯å®Œå…¨è‡ªåŠ¨å¤„ç†çš„ï¼åŒä¸€ä¼šè¯å†…ä½ å‘å‡ºçš„ä»»ä½•è¯·æ±‚éƒ½ä¼šè‡ªåŠ¨å¤ç”¨æ°å½“çš„è¿æ¥ï¼</p>
<p>æ³¨æ„ï¼šåªæœ‰æ‰€æœ‰çš„å“åº”ä½“æ•°æ®è¢«è¯»å–å®Œæ¯•è¿æ¥æ‰ä¼šè¢«é‡Šæ”¾ä¸ºè¿æ¥æ± ï¼›æ‰€ä»¥ç¡®ä¿å°† <code class="docutils literal"><span class="pre">stream</span></code>
è®¾ç½®ä¸º <code class="docutils literal"><span class="pre">False</span></code> æˆ–è¯»å– <code class="docutils literal"><span class="pre">Response</span></code> å¯¹è±¡çš„ <code class="docutils literal"><span class="pre">content</span></code> å±æ€§ã€‚</p>
</div>
<div class="section" id="streaming-uploads">
<span id="id8"></span><h4>æµå¼ä¸Šä¼ <a class="headerlink" href="#streaming-uploads" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requestsæ”¯æŒæµå¼ä¸Šä¼ ï¼Œè¿™å…è®¸ä½ å‘é€å¤§çš„æ•°æ®æµæˆ–æ–‡ä»¶è€Œæ— éœ€å…ˆæŠŠå®ƒä»¬è¯»å…¥å†…å­˜ã€‚è¦ä½¿ç”¨æµå¼ä¸Šä¼ ï¼Œä»…éœ€ä¸ºä½ çš„è¯·æ±‚ä½“æä¾›ä¸€ä¸ªç±»æ–‡ä»¶å¯¹è±¡å³å¯ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;massive-body&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;http://some.url/streamed&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">è­¦å‘Š</p>
<p>è­¦å‘Š</p>
<p class="last">æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆ<a class="reference external" href="https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files">binary mode</a>ï¼‰æ‰“å¼€æ–‡ä»¶ã€‚è¿™æ˜¯å› ä¸º requests å¯èƒ½ä¼šä¸ºä½ æä¾› header
ä¸­çš„ <code class="docutils literal"><span class="pre">Content-Length</span></code>ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹è¯¥å€¼ä¼šè¢«è®¾ä¸ºæ–‡ä»¶çš„<strong>å­—èŠ‚æ•°</strong>ã€‚å¦‚æœä½ ç”¨<strong>æ–‡æœ¬æ¨¡å¼</strong>æ‰“å¼€æ–‡ä»¶ï¼Œå°±å¯èƒ½ç¢°åˆ°é”™è¯¯ã€‚</p>
</div>
</div>
<div class="section" id="chunk-encoding">
<span id="id9"></span><h4>å—ç¼–ç è¯·æ±‚<a class="headerlink" href="#chunk-encoding" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¯¹äºå‡ºå»å’Œè¿›æ¥çš„è¯·æ±‚ï¼ŒRequests ä¹Ÿæ”¯æŒåˆ†å—ä¼ è¾“ç¼–ç ã€‚è¦å‘é€ä¸€ä¸ªå—ç¼–ç çš„è¯·æ±‚ï¼Œä»…éœ€ä¸ºä½ çš„è¯·æ±‚ä½“æä¾›ä¸€ä¸ªç”Ÿæˆå™¨ï¼ˆæˆ–ä»»æ„æ²¡æœ‰å…·ä½“é•¿åº¦çš„è¿­ä»£å™¨ï¼‰ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">gen</span><span class="p">():</span>
    <span class="k">yield</span> <span class="s1">&#39;hi&#39;</span>
    <span class="k">yield</span> <span class="s1">&#39;there&#39;</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;http://some.url/chunked&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">gen</span><span class="p">())</span>
</pre></div>
</div>
<p>å¯¹äºåˆ†å—çš„ç¼–ç è¯·æ±‚ï¼Œæˆ‘ä»¬æœ€å¥½ä½¿ç”¨ <code class="xref py py-meth docutils literal"><span class="pre">Response.iter_content()</span></code>
å¯¹å…¶æ•°æ®è¿›è¡Œè¿­ä»£ã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œä½ çš„ request ä¼šè®¾ç½® <code class="docutils literal"><span class="pre">stream=True</span></code>ï¼Œè¿™æ ·ä½ å°±å¯ä»¥é€šè¿‡è°ƒç”¨
<code class="docutils literal"><span class="pre">iter_content</span></code> å¹¶å°†åˆ†å—å¤§å°å‚æ•°è®¾ä¸º <code class="docutils literal"><span class="pre">None</span></code>ï¼Œä»è€Œè¿›è¡Œåˆ†å—çš„è¿­ä»£ã€‚å¦‚æœä½ è¦è®¾ç½®åˆ†å—çš„æœ€å¤§ä½“ç§¯ï¼Œä½ å¯ä»¥æŠŠåˆ†å—å¤§å°å‚æ•°è®¾ä¸ºä»»æ„æ•´æ•°ã€‚</p>
</div>
<div class="section" id="post">
<span id="multipart"></span><h4>POST å¤šä¸ªåˆ†å—ç¼–ç çš„æ–‡ä»¶<a class="headerlink" href="#post" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½ å¯ä»¥åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­å‘é€å¤šä¸ªæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ è¦ä¸Šä¼ å¤šä¸ªå›¾åƒæ–‡ä»¶åˆ°ä¸€ä¸ª HTML è¡¨å•ï¼Œä½¿ç”¨ä¸€ä¸ªå¤šæ–‡ä»¶ field å«åš &quot;images&quot;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;images&quot;</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="n">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>è¦å®ç°ï¼Œåªè¦æŠŠæ–‡ä»¶è®¾åˆ°ä¸€ä¸ªå…ƒç»„çš„åˆ—è¡¨ä¸­ï¼Œå…¶ä¸­å…ƒç»„ç»“æ„ä¸º <code class="docutils literal"><span class="pre">(form_field_name,</span> <span class="pre">file_info)</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/post&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multiple_files</span> <span class="o">=</span> <span class="p">[</span>
<span class="go">        (&#39;images&#39;, (&#39;foo.png&#39;, open(&#39;foo.png&#39;, &#39;rb&#39;), &#39;image/png&#39;)),</span>
<span class="go">        (&#39;images&#39;, (&#39;bar.png&#39;, open(&#39;bar.png&#39;, &#39;rb&#39;), &#39;image/png&#39;))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">multiple_files</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">{</span>
<span class="go">  ...</span>
<span class="go">  &#39;files&#39;: {&#39;images&#39;: &#39;data:image/png;base64,iVBORw ....&#39;}</span>
<span class="go">  &#39;Content-Type&#39;: &#39;multipart/form-data; boundary=3131623adb2043caaeb5538cc7aa0b3a&#39;,</span>
<span class="go">  ...</span>
<span class="go">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">è­¦å‘Š</p>
<p>è­¦å‘Š</p>
<p class="last">æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆ<a class="reference external" href="https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files">binary mode</a>ï¼‰æ‰“å¼€æ–‡ä»¶ã€‚è¿™æ˜¯å› ä¸º requests å¯èƒ½ä¼šä¸ºä½ æä¾› header
ä¸­çš„ <code class="docutils literal"><span class="pre">Content-Length</span></code>ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹è¯¥å€¼ä¼šè¢«è®¾ä¸ºæ–‡ä»¶çš„<strong>å­—èŠ‚æ•°</strong>ã€‚å¦‚æœä½ ç”¨<strong>æ–‡æœ¬æ¨¡å¼</strong>æ‰“å¼€æ–‡ä»¶ï¼Œå°±å¯èƒ½ç¢°åˆ°é”™è¯¯ã€‚</p>
</div>
</div>
<div class="section" id="event-hooks">
<span id="id11"></span><h4>äº‹ä»¶æŒ‚é’©<a class="headerlink" href="#event-hooks" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requestsæœ‰ä¸€ä¸ªé’©å­ç³»ç»Ÿï¼Œä½ å¯ä»¥ç”¨æ¥æ“æ§éƒ¨åˆ†è¯·æ±‚è¿‡ç¨‹ï¼Œæˆ–ä¿¡å·äº‹ä»¶å¤„ç†ã€‚</p>
<p>å¯ç”¨çš„é’©å­:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">response</span></code>:</dt>
<dd>ä»ä¸€ä¸ªè¯·æ±‚äº§ç”Ÿçš„å“åº”</dd>
</dl>
<p>ä½ å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª <code class="docutils literal"><span class="pre">{hook_name:</span> <span class="pre">callback_function}</span></code> å­—å…¸ç»™ <code class="docutils literal"><span class="pre">hooks</span></code> è¯·æ±‚å‚æ•°ä¸ºæ¯ä¸ªè¯·æ±‚åˆ†é…ä¸€ä¸ªé’©å­å‡½æ•°ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hooks</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="n">print_url</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">callback_function</span></code> ä¼šæ¥å—ä¸€ä¸ªæ•°æ®å—ä½œä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_url</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
<p>è‹¥æ‰§è¡Œä½ çš„å›è°ƒå‡½æ•°æœŸé—´å‘ç”Ÿé”™è¯¯ï¼Œç³»ç»Ÿä¼šç»™å‡ºä¸€ä¸ªè­¦å‘Šã€‚</p>
<p>è‹¥å›è°ƒå‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼Œé»˜è®¤ä»¥è¯¥å€¼æ›¿æ¢ä¼ è¿›æ¥çš„æ•°æ®ã€‚è‹¥å‡½æ•°æœªè¿”å›ä»»ä½•ä¸œè¥¿ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…¶ä»–çš„å½±å“ã€‚</p>
<p>æˆ‘ä»¬æ¥åœ¨è¿è¡ŒæœŸé—´æ‰“å°ä¸€äº›è¯·æ±‚æ–¹æ³•çš„å‚æ•°ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org&#39;</span><span class="p">,</span> <span class="n">hooks</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="n">print_url</span><span class="p">))</span>
<span class="go">http://httpbin.org</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-auth">
<span id="id12"></span><h4>è‡ªå®šä¹‰èº«ä»½éªŒè¯<a class="headerlink" href="#custom-auth" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests å…è®¸ä½ ä½¿ç”¨è‡ªå·±æŒ‡å®šçš„èº«ä»½éªŒè¯æœºåˆ¶ã€‚</p>
<p>ä»»ä½•ä¼ é€’ç»™è¯·æ±‚æ–¹æ³•çš„ <code class="docutils literal"><span class="pre">auth</span></code> å‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œåœ¨è¯·æ±‚å‘å‡ºä¹‹å‰éƒ½æœ‰æœºä¼šä¿®æ”¹è¯·æ±‚ã€‚</p>
<p>è‡ªå®šä¹‰çš„èº«ä»½éªŒè¯æœºåˆ¶æ˜¯ä½œä¸º <code class="docutils literal"><span class="pre">requests.auth.AuthBase</span></code> çš„å­ç±»æ¥å®ç°çš„ï¼Œä¹Ÿéå¸¸å®¹æ˜“å®šä¹‰ã€‚Requests
åœ¨ <code class="docutils literal"><span class="pre">requests.auth</span></code> ä¸­æä¾›äº†ä¸¤ç§å¸¸è§çš„çš„èº«ä»½éªŒè¯æ–¹æ¡ˆï¼š <code class="docutils literal"><span class="pre">HTTPBasicAuth</span></code> å’Œ <code class="docutils literal"><span class="pre">HTTPDigestAuth</span></code> ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªwebæœåŠ¡ï¼Œä»…åœ¨ <code class="docutils literal"><span class="pre">X-Pizza</span></code> å¤´è¢«è®¾ç½®ä¸ºä¸€ä¸ªå¯†ç å€¼çš„æƒ…å†µä¸‹æ‰ä¼šæœ‰å“åº”ã€‚è™½ç„¶è¿™ä¸å¤ªå¯èƒ½ï¼Œä½†å°±ä»¥å®ƒä¸ºä¾‹å¥½äº†ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">requests.auth</span> <span class="k">import</span> <span class="n">AuthBase</span>

<span class="k">class</span> <span class="nc">PizzaAuth</span><span class="p">(</span><span class="n">AuthBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Attaches HTTP Pizza Authentication to the given Request object.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="c1"># setup any auth-related data here</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
        <span class="c1"># modify and return the request</span>
        <span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;X-Pizza&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span>
        <span class="k">return</span> <span class="n">r</span>
</pre></div>
</div>
<p>ç„¶åå°±å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„PizzaAuthæ¥è¿›è¡Œç½‘ç»œè¯·æ±‚:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://pizzabin.org/admin&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">PizzaAuth</span><span class="p">(</span><span class="s1">&#39;kenneth&#39;</span><span class="p">))</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="streaming-requests">
<span id="id13"></span><h4>æµå¼è¯·æ±‚<a class="headerlink" href="#streaming-requests" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½¿ç”¨ <a class="reference internal" href="index.html#requests.Response.iter_lines" title="requests.Response.iter_lines"><code class="xref py py-meth docutils literal"><span class="pre">Response.iter_lines()</span></code></a> ä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹æµå¼ API
ï¼ˆä¾‹å¦‚ <a class="reference external" href="https://dev.twittercom/docs/streaming-api">Twitter çš„æµå¼ API</a> ï¼‰
è¿›è¡Œè¿­ä»£ã€‚ç®€å•åœ°è®¾ç½® <code class="docutils literal"><span class="pre">stream</span></code> ä¸º <code class="docutils literal"><span class="pre">True</span></code> ä¾¿å¯ä»¥ä½¿ç”¨ <a class="reference internal" href="index.html#requests.Response.iter_lines" title="requests.Response.iter_lines"><code class="xref py py-meth docutils literal"><span class="pre">iter_lines</span></code></a>
å¯¹ç›¸åº”è¿›è¡Œè¿­ä»£ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/stream/20&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_lines</span><span class="p">():</span>

    <span class="c1"># filter out keep-alive new lines</span>
    <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
        <span class="n">decoded_line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">decoded_line</span><span class="p">))</span>
</pre></div>
</div>
<p>å½“ä½¿ç”¨ <cite>decode_unicode=True</cite> åœ¨
<a class="reference internal" href="index.html#requests.Response.iter_lines" title="requests.Response.iter_lines"><code class="xref py py-meth docutils literal"><span class="pre">Response.iter_lines()</span></code></a> æˆ–
<a class="reference internal" href="index.html#requests.Response.iter_content" title="requests.Response.iter_content"><code class="xref py py-meth docutils literal"><span class="pre">Response.iter_content()</span></code></a> ä¸­æ—¶ï¼Œä½ éœ€è¦æä¾›ä¸€ä¸ªå›é€€ç¼–ç æ–¹å¼ï¼Œä»¥é˜²æœåŠ¡å™¨æ²¡æœ‰æä¾›é»˜è®¤å›é€€ç¼–ç ï¼Œä»è€Œå¯¼è‡´é”™è¯¯ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/stream/20&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">r</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_lines</span><span class="p">(</span><span class="n">decode_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">è­¦å‘Š</p>
<p>è­¦å‘Š</p>
<p><a class="reference internal" href="index.html#requests.Response.iter_lines" title="requests.Response.iter_lines"><code class="xref py py-meth docutils literal"><span class="pre">iter_lines</span></code></a> ä¸ä¿è¯é‡è¿›å…¥æ—¶çš„å®‰å…¨æ€§ã€‚å¤šæ¬¡è°ƒç”¨è¯¥æ–¹æ³•
ä¼šå¯¼è‡´éƒ¨åˆ†æ”¶åˆ°çš„æ•°æ®ä¸¢å¤±ã€‚å¦‚æœä½ è¦åœ¨å¤šå¤„è°ƒç”¨å®ƒï¼Œå°±åº”è¯¥ä½¿ç”¨ç”Ÿæˆçš„è¿­ä»£å™¨å¯¹è±¡:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_lines</span><span class="p">()</span>
<span class="c1"># ä¿å­˜ç¬¬ä¸€è¡Œä»¥ä¾›åé¢ä½¿ç”¨ï¼Œæˆ–è€…ç›´æ¥è·³è¿‡</span>

<span class="n">first_line</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="proxies">
<span id="id14"></span><h4>ä»£ç†<a class="headerlink" href="#proxies" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœéœ€è¦ä½¿ç”¨ä»£ç†ï¼Œä½ å¯ä»¥é€šè¿‡ä¸ºä»»æ„è¯·æ±‚æ–¹æ³•æä¾› <code class="docutils literal"><span class="pre">proxies</span></code> å‚æ•°æ¥é…ç½®å•ä¸ªè¯·æ±‚:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;http&quot;</span><span class="p">:</span> <span class="s2">&quot;http://10.10.1.10:3128&quot;</span><span class="p">,</span>
  <span class="s2">&quot;https&quot;</span><span class="p">:</span> <span class="s2">&quot;http://10.10.1.10:1080&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://example.org&quot;</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">)</span>
</pre></div>
</div>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ <code class="docutils literal"><span class="pre">HTTP_PROXY</span></code> å’Œ <code class="docutils literal"><span class="pre">HTTPS_PROXY</span></code> æ¥é…ç½®ä»£ç†ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ export HTTP_PROXY=&quot;http://10.10.1.10:3128&quot;
$ export HTTPS_PROXY=&quot;http://10.10.1.10:1080&quot;

$ python
&gt;&gt;&gt; import requests
&gt;&gt;&gt; requests.get(&quot;http://example.org&quot;)
</pre></div>
</div>
<p>è‹¥ä½ çš„ä»£ç†éœ€è¦ä½¿ç”¨HTTP Basic Authï¼Œå¯ä»¥ä½¿ç”¨ <cite>http://user:password&#64;host/</cite> è¯­æ³•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;http&quot;</span><span class="p">:</span> <span class="s2">&quot;http://user:pass@10.10.1.10:3128/&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>è¦ä¸ºæŸä¸ªç‰¹å®šçš„è¿æ¥æ–¹å¼æˆ–è€…ä¸»æœºè®¾ç½®ä»£ç†ï¼Œä½¿ç”¨ <cite>scheme://hostname</cite> ä½œä¸º keyï¼Œ
å®ƒä¼šé’ˆå¯¹æŒ‡å®šçš„ä¸»æœºå’Œè¿æ¥æ–¹å¼è¿›è¡ŒåŒ¹é…ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;http://10.20.1.128&#39;</span><span class="p">:</span> <span class="s1">&#39;http://10.10.1.10:5323&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>æ³¨æ„ï¼Œä»£ç† URL å¿…é¡»åŒ…å«è¿æ¥æ–¹å¼ã€‚</p>
<div class="section" id="socks">
<h5>SOCKS<a class="headerlink" href="#socks" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<div class="versionadded">
<p><span class="versionmodified">2.10.0 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<p>é™¤äº†åŸºæœ¬çš„ HTTP ä»£ç†ï¼ŒRequest è¿˜æ”¯æŒ SOCKS åè®®çš„ä»£ç†ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰åŠŸèƒ½ï¼Œè‹¥è¦ä½¿ç”¨ï¼Œ
ä½ éœ€è¦å®‰è£…ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p>ä½ å¯ä»¥ç”¨ <code class="docutils literal"><span class="pre">pip</span></code> è·å–ä¾èµ–:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install requests<span class="o">[</span>socks<span class="o">]</span>
</pre></div>
</div>
<p>å®‰è£…å¥½ä¾èµ–ä»¥åï¼Œä½¿ç”¨ SOCKS ä»£ç†å’Œä½¿ç”¨ HTTP ä»£ç†ä¸€æ ·ç®€å•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;http&#39;</span><span class="p">:</span> <span class="s1">&#39;socks5://user:pass@host:port&#39;</span><span class="p">,</span>
    <span class="s1">&#39;https&#39;</span><span class="p">:</span> <span class="s1">&#39;socks5://user:pass@host:port&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="compliance">
<span id="id15"></span><h4>åˆè§„æ€§<a class="headerlink" href="#compliance" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests ç¬¦åˆæ‰€æœ‰ç›¸å…³çš„è§„èŒƒå’Œ RFCï¼Œè¿™æ ·ä¸ä¼šä¸ºç”¨æˆ·é€ æˆä¸å¿…è¦çš„å›°éš¾ã€‚ä½†è¿™ç§å¯¹è§„èŒƒçš„è€ƒè™‘å¯¼è‡´ä¸€äº›è¡Œä¸ºå¯¹äºä¸ç†Ÿæ‚‰ç›¸å…³è§„èŒƒçš„äººæ¥è¯´çœ‹ä¼¼æœ‰ç‚¹å¥‡æ€ªã€‚</p>
<div class="section" id="id16">
<h5>ç¼–ç æ–¹å¼<a class="headerlink" href="#id16" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>å½“ä½ æ”¶åˆ°ä¸€ä¸ªå“åº”æ—¶ï¼ŒRequests ä¼šçŒœæµ‹å“åº”çš„ç¼–ç æ–¹å¼ï¼Œç”¨äºåœ¨ä½ è°ƒç”¨ <a class="reference internal" href="index.html#requests.Response.text" title="requests.Response.text"><code class="xref py py-attr docutils literal"><span class="pre">Response.text</span></code></a> æ–¹æ³•æ—¶å¯¹å“åº”è¿›è¡Œè§£ç ã€‚Requests é¦–å…ˆåœ¨ HTTP
å¤´éƒ¨æ£€æµ‹æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ç¼–ç æ–¹å¼ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šä½¿ç”¨
<a class="reference external" href="http://pypi.python.org/pypi/charade">charade</a> æ¥å°è¯•çŒœæµ‹ç¼–ç æ–¹å¼ã€‚</p>
<p>åªæœ‰å½“ HTTP å¤´éƒ¨ä¸å­˜åœ¨æ˜ç¡®æŒ‡å®šçš„å­—ç¬¦é›†ï¼Œå¹¶ä¸” <code class="docutils literal"><span class="pre">Content-Type</span></code> å¤´éƒ¨å­—æ®µåŒ…å« <code class="docutils literal"><span class="pre">text</span></code> å€¼ä¹‹æ—¶ï¼Œ
Requests æ‰ä¸å»çŒœæµ‹ç¼–ç æ–¹å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ
<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7.1">RFC 2616</a>
æŒ‡å®šé»˜è®¤å­—ç¬¦é›†å¿…é¡»æ˜¯ <code class="docutils literal"><span class="pre">ISO-8859-1</span></code> ã€‚Requests éµä»è¿™ä¸€è§„èŒƒã€‚å¦‚æœä½ éœ€è¦ä¸€ç§ä¸åŒçš„ç¼–ç æ–¹å¼ï¼Œä½ å¯ä»¥æ‰‹åŠ¨è®¾ç½® <a class="reference internal" href="index.html#requests.Response.encoding" title="requests.Response.encoding"><code class="xref py py-attr docutils literal"><span class="pre">Response.encoding</span></code></a> å±æ€§ï¼Œæˆ–ä½¿ç”¨åŸå§‹çš„
<a class="reference internal" href="index.html#requests.Response.content" title="requests.Response.content"><code class="xref py py-attr docutils literal"><span class="pre">Response.content</span></code></a>ã€‚</p>
</div>
</div>
<div class="section" id="http">
<span id="http-verbs"></span><h4>HTTPåŠ¨è¯<a class="headerlink" href="#http" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests æä¾›äº†å‡ ä¹æ‰€æœ‰HTTPåŠ¨è¯çš„åŠŸèƒ½ï¼šGETã€OPTIONSã€HEADã€POSTã€PUTã€PATCHã€DELETEã€‚ä»¥ä¸‹å†…å®¹ä¸ºä½¿ç”¨ Requests ä¸­çš„è¿™äº›åŠ¨è¯ä»¥åŠ Github API æä¾›äº†è¯¦ç»†ç¤ºä¾‹ã€‚</p>
<p>æˆ‘å°†ä»æœ€å¸¸ä½¿ç”¨çš„åŠ¨è¯ GET å¼€å§‹ã€‚HTTP GET æ˜¯ä¸€ä¸ªå¹‚ç­‰æ–¹æ³•ï¼Œä»ç»™å®šçš„ URL è¿”å›ä¸€ä¸ªèµ„æºã€‚å› è€Œï¼Œå½“ä½ è¯•å›¾ä»ä¸€ä¸ª web ä½ç½®è·å–æ•°æ®ä¹‹æ—¶ï¼Œä½ åº”è¯¥ä½¿ç”¨è¿™ä¸ªåŠ¨è¯ã€‚ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹æ˜¯å°è¯•ä» Github ä¸Šè·å–å…³äºä¸€ä¸ªç‰¹å®š commit çš„ä¿¡æ¯ã€‚å‡è®¾æˆ‘ä»¬æƒ³è·å– Requests çš„ commit <code class="docutils literal"><span class="pre">a050faf</span></code> çš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å»åšï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/requests/requests/git/commits/a050faf084662f3a352dd1a941f2c7c9f886d4ad&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>æˆ‘ä»¬åº”è¯¥ç¡®è®¤ GitHub æ˜¯å¦æ­£ç¡®å“åº”ã€‚å¦‚æœæ­£ç¡®å“åº”ï¼Œæˆ‘ä»¬æƒ³å¼„æ¸…å“åº”å†…å®¹æ˜¯ä»€ä¹ˆç±»å‹çš„ã€‚åƒè¿™æ ·å»åšï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">ok</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;content-type&#39;</span><span class="p">]</span>
<span class="gp">...</span>
<span class="go">application/json; charset=utf-8</span>
</pre></div>
</div>
<p>å¯è§ï¼ŒGitHub è¿”å›äº† JSON æ•°æ®ï¼Œéå¸¸å¥½ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ <code class="docutils literal"><span class="pre">r.json</span></code> æ–¹æ³•æŠŠè¿™ä¸ªè¿”å›çš„æ•°æ®è§£ææˆ
Python å¯¹è±¡ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">commit_data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">commit_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[u&#39;committer&#39;, u&#39;author&#39;, u&#39;url&#39;, u&#39;tree&#39;, u&#39;sha&#39;, u&#39;parents&#39;, u&#39;message&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">commit_data</span><span class="p">[</span><span class="sa">u</span><span class="s1">&#39;committer&#39;</span><span class="p">]</span>
<span class="go">{u&#39;date&#39;: u&#39;2012-05-10T11:10:50-07:00&#39;, u&#39;email&#39;: u&#39;me@kennethreitz.com&#39;, u&#39;name&#39;: u&#39;Kenneth Reitz&#39;}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">commit_data</span><span class="p">[</span><span class="sa">u</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
<span class="go">makin&#39; history</span>
</pre></div>
</div>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€åˆ‡éƒ½éå¸¸ç®€å•ã€‚å—¯ï¼Œæˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹ GitHub çš„ APIã€‚æˆ‘ä»¬å¯ä»¥å»çœ‹çœ‹æ–‡æ¡£ï¼Œä½†å¦‚æœä½¿ç”¨ Requests æ¥ç ”ç©¶ä¹Ÿè®¸ä¼šæ›´æœ‰æ„æ€ä¸€ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ© Requests çš„ OPTIONS
åŠ¨è¯æ¥çœ‹çœ‹æˆ‘ä»¬åˆšä½¿ç”¨è¿‡çš„ url æ”¯æŒå“ªäº› HTTP æ–¹æ³•ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verbs</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbs</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">500</span>
</pre></div>
</div>
<p>é¢ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿæ¯«æ— å¸®åŠ©å˜›ï¼åŸæ¥ GitHubï¼Œä¸è®¸å¤š API æä¾›æ–¹ä¸€æ ·ï¼Œå®é™…ä¸Šå¹¶æœªå®ç°
OPTIONS æ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªæ¼äººçš„ç–å¿½ï¼Œä½†æ²¡å…³ç³»ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¯ç‡¥çš„æ–‡æ¡£ã€‚ç„¶è€Œï¼Œå¦‚æœ
GitHub æ­£ç¡®å®ç°äº† OPTIONSï¼Œé‚£ä¹ˆæœåŠ¡å™¨åº”è¯¥åœ¨å“åº”å¤´ä¸­è¿”å›å…è®¸ç”¨æˆ·ä½¿ç”¨çš„ HTTP æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">verbs</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s1">&#39;http://a-good-website.com/api/cats&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">verbs</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;allow&#39;</span><span class="p">]</span>
<span class="go">GET,HEAD,POST,OPTIONS</span>
</pre></div>
</div>
<p>è½¬è€Œå»æŸ¥çœ‹æ–‡æ¡£ï¼Œæˆ‘ä»¬çœ‹åˆ°å¯¹äºæäº¤ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªå…è®¸çš„æ–¹æ³•æ˜¯ POSTï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ Requests ä»£ç åº“ï¼Œæˆ‘ä»¬åº”å°½å¯èƒ½é¿å…å¯¹å®ƒå‘é€ç¬¨æ‹™çš„ POSTã€‚ä½œä¸ºæ›¿ä»£ï¼Œæˆ‘ä»¬æ¥ç©ç© GitHub çš„ Issue ç‰¹æ€§ã€‚</p>
<p>æœ¬ç¯‡æ–‡æ¡£æ˜¯å›åº” <a class="reference external" href="https://github.com/requests/requests/issues/482">Issue #482</a>
è€Œæ·»åŠ çš„ã€‚é‰´äºè¯¥é—®é¢˜å·²ç»å­˜åœ¨ï¼Œæˆ‘ä»¬å°±ä»¥å®ƒä¸ºä¾‹ã€‚å…ˆè·å–å®ƒã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/requests/kennethreitz/requests/issues/482&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">issue</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">issue</span><span class="p">[</span><span class="sa">u</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
<span class="go">Feature any http verb in docs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">issue</span><span class="p">[</span><span class="sa">u</span><span class="s1">&#39;comments&#39;</span><span class="p">])</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Coolï¼Œæœ‰ 3 ä¸ªè¯„è®ºã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æœ€åä¸€ä¸ªè¯„è®ºã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="sa">u</span><span class="s1">&#39;/comments&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comments</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">comments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[u&#39;body&#39;, u&#39;url&#39;, u&#39;created_at&#39;, u&#39;updated_at&#39;, u&#39;user&#39;, u&#39;id&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">comments</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="sa">u</span><span class="s1">&#39;body&#39;</span><span class="p">]</span>
<span class="go">Probably in the &quot;advanced&quot; section</span>
</pre></div>
</div>
<p>å—¯ï¼Œé‚£çœ‹èµ·æ¥ä¼¼ä¹æ˜¯ä¸ªæ„šè ¢ä¹‹å¤„ã€‚æˆ‘ä»¬å‘è¡¨ä¸ªè¯„è®ºæ¥å‘Šè¯‰è¿™ä¸ªè¯„è®ºè€…ä»–è‡ªå·±çš„æ„šè ¢ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªè¯„è®ºè€…æ˜¯è°å‘¢ï¼Ÿ</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">comments</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="sa">u</span><span class="s1">&#39;user&#39;</span><span class="p">][</span><span class="sa">u</span><span class="s1">&#39;login&#39;</span><span class="p">]</span>
<span class="go">kennethreitz</span>
</pre></div>
</div>
<p>å¥½ï¼Œæˆ‘ä»¬æ¥å‘Šè¯‰è¿™ä¸ªå« Kenneth çš„å®¶ä¼™ï¼Œè¿™ä¸ªä¾‹å­åº”è¯¥æ”¾åœ¨å¿«é€Ÿä¸Šæ‰‹æŒ‡å—ä¸­ã€‚æ ¹æ® GitHub API
æ–‡æ¡£ï¼Œå…¶æ–¹æ³•æ˜¯ POST åˆ°è¯¥è¯é¢˜ã€‚æˆ‘ä»¬æ¥è¯•è¯•çœ‹ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="sa">u</span><span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="sa">u</span><span class="s2">&quot;Sounds great! I&#39;ll get right on it!&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">&quot;https://api.github.com/repos/requests/requests/issues/482/comments&quot;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">404</span>
</pre></div>
</div>
<p>é¢ï¼Œè¿™æœ‰ç‚¹å¤æ€ªå“ˆã€‚å¯èƒ½æˆ‘ä»¬éœ€è¦éªŒè¯èº«ä»½ã€‚é‚£å°±æœ‰ç‚¹çº ç»“äº†ï¼Œå¯¹å§ï¼Ÿä¸å¯¹ã€‚Requests
ç®€åŒ–äº†å¤šç§èº«ä»½éªŒè¯å½¢å¼çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬éå¸¸å¸¸è§çš„ Basic Authã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">requests.auth</span> <span class="k">import</span> <span class="n">HTTPBasicAuth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="s1">&#39;fake@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;not_a_real_password&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">201</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">[</span><span class="sa">u</span><span class="s1">&#39;body&#39;</span><span class="p">])</span>
<span class="go">Sounds great! I&#39;ll get right on it.</span>
</pre></div>
</div>
<p>å¤ªæ£’äº†ï¼å™¢ï¼Œä¸ï¼æˆ‘åŸæœ¬æ˜¯æƒ³è¯´ç­‰æˆ‘ä¸€ä¼šï¼Œå› ä¸ºæˆ‘å¾—å»å–‚æˆ‘çš„çŒ«ã€‚å¦‚æœæˆ‘èƒ½å¤Ÿç¼–è¾‘è¿™æ¡è¯„è®ºé‚£å°±å¥½äº†ï¼å¹¸è¿çš„æ˜¯ï¼ŒGitHub å…è®¸æˆ‘ä»¬ä½¿ç”¨å¦ä¸€ä¸ª HTTP åŠ¨è¯ PATCH æ¥ç¼–è¾‘è¯„è®ºã€‚æˆ‘ä»¬æ¥è¯•è¯•ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">[</span><span class="sa">u</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
<span class="go">5804413</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="sa">u</span><span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="sa">u</span><span class="s2">&quot;Sounds great! I&#39;ll get right on it once I feed my cat.&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">&quot;https://api.github.com/repos/requests/requests/issues/comments/5804413&quot;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
</pre></div>
</div>
<p>éå¸¸å¥½ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æŠ˜ç£¨ä¸€ä¸‹è¿™ä¸ªå« Kenneth çš„å®¶ä¼™ï¼Œæˆ‘å†³å®šè¦è®©ä»–æ€¥å¾—å›¢å›¢è½¬ï¼Œä¹Ÿä¸å‘Šè¯‰ä»–æ˜¯æˆ‘åœ¨æ£è›‹ã€‚è¿™æ„å‘³ç€æˆ‘æƒ³åˆ é™¤è¿™æ¡è¯„è®ºã€‚GitHub å…è®¸æˆ‘ä»¬ä½¿ç”¨å®Œå…¨åå‰¯å…¶å®çš„ DELETE æ–¹æ³•æ¥åˆ é™¤è¯„è®ºã€‚æˆ‘ä»¬æ¥æ¸…é™¤è¯¥è¯„è®ºã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">204</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span>
<span class="go">&#39;204 No Content&#39;</span>
</pre></div>
</div>
<p>å¾ˆå¥½ã€‚ä¸è§äº†ã€‚æœ€åä¸€ä»¶æˆ‘æƒ³çŸ¥é“çš„äº‹æƒ…æ˜¯æˆ‘å·²ç»ä½¿ç”¨äº†å¤šå°‘é™é¢ï¼ˆratelimitï¼‰ã€‚æŸ¥æŸ¥çœ‹ï¼ŒGitHub
åœ¨å“åº”å¤´éƒ¨å‘é€è¿™ä¸ªä¿¡æ¯ï¼Œå› æ­¤ä¸å¿…ä¸‹è½½æ•´ä¸ªç½‘é¡µï¼Œæˆ‘å°†ä½¿ç”¨ä¸€ä¸ª HEAD è¯·æ±‚æ¥è·å–å“åº”å¤´ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span><span class="o">.</span><span class="n">headers</span>
<span class="gp">...</span>
<span class="go">&#39;x-ratelimit-remaining&#39;: &#39;4995&#39;</span>
<span class="go">&#39;x-ratelimit-limit&#39;: &#39;5000&#39;</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>å¾ˆå¥½ã€‚æ˜¯æ—¶å€™å†™ä¸ª Python ç¨‹åºä»¥å„ç§åˆºæ¿€çš„æ–¹å¼æ»¥ç”¨ GitHub çš„ APIï¼Œè¿˜å¯ä»¥ä½¿ç”¨ 4995 æ¬¡å‘¢ã€‚</p>
</div>
<div class="section" id="id17">
<h4>å®šåˆ¶åŠ¨è¯<a class="headerlink" href="#id17" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æœ‰æ—¶å€™ä½ ä¼šç¢°åˆ°ä¸€äº›æœåŠ¡å™¨ï¼Œå¤„äºæŸäº›åŸå› ï¼Œå®ƒä»¬å…è®¸æˆ–è€…è¦æ±‚ç”¨æˆ·ä½¿ç”¨ä¸Šè¿° HTTP åŠ¨è¯ä¹‹å¤–çš„å®šåˆ¶åŠ¨è¯ã€‚æ¯”å¦‚è¯´ WEBDAV æœåŠ¡å™¨ä¼šè¦æ±‚ä½ ä½¿ç”¨ MKCOL æ–¹æ³•ã€‚åˆ«æ‹…å¿ƒï¼ŒRequests ä¸€æ ·å¯ä»¥æå®šå®ƒä»¬ã€‚ä½ å¯ä»¥ä½¿ç”¨å†…å»ºçš„ <code class="docutils literal"><span class="pre">.request</span></code> æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s1">&#39;MKCOL&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200 # Assuming your call was correct</span>
</pre></div>
</div>
<p>è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨æœåŠ¡å™¨è¦æ±‚çš„ä»»æ„æ–¹æ³•åŠ¨è¯äº†ã€‚</p>
</div>
<div class="section" id="link-headers">
<span id="id18"></span><h4>å“åº”å¤´é“¾æ¥å­—æ®µ<a class="headerlink" href="#link-headers" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>è®¸å¤š HTTP API éƒ½æœ‰å“åº”å¤´é“¾æ¥å­—æ®µçš„ç‰¹æ€§ï¼Œå®ƒä»¬ä½¿å¾— API èƒ½å¤Ÿæ›´å¥½åœ°è‡ªæˆ‘æè¿°å’Œè‡ªæˆ‘æ˜¾éœ²ã€‚</p>
<p>GitHub åœ¨ API ä¸­ä¸º <a class="reference external" href="http://developer.github.com/v3/#pagination">åˆ†é¡µ</a> ä½¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œä¾‹å¦‚:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.github.com/users/kennethreitz/repos?page=1&amp;per_page=10&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;link&#39;</span><span class="p">]</span>
<span class="go">&#39;&lt;https://api.github.com/users/kennethreitz/repos?page=2&amp;per_page=10&gt;; rel=&quot;next&quot;, &lt;https://api.github.com/users/kennethreitz/repos?page=6&amp;per_page=10&gt;; rel=&quot;last&quot;&#39;</span>
</pre></div>
</div>
<p>Requests ä¼šè‡ªåŠ¨è§£æè¿™äº›å“åº”å¤´é“¾æ¥å­—æ®µï¼Œå¹¶ä½¿å¾—å®ƒä»¬éå¸¸æ˜“äºä½¿ç”¨:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]</span>
<span class="go">{&#39;url&#39;: &#39;https://api.github.com/users/kennethreitz/repos?page=2&amp;per_page=10&#39;, &#39;rel&#39;: &#39;next&#39;}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">links</span><span class="p">[</span><span class="s2">&quot;last&quot;</span><span class="p">]</span>
<span class="go">{&#39;url&#39;: &#39;https://api.github.com/users/kennethreitz/repos?page=7&amp;per_page=10&#39;, &#39;rel&#39;: &#39;last&#39;}</span>
</pre></div>
</div>
</div>
<div class="section" id="transport-adapters">
<span id="id20"></span><h4>ä¼ è¾“é€‚é…å™¨<a class="headerlink" href="#transport-adapters" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä» v1.0.0 ä»¥åï¼ŒRequests çš„å†…éƒ¨é‡‡ç”¨äº†æ¨¡å—åŒ–è®¾è®¡ã€‚éƒ¨åˆ†åŸå› æ˜¯ä¸ºäº†å®ç°ä¼ è¾“é€‚é…å™¨ï¼ˆTransport Adapterï¼‰ï¼Œä½ å¯ä»¥çœ‹çœ‹å…³äºå®ƒçš„<a class="reference external" href="http://www.kennethreitz.org/essays/the-future-of-python-http">æœ€æ—©æè¿°</a>ã€‚ä¼ è¾“é€‚é…å™¨æä¾›äº†ä¸€ä¸ªæœºåˆ¶ï¼Œè®©ä½ å¯ä»¥ä¸º HTTP æœåŠ¡å®šä¹‰äº¤äº’æ–¹æ³•ã€‚å°¤å…¶æ˜¯å®ƒå…è®¸ä½ åº”ç”¨æœåŠ¡å‰çš„é…ç½®ã€‚</p>
<p>Requests è‡ªå¸¦äº†ä¸€ä¸ªä¼ è¾“é€‚é…å™¨ï¼Œä¹Ÿå°±æ˜¯ <a class="reference internal" href="index.html#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>ã€‚
è¿™ä¸ªé€‚é…å™¨ä½¿ç”¨äº†å¼ºå¤§çš„ <a class="reference external" href="https://github.com/shazow/urllib3">urllib3</a>ï¼Œä¸º Requests æä¾›äº†é»˜è®¤çš„ HTTP å’Œ HTTPS äº¤äº’ã€‚æ¯å½“ <a class="reference internal" href="index.html#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> è¢«åˆå§‹åŒ–ï¼Œå°±ä¼šæœ‰é€‚é…å™¨é™„ç€åœ¨ <a class="reference internal" href="index.html#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>
ä¸Šï¼Œå…¶ä¸­ä¸€ä¸ªä¾› HTTP ä½¿ç”¨ï¼Œå¦ä¸€ä¸ªä¾› HTTPS ä½¿ç”¨ã€‚</p>
<p>Request å…è®¸ç”¨æˆ·åˆ›å»ºå’Œä½¿ç”¨ä»–ä»¬è‡ªå·±çš„ä¼ è¾“é€‚é…å™¨ï¼Œå®ç°ä»–ä»¬éœ€è¦çš„ç‰¹æ®ŠåŠŸèƒ½ã€‚åˆ›å»ºå¥½ä»¥åï¼Œä¼ è¾“é€‚é…å™¨å¯ä»¥è¢«åŠ è½½åˆ°ä¸€ä¸ªä¼šè¯å¯¹è±¡ä¸Šï¼Œé™„å¸¦ç€ä¸€ä¸ªè¯´æ˜ï¼Œå‘Šè¯‰ä¼šè¯é€‚é…å™¨åº”è¯¥åº”ç”¨åœ¨å“ªä¸ª web
æœåŠ¡ä¸Šã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;http://www.github.com&#39;</span><span class="p">,</span> <span class="n">MyAdapter</span><span class="p">())</span>
</pre></div>
</div>
<p>è¿™ä¸ª mount è°ƒç”¨ä¼šæ³¨å†Œä¸€ä¸ªä¼ è¾“é€‚é…å™¨çš„ç‰¹å®šå®ä¾‹åˆ°ä¸€ä¸ªå‰ç¼€ä¸Šé¢ã€‚åŠ è½½ä»¥åï¼Œä»»ä½•ä½¿ç”¨è¯¥ä¼šè¯çš„ HTTP
è¯·æ±‚ï¼Œåªè¦å…¶ URL æ˜¯ä»¥ç»™å®šçš„å‰ç¼€å¼€å¤´ï¼Œè¯¥ä¼ è¾“é€‚é…å™¨å°±ä¼šè¢«ä½¿ç”¨åˆ°ã€‚</p>
<p>ä¼ è¾“é€‚é…å™¨çš„ä¼—å¤šå®ç°ç»†èŠ‚ä¸åœ¨æœ¬æ–‡æ¡£çš„è¦†ç›–èŒƒå›´å†…ï¼Œä¸è¿‡ä½ å¯ä»¥çœ‹çœ‹æ¥ä¸‹æ¥è¿™ä¸ªç®€å•çš„ SSL
ç”¨ä¾‹ã€‚æ›´å¤šçš„ç”¨æ³•ï¼Œä½ ä¹Ÿè®¸è¯¥è€ƒè™‘ä¸º <a class="reference internal" href="index.html#requests.adapters.BaseAdapter" title="requests.adapters.BaseAdapter"><code class="xref py py-class docutils literal"><span class="pre">BaseAdapter</span></code></a> åˆ›å»ºå­ç±»ã€‚</p>
<div class="section" id="id21">
<h5>ç¤ºä¾‹: æŒ‡å®šçš„ SSL ç‰ˆæœ¬<a class="headerlink" href="#id21" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>Requests å¼€å‘å›¢é˜Ÿåˆ»æ„æŒ‡å®šäº†å†…éƒ¨åº“ï¼ˆ<a class="reference external" href="https://github.com/shazow/urllib3">urllib3</a>ï¼‰çš„é»˜è®¤ SSL ç‰ˆæœ¬ã€‚ä¸€èˆ¬æƒ…å†µä¸‹è¿™æ ·åšæ²¡æœ‰é—®é¢˜ï¼Œä¸è¿‡æ˜¯ä¸æ˜¯ä½ å¯èƒ½ä¼šéœ€è¦è¿æ¥åˆ°ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œè€Œè¯¥èŠ‚ç‚¹ä½¿ç”¨äº†å’Œé»˜è®¤ä¸åŒçš„ SSL ç‰ˆæœ¬ã€‚</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¼ è¾“é€‚é…å™¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡åˆ©ç”¨ HTTPAdapter ç°æœ‰çš„å¤§éƒ¨åˆ†å®ç°ï¼Œå†åŠ ä¸Šä¸€ä¸ª
<em>ssl_version</em> å‚æ•°å¹¶å°†å®ƒä¼ é€’åˆ° <code class="docutils literal"><span class="pre">urllib3</span></code> ä¸­ã€‚æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªä¼ è¾“é€‚é…å™¨ï¼Œç”¨æ¥å‘Šè¯‰
<code class="docutils literal"><span class="pre">urllib3</span></code> è®©å®ƒä½¿ç”¨ SSLv3ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ssl</span>

<span class="kn">from</span> <span class="nn">requests.adapters</span> <span class="k">import</span> <span class="n">HTTPAdapter</span>
<span class="kn">from</span> <span class="nn">requests.packages.urllib3.poolmanager</span> <span class="k">import</span> <span class="n">PoolManager</span>


<span class="k">class</span> <span class="nc">Ssl3HttpAdapter</span><span class="p">(</span><span class="n">HTTPAdapter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;&quot;Transport adapter&quot; that allows us to use SSLv3.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">init_poolmanager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connections</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">,</span> <span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">poolmanager</span> <span class="o">=</span> <span class="n">PoolManager</span><span class="p">(</span><span class="n">num_pools</span><span class="o">=</span><span class="n">connections</span><span class="p">,</span>
                                       <span class="n">maxsize</span><span class="o">=</span><span class="n">maxsize</span><span class="p">,</span>
                                       <span class="n">block</span><span class="o">=</span><span class="n">block</span><span class="p">,</span>
                                       <span class="n">ssl_version</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_SSLv3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="blocking-or-nonblocking">
<span id="id23"></span><h4>é˜»å¡å’Œéé˜»å¡<a class="headerlink" href="#blocking-or-nonblocking" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä½¿ç”¨é»˜è®¤çš„ä¼ è¾“é€‚é…å™¨ï¼ŒRequests ä¸æä¾›ä»»ä½•å½¢å¼çš„éé˜»å¡ IOã€‚
<a class="reference internal" href="index.html#requests.Response.content" title="requests.Response.content"><code class="xref py py-attr docutils literal"><span class="pre">Response.content</span></code></a> å±æ€§ä¼šé˜»å¡ï¼Œç›´åˆ°æ•´ä¸ªå“åº”ä¸‹è½½å®Œæˆã€‚å¦‚æœä½ éœ€è¦æ›´å¤šç²¾ç»†æ§åˆ¶ï¼Œè¯¥åº“çš„æ•°æ®æµåŠŸèƒ½ï¼ˆè§ <a class="reference internal" href="#streaming-requests"><span class="std std-ref">æµå¼è¯·æ±‚</span></a>ï¼‰
å…è®¸ä½ æ¯æ¬¡æ¥å—å°‘é‡çš„ä¸€éƒ¨åˆ†å“åº”ï¼Œä¸è¿‡è¿™äº›è°ƒç”¨ä¾ç„¶æ˜¯é˜»å¡å¼çš„ã€‚</p>
<p>å¦‚æœä½ å¯¹äºé˜»å¡å¼ IO æœ‰æ‰€é¡¾è™‘ï¼Œè¿˜æœ‰å¾ˆå¤šé¡¹ç›®å¯ä»¥ä¾›ä½ ä½¿ç”¨ï¼Œå®ƒä»¬ç»“åˆäº† Requests å’Œ Python
çš„æŸä¸ªå¼‚æ­¥æ¡†æ¶ã€‚å…¸å‹çš„ä¼˜ç§€ä¾‹å­æ˜¯ <a class="reference external" href="https://github.com/kennethreitz/grequests">grequests</a> å’Œ <a class="reference external" href="https://github.com/ross/requests-futures">requests-futures</a>ã€‚</p>
</div>
<div class="section" id="header">
<h4>Header æ’åº<a class="headerlink" href="#header" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ä½ ä¹Ÿè®¸éœ€è¦æŒ‰ç…§æ¬¡åºæ¥æä¾› headerï¼Œå¦‚æœä½ å‘ <code class="docutils literal"><span class="pre">headers</span></code> å…³é”®å­—å‚æ•°ä¼ å…¥ä¸€ä¸ª
<code class="docutils literal"><span class="pre">OrderedDict</span></code>ï¼Œå°±å¯ä»¥å‘æä¾›ä¸€ä¸ªå¸¦æ’åºçš„ headerã€‚<strong>ç„¶è€Œ</strong>ï¼ŒRequests ä½¿ç”¨çš„é»˜è®¤
header çš„æ¬¡åºä¼šè¢«ä¼˜å…ˆé€‰æ‹©ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åœ¨ <code class="docutils literal"><span class="pre">headers</span></code> å…³é”®å­—å‚æ•°ä¸­è¦†ç›–äº†é»˜è®¤ headerï¼Œå’Œå…³é”®å­—å‚æ•°ä¸­åˆ«çš„ header ç›¸æ¯”ï¼Œå®ƒä»¬ä¹Ÿè®¸çœ‹ä¸Šå»ä¼šæ˜¯æ¬¡åºé”™è¯¯çš„ã€‚</p>
<p>å¦‚æœè¿™ä¸ªå¯¹ä½ æ¥è¯´æ˜¯ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆç”¨æˆ·åº”è¯¥è€ƒè™‘åœ¨ <a class="reference internal" href="index.html#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>
å¯¹è±¡ä¸Šé¢è®¾ç½®é»˜è®¤ headerï¼Œåªè¦å°† <a class="reference internal" href="index.html#requests.Session.headers" title="requests.Session.headers"><code class="xref py py-data docutils literal"><span class="pre">Session</span></code></a>
è®¾ä¸ºä¸€ä¸ªå®šåˆ¶çš„  <code class="docutils literal"><span class="pre">OrderedDict</span></code> å³å¯ã€‚è¿™æ ·å°±ä¼šè®©å®ƒæˆä¸ºä¼˜é€‰çš„æ¬¡åºã€‚</p>
</div>
<div class="section" id="timeout">
<span id="timeouts"></span><h4>è¶…æ—¶ï¼ˆtimeoutï¼‰<a class="headerlink" href="#timeout" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>ä¸ºé˜²æ­¢æœåŠ¡å™¨ä¸èƒ½åŠæ—¶å“åº”ï¼Œå¤§éƒ¨åˆ†å‘è‡³å¤–éƒ¨æœåŠ¡å™¨çš„è¯·æ±‚éƒ½åº”è¯¥å¸¦ç€ timeout å‚æ•°ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œé™¤éæ˜¾å¼æŒ‡å®šäº† timeout å€¼ï¼Œrequests æ˜¯ä¸ä¼šè‡ªåŠ¨è¿›è¡Œè¶…æ—¶å¤„ç†çš„ã€‚å¦‚æœæ²¡æœ‰ timeoutï¼Œä½ çš„ä»£ç å¯èƒ½ä¼šæŒ‚èµ·è‹¥å¹²åˆ†é’Ÿç”šè‡³æ›´é•¿æ—¶é—´ã€‚</p>
<p><strong>è¿æ¥</strong>è¶…æ—¶æŒ‡çš„æ˜¯åœ¨ä½ çš„å®¢æˆ·ç«¯å®ç°åˆ°è¿œç«¯æœºå™¨ç«¯å£çš„è¿æ¥æ—¶ï¼ˆå¯¹åº”çš„æ˜¯`connect()`_ï¼‰ï¼ŒRequest ä¼šç­‰å¾…çš„ç§’æ•°ã€‚ä¸€ä¸ªå¾ˆå¥½çš„å®è·µæ–¹æ³•æ˜¯æŠŠè¿æ¥è¶…æ—¶è®¾ä¸ºæ¯” 3 çš„å€æ•°ç•¥å¤§çš„ä¸€ä¸ªæ•°å€¼ï¼Œå› ä¸º <a class="reference external" href="http://www.hjp.at/doc/rfc/rfc2988.txt">TCP æ•°æ®åŒ…é‡ä¼ çª—å£ (TCP packet retransmission window)</a>
çš„é»˜è®¤å¤§å°æ˜¯ 3ã€‚</p>
<p>ä¸€æ—¦ä½ çš„å®¢æˆ·ç«¯è¿æ¥åˆ°äº†æœåŠ¡å™¨å¹¶ä¸”å‘é€äº† HTTP è¯·æ±‚ï¼Œ<strong>è¯»å–</strong>è¶…æ—¶æŒ‡çš„å°±æ˜¯å®¢æˆ·ç«¯ç­‰å¾…æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶é—´ã€‚ï¼ˆç‰¹å®šåœ°ï¼Œå®ƒæŒ‡çš„æ˜¯å®¢æˆ·ç«¯è¦ç­‰å¾…æœåŠ¡å™¨å‘é€å­—èŠ‚<strong>ä¹‹é—´</strong>çš„æ—¶é—´ã€‚åœ¨ 99.9%
çš„æƒ…å†µä¸‹è¿™æŒ‡çš„æ˜¯æœåŠ¡å™¨å‘é€ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹‹å‰çš„æ—¶é—´ï¼‰ã€‚</p>
<p>å¦‚æœä½ åˆ¶è®¢äº†ä¸€ä¸ªå•ä¸€çš„å€¼ä½œä¸º timeoutï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>è¿™ä¸€ timeout å€¼å°†ä¼šç”¨ä½œ <code class="docutils literal"><span class="pre">connect</span></code> å’Œ <code class="docutils literal"><span class="pre">read</span></code> äºŒè€…çš„ timeoutã€‚å¦‚æœè¦åˆ†åˆ«åˆ¶å®šï¼Œå°±ä¼ å…¥ä¸€ä¸ªå…ƒç»„ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="p">(</span><span class="mf">3.05</span><span class="p">,</span> <span class="mi">27</span><span class="p">))</span>
</pre></div>
</div>
<p>å¦‚æœè¿œç«¯æœåŠ¡å™¨å¾ˆæ…¢ï¼Œä½ å¯ä»¥è®© Request æ°¸è¿œç­‰å¾…ï¼Œä¼ å…¥ä¸€ä¸ª None ä½œä¸º timeout å€¼ï¼Œç„¶åå°±å†²å’–å•¡å»å§ã€‚</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<span id="document-user/authentication"></span><div class="section" id="authentication">
<span id="id1"></span><h3>èº«ä»½è®¤è¯<a class="headerlink" href="#authentication" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>æœ¬ç¯‡æ–‡æ¡£è®¨è®ºå¦‚ä½•é…åˆ Requests ä½¿ç”¨å¤šç§èº«ä»½è®¤è¯æ–¹å¼ã€‚</p>
<p>è®¸å¤š web æœåŠ¡éƒ½éœ€è¦èº«ä»½è®¤è¯ï¼Œå¹¶ä¸”ä¹Ÿæœ‰å¤šç§ä¸åŒçš„è®¤è¯ç±»å‹ã€‚
ä»¥ä¸‹ï¼Œæˆ‘ä»¬ä¼šä»ç®€å•åˆ°å¤æ‚æ¦‚è¿° Requests ä¸­å¯ç”¨çš„å‡ ç§èº«ä»½è®¤è¯å½¢å¼ã€‚</p>
<div class="section" id="id2">
<h4>åŸºæœ¬èº«ä»½è®¤è¯<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>è®¸å¤šè¦æ±‚èº«ä»½è®¤è¯çš„webæœåŠ¡éƒ½æ¥å— HTTP Basic Authã€‚è¿™æ˜¯æœ€ç®€å•çš„ä¸€ç§èº«ä»½è®¤è¯ï¼Œå¹¶ä¸” Requests
å¯¹è¿™ç§è®¤è¯æ–¹å¼çš„æ”¯æŒæ˜¯ç›´æ¥å¼€ç®±å³å¯ç”¨ã€‚</p>
<p>ä»¥ HTTP Basic Auth å‘é€è¯·æ±‚éå¸¸ç®€å•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">requests.auth</span> <span class="k">import</span> <span class="n">HTTPBasicAuth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/user&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">))</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>äº‹å®ä¸Šï¼ŒHTTP Basic Auth å¦‚æ­¤å¸¸è§ï¼ŒRequests å°±æä¾›äº†ä¸€ç§ç®€å†™çš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/user&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">))</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>åƒè¿™æ ·åœ¨ä¸€ä¸ªå…ƒç»„ä¸­æä¾›è®¤è¯ä¿¡æ¯ä¸å‰ä¸€ä¸ª <code class="docutils literal"><span class="pre">HTTPBasicAuth</span></code> ä¾‹å­æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚</p>
<div class="section" id="netrc">
<h5>netrc è®¤è¯<a class="headerlink" href="#netrc" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>å¦‚æœè®¤è¯æ–¹æ³•æ²¡æœ‰æ”¶åˆ° <code class="docutils literal"><span class="pre">auth</span></code> å‚æ•°ï¼ŒRequests å°†è¯•å›¾ä»ç”¨æˆ·çš„ netrc
æ–‡ä»¶ä¸­è·å– URL çš„ hostname éœ€è¦çš„è®¤è¯èº«ä»½ã€‚The netrc file overrides raw HTTP authentication headers
set with <cite>headers=</cite>.</p>
<p>å¦‚æœæ‰¾åˆ°äº† hostname å¯¹åº”çš„èº«ä»½ï¼Œå°±ä¼šä»¥ HTTP Basic Auth çš„å½¢å¼å‘é€è¯·æ±‚ã€‚</p>
</div>
</div>
<div class="section" id="id3">
<h4>æ‘˜è¦å¼èº«ä»½è®¤è¯<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦ä¸€ç§éå¸¸æµè¡Œçš„ HTTP èº«ä»½è®¤è¯å½¢å¼æ˜¯æ‘˜è¦å¼èº«ä»½è®¤è¯ï¼ŒRequests å¯¹å®ƒçš„æ”¯æŒä¹Ÿæ˜¯å¼€ç®±å³å¯ç”¨çš„ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">requests.auth</span> <span class="k">import</span> <span class="n">HTTPDigestAuth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/digest-auth/auth/user/pass&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPDigestAuth</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">))</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="oauth-1">
<h4>OAuth 1 è®¤è¯<a class="headerlink" href="#oauth-1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Oauth æ˜¯ä¸€ç§å¸¸è§çš„ Web API è®¤è¯æ–¹å¼ã€‚ <code class="docutils literal"><span class="pre">requests-oauthlib</span></code>
åº“å¯ä»¥è®© Requests ç”¨æˆ·ç®€å•åœ°åˆ›å»º OAuth è®¤è¯çš„è¯·æ±‚ï¼š</p>
<dl class="docutils">
<dt>::</dt>
<dd><div class="first highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">requests_oauthlib</span> <span class="k">import</span> <span class="n">OAuth1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.twitter.com/1.1/account/verify_credentials.json&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">OAuth1</span><span class="p">(</span><span class="s1">&#39;YOUR_APP_KEY&#39;</span><span class="p">,</span> <span class="s1">&#39;YOUR_APP_SECRET&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s1">&#39;USER_OAUTH_TOKEN&#39;</span><span class="p">,</span> <span class="s1">&#39;USER_OAUTH_TOKEN_SECRET&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<p>å…³äº OAuth å·¥ä½œæµç¨‹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a class="reference external" href="http://oauth.net/">OAuth</a> å®˜æ–¹ç½‘ç«™ã€‚
å…³äº requests-oauthlib çš„æ–‡æ¡£å’Œç”¨ä¾‹ï¼Œè¯·å‚è§ GitHub çš„ <a class="reference external" href="https://github.com/requests/requests-oauthlib">requests_oauthlib</a> ä»£ç åº“ã€‚</p>
</div>
<div class="section" id="oauth-2-openid">
<h4>OAuth 2 ä¸ OpenID è¿æ¥è®¤è¯<a class="headerlink" href="#oauth-2-openid" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><code class="docutils literal"><span class="pre">requests-oauthlib</span></code> åº“è¿˜å¯ä»¥å¤„ç† OAuth 2ï¼ŒOAuth 2 æ˜¯ OpenID è¿æ¥çš„åŸºç¡€æœºåˆ¶ã€‚
è¯·æŸ¥çœ‹ <a class="reference external" href="http://requests-oauthlib.readthedocs.io/en/latest/oauth2_workflow.html">requests-oauthlib OAuth2 documentation</a> æ–‡æ¡£ä»¥äº†è§£ OAuth 2 çš„å„ç§è®¤è¯ç®¡ç†æµç¨‹ï¼š</p>
<ul class="simple">
<li><a class="reference external" href="http://requests-oauthlib.readthedocs.io/en/latest/oauth2_workflow.html#web-application-flow">Web Application Flow</a></li>
<li><a class="reference external" href="http://requests-oauthlib.readthedocs.io/en/latest/oauth2_workflow.html#mobile-application-flow">Mobile Application Flow</a></li>
<li><a class="reference external" href="http://requests-oauthlib.readthedocs.io/en/latest/oauth2_workflow.html#legacy-application-flow">Legacy Application Flow</a></li>
<li><a class="reference external" href="http://requests-oauthlib.readthedocs.io/en/latest/oauth2_workflow.html#backend-application-flow">Backend Application Flow</a></li>
</ul>
</div>
<div class="section" id="id4">
<h4>å…¶ä»–èº«ä»½è®¤è¯å½¢å¼<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests çš„è®¾è®¡å…è®¸å…¶ä»–å½¢å¼çš„èº«ä»½è®¤è¯ç”¨ç®€æ˜“çš„æ–¹å¼æ’å…¥å…¶ä¸­ã€‚å¼€æºç¤¾åŒºçš„æˆå‘˜æ—¶å¸¸ä¸ºæ›´å¤æ‚æˆ–ä¸é‚£ä¹ˆå¸¸ç”¨çš„èº«ä»½è®¤è¯å½¢å¼ç¼–å†™è®¤è¯å¤„ç†æ’ä»¶ã€‚å…¶ä¸­ä¸€äº›æœ€ä¼˜ç§€çš„å·²è¢«æ”¶é›†åœ¨ <a class="reference external" href="https://github.com/requests">Requests organization</a> é¡µé¢ä¸­ï¼ŒåŒ…æ‹¬:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/requests/requests-kerberos">Kerberos</a></li>
<li><a class="reference external" href="https://github.com/requests/requests-ntlm">NTLM</a></li>
</ul>
<p>å¦‚æœä½ æƒ³ä½¿ç”¨å…¶ä¸­ä»»ä½•ä¸€ç§èº«ä»½è®¤è¯å½¢å¼ï¼Œç›´æ¥å»å®ƒä»¬çš„ GitHub é¡µé¢ï¼Œä¾ç…§è¯´æ˜è¿›è¡Œã€‚</p>
</div>
<div class="section" id="id5">
<h4>æ–°çš„èº«ä»½è®¤è¯å½¢å¼<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœä½ æ‰¾ä¸åˆ°æ‰€éœ€è¦çš„èº«ä»½è®¤è¯å½¢å¼çš„ä¸€ä¸ªè‰¯å¥½å®ç°ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±å®ç°å®ƒã€‚Requests éå¸¸æ˜“äºæ·»åŠ ä½ è‡ªå·±çš„èº«ä»½è®¤è¯å½¢å¼ã€‚</p>
<p>è¦æƒ³è‡ªå·±å®ç°ï¼Œå°±ä» <a class="reference internal" href="index.html#requests.auth.AuthBase" title="requests.auth.AuthBase"><code class="xref py py-class docutils literal"><span class="pre">AuthBase</span></code></a> ç»§æ‰¿ä¸€ä¸ªå­ç±»ï¼Œå¹¶å®ç° <code class="docutils literal"><span class="pre">__call__()</span></code> æ–¹æ³•ï¼š</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyAuth</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">AuthBase</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
<span class="gp">... </span>        <span class="c1"># Implement my authentication</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">r</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://httpbin.org/get&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">MyAuth</span><span class="p">())</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>å½“ä¸€ä¸ªèº«ä»½è®¤è¯æ¨¡å—è¢«é™„åŠ åˆ°ä¸€ä¸ªè¯·æ±‚ä¸Šï¼Œåœ¨è®¾ç½® request æœŸé—´å°±ä¼šè°ƒç”¨è¯¥æ¨¡å—ã€‚å› æ­¤ <code class="docutils literal"><span class="pre">__call__</span></code>
æ–¹æ³•å¿…é¡»å®Œæˆä½¿å¾—èº«ä»½è®¤è¯ç”Ÿæ•ˆçš„æ‰€æœ‰äº‹æƒ…ã€‚ä¸€äº›èº«ä»½è®¤è¯å½¢å¼ä¼šé¢å¤–åœ°æ·»åŠ é’©å­æ¥æä¾›è¿›ä¸€æ­¥çš„åŠŸèƒ½ã€‚</p>
<p>ä½ å¯ä»¥åœ¨ <a class="reference external" href="https://github.com/requests">Requests organization</a> é¡µé¢çš„ <code class="docutils literal"><span class="pre">auth.py</span></code> æ–‡ä»¶ä¸­æ‰¾åˆ°æ›´å¤šç¤ºä¾‹ã€‚</p>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>ç¤¾åŒºæŒ‡å—<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¿™éƒ¨åˆ†æ–‡æ¡£ä¹Ÿæ˜¯æ–‡å­—ä¸ºä¸»ï¼Œè¯¦ç»†ä»‹ç»äº† Requests çš„ç”Ÿæ€å’Œç¤¾åŒºã€‚</p>
<div class="toctree-wrapper compound">
<span id="document-community/faq"></span><div class="section" id="faq">
<span id="id1"></span><h3>å¸¸è§é—®é¢˜<a class="headerlink" href="#faq" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è¿™éƒ¨åˆ†çš„æ–‡æ¡£å›ç­”äº†æœ‰å…³ Requests çš„å¸¸è§é—®é¢˜ã€‚</p>
<div class="section" id="id2">
<h4>å·²ç¼–ç çš„æ•°æ®?<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests è‡ªåŠ¨è§£å‹ç¼©çš„ gzip ç¼–ç çš„å“åº”ä½“ï¼Œå¹¶åœ¨å¯èƒ½çš„æƒ…å†µä¸‹å°½å¯èƒ½çš„å°†å“åº”å†…å®¹è§£ç ä¸º unicode.</p>
<p>å¦‚æœéœ€è¦çš„è¯ï¼Œä½ å¯ä»¥ç›´æ¥è®¿é—®åŸå§‹å“åº”å†…å®¹ï¼ˆç”šè‡³æ˜¯å¥—æ¥å­—ï¼‰ã€‚</p>
</div>
<div class="section" id="user-agent">
<h4>è‡ªå®šä¹‰ User-Agent?<a class="headerlink" href="#user-agent" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests å…è®¸ä½ ä½¿ç”¨å…¶å®ƒçš„ HTTP Header æ¥è½»æ¾çš„è¦†ç›–è‡ªå¸¦çš„ User-Agent å­—ç¬¦ä¸²ã€‚</p>
</div>
<div class="section" id="httplib2">
<h4>æ€ä¹ˆä¸ä½¿ç”¨ Httplib2?<a class="headerlink" href="#httplib2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Chris Adams ç»™å‡ºäº†ä¸€ä¸ªå¾ˆå¥½çš„æ€»ç»“
<a class="reference external" href="http://news.ycombinator.com/item?id=2884406">Hacker News</a>:</p>
<blockquote>
<div><p>httplib2 æ˜¯ä½ åº”è¯¥ä½¿ç”¨ Request çš„ä¸€ä¸ªåŸå› ï¼Œå°½ç®¡ httplib2 åå£°åœ¨å¤–ï¼Œä½†å®ƒæ–‡æ¡£æ¬ ä½³ï¼Œè€Œä¸”åŸºæœ¬æ“ä½œè¦å†™çš„ä»£ç ä¾æ—§å¤ªå¤šã€‚å¯¹äº httplib2 æˆ‘æ˜¯å¾ˆæ„Ÿæ¿€çš„ï¼Œè¦å†™ä¸€ä¸ªç°ä»£ HTTP å®¢æˆ·ç«¯è¦è·Ÿä¸€å¨ä½çº§éº»çƒ¦äº‹æ‰“äº¤é“ï¼Œå®åœ¨æ˜¯ä»¶è‹¦å·®äº‹ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œè¿˜æ˜¯ç›´æ¥ä½¿ç”¨ Requests å§ã€‚Kenneth Reitz æ˜¯ä¸€ä¸ªå¾ˆè´Ÿè´£çš„ä½œè€…ï¼Œä»–èƒ½æŠŠç®€å•çš„ä¸œè¥¿åšç®€å•ã€‚httplib2 æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªå­¦æœ¯äº§ç‰©ï¼Œè€Œ Requests æ‰çœŸçš„æ˜¯ä¸€ä¸ªäººä»¬å¯ä»¥åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ä½¿ç”¨çš„ä¸œè¥¿ã€‚[1]</p>
<p>å…è´£å£°æ˜ï¼šå°½ç®¡æˆ‘ååˆ—åœ¨ Requests çš„ AUTHORS æ–‡ä»¶ä¸­ï¼Œä½†å¯¹äº Requests çš„ä¼˜ç§€çŠ¶æ€ï¼Œæˆ‘çš„è´¡çŒ®å¤§çº¦åªæœ‰ 0.0001% å§ã€‚</p>
<p>1. <a class="reference external" href="http://code.google.com/p/httplib2/issues/detail?id=96">http://code.google.com/p/httplib2/issues/detail?id=96</a> æ˜¯ä¸€ä¸ªå¥½ä¾‹å­ï¼Œè¿™ä¸ªè®¨åŒçš„ bug å½±å“äº†å¾ˆå¤šäººï¼Œæœ‰äººå‡ ä¸ªæœˆå‰å°±å†™äº†ä¸€ä¸ªä¿®æ­£ï¼Œè¿™ä¸ªä¿®æ­£å¾ˆæœ‰æ•ˆï¼Œæˆ‘æŠŠå®ƒæ”¾åœ¨ä¸€ä¸ªä»£ç åˆ†æ”¯ä¸­ï¼Œç”¨å®ƒå¤„ç†äº†å‡  TB çš„æ•°æ®éƒ½æ²¡é—®é¢˜ï¼Œä½†å®ƒèŠ±äº†ä¸€å¹´å¤šæ‰è¿›åˆ°ä¸»åˆ†æ”¯ä¸­ï¼Œè¿›åˆ°
PyPI åˆ™èŠ±äº†æ›´é•¿æ—¶é—´ï¼Œæ‰€ä»¥ç”¨åˆ° httplib2 çš„é¡¹ç›®èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰ç­‰åˆ°é—®é¢˜çš„è§£å†³ã€‚</p>
</div></blockquote>
</div>
<div class="section" id="python-3">
<h4>æ”¯æŒ Python 3 å—?<a class="headerlink" href="#python-3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å½“ç„¶ï¼ä¸‹é¢æ˜¯å®˜æ–¹æ”¯æŒçš„pythonå¹³å°åˆ—è¡¨:</p>
<ul class="simple">
<li>Python 2.6</li>
<li>Python 2.7</li>
<li>Python 3.3</li>
<li>Python 3.4</li>
<li>Python 3.5</li>
<li>Python 3.6</li>
<li>PyPy</li>
</ul>
</div>
<div class="section" id="hostname-doesn-t-match">
<h4>&quot;hostname doesn't match&quot; é”™è¯¯æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ<a class="headerlink" href="#hostname-doesn-t-match" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å½“ <a class="reference internal" href="index.html#verification"><span class="std std-ref">SSL certificate verification</span></a> å‘ç°æœåŠ¡å™¨å“åº”çš„è®¤è¯å’Œå®ƒè®¤ä¸ºè‡ªå·±è¿æ¥çš„ä¸»æœºåä¸åŒ¹é…æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™æ ·çš„é”™è¯¯ã€‚å¦‚æœä½ ç¡®å®šæœåŠ¡å™¨çš„ SSL è®¾ç½®æ˜¯æ­£ç¡®çš„ï¼ˆä¾‹å¦‚ä½ å¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®é¡µé¢ï¼‰ï¼Œè€Œä¸”ä½ ä½¿ç”¨çš„æ˜¯ Python 2.6 æˆ–è€… 2.7ï¼Œé‚£ä¹ˆä¸€ä¸ªå¯èƒ½çš„è§£é‡Šå°±æ˜¯ä½ éœ€è¦ Server-Name-Indicationã€‚</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Server_Name_Indication">Server-Name-Indication</a> ç®€ç§° SNIï¼Œæ˜¯ä¸€ä¸ª SSL çš„å®˜æ–¹æ‰©å±•ï¼Œå…¶ä¸­å®¢æˆ·ç«¯ä¼šå‘Šè¯‰æœåŠ¡å™¨å®ƒè¿æ¥äº†å“ªä¸ªä¸»æœºåã€‚å½“æœåŠ¡å™¨ä½¿ç”¨è™šæ‹Ÿä¸»æœºï¼ˆ <a class="reference external" href="https://en.wikipedia.org/wiki/Virtual_hosting">Virtual Hosting</a>ï¼‰æ—¶è¿™ç‚¹å¾ˆé‡è¦ã€‚è¿™æ ·çš„æœåŠ¡å™¨ä¼šæœåŠ¡å¤šä¸ª SSL ç½‘ç«™ï¼Œæ‰€ä»¥å®ƒä»¬éœ€è¦èƒ½å¤Ÿé’ˆå¯¹å®¢æˆ·ç«¯è¿æ¥çš„ä¸»æœºåè¿”å›æ­£ç¡®çš„è¯ä¹¦ã€‚</p>
<p>Python 3 å’Œ Python 2.7.9+ çš„ SSL æ¨¡å—åŒ…å«äº†åŸç”Ÿçš„ SNI æ”¯æŒã€‚æ›´å¤šå…³äºåœ¨ Requestã€SNI ä»¥åŠ Python &lt; 2.7.9 çš„ä¿¡æ¯è¯·å‚è§è¿™ä¸ª <a class="reference external" href="https://stackoverflow.com/questions/18578439/using-requests-with-tls-doesnt-give-sni-support/18579484#18579484">Stack Overflow ç­”æ¡ˆ</a>ã€‚</p>
</div>
</div>
<span id="document-community/recommended"></span><div class="section" id="recommended">
<span id="id1"></span><h3>æ¨èçš„åº“å’Œæ‰©å±•<a class="headerlink" href="#recommended" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>Requests æ‹¥æœ‰å¾ˆå¤šå¼ºå¤§æœ‰ç”¨çš„ç¬¬ä¸‰æ–¹æ‰©å±•ã€‚è¿™é‡Œæ¦‚è¿°äº†å…¶ä¸­æœ€å¥½çš„å‡ ä¸ªã€‚</p>
<div class="section" id="certifi-ca-bundle">
<h4>Certifi CA Bundle<a class="headerlink" href="#certifi-ca-bundle" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><a class="reference external" href="http://certifi.io/en/latest/">Certifi</a> æ˜¯ä¸€ä¸ªç²¾å¿ƒå‡†å¤‡çš„æ ¹è¯ä¹¦é›†åˆï¼Œç”¨æ¥éªŒè¯ SSL è¯ä¹¦çš„å¯ä¿¡ä»»åº¦ï¼ŒåŒæ—¶è¿˜ä¼šéªŒè¯
TLS ä¸»æœºçš„èº«ä»½ã€‚è¿™æ˜¯ä¸€ä¸ªä» Requests é¡¹ç›®ä¸­å‰¥ç¦»å‡ºæ¥çš„é¡¹ç›®ã€‚</p>
</div>
<div class="section" id="cachecontrol">
<h4>CacheControl<a class="headerlink" href="#cachecontrol" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><a class="reference external" href="https://cachecontrol.readthedocs.io/en/latest/">CacheControl</a> è¿™ä¸ªæ‰©å±•èƒ½ä¸º Requests æ·»åŠ å®Œæ•´çš„ HTTP ç¼“å­˜åŠŸèƒ½ã€‚è¿™æ ·ä½ çš„ web
è¯·æ±‚çš„æ•ˆç‡ä¼šé«˜å¾ˆå¤šï¼Œè¿™ä¸ªæ‰©å±•é€‚åˆåœ¨éœ€è¦å¤§é‡ web è¯·æ±‚çš„åœºåˆä½¿ç”¨ã€‚</p>
</div>
<div class="section" id="requests-toolbelt">
<h4>Requests-Toolbelt<a class="headerlink" href="#requests-toolbelt" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><a class="reference external" href="http://toolbelt.readthedocs.io/en/latest/index.html">Requests-Toolbelt</a> ä½¿ä¸€äº›æœ‰ç”¨å·¥å…·çš„é›†åˆï¼Œæœ‰çš„ç”¨æˆ·ä¼šè§‰å¾—å®ƒä»¬å¾ˆæœ‰ç”¨ï¼Œä½† Requests
ä¸­ä¸é€‚åˆå°†å®ƒä»¬åŒ…è¿›å»ã€‚Requests çš„æ ¸å¿ƒç»„ç§¯æç»´æŠ¤ç€è¿™ä¸ªåº“ï¼Œå®ƒåæ˜ äº†ç¤¾åŒºç”¨æˆ·æœ€æƒ³è¦çš„ä¸€äº›åŠŸèƒ½ã€‚</p>
</div>
<div class="section" id="requests-oauthlib">
<h4>Requests-OAuthlib<a class="headerlink" href="#requests-oauthlib" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><a class="reference external" href="https://requests-oauthlib.readthedocs.io/en/latest/">requests-oauthlib</a> ä½¿å¾—ä» Requests è‡ªåŠ¨è¿›è¡Œ OAuth è·³è½¬å˜æˆå¯èƒ½ã€‚è¿™å¯¹å¾ˆå¤šä½¿ç”¨
OAuth è¿›è¡ŒéªŒè¯çš„ç½‘ç«™éƒ½å¾ˆæœ‰ç”¨ã€‚å®ƒè¿˜æä¾›äº†å¾ˆå¤šå°é…ç½®ï¼Œç”¨æ¥å¯¹éæ ‡å‡†çš„ OAuth æä¾›è€…è¿›è¡Œå¤„ç†ã€‚</p>
</div>
<div class="section" id="betamax">
<h4>Betamax<a class="headerlink" href="#betamax" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><a class="reference external" href="https://github.com/sigmavirus24/betamax">Betamax</a> è®°å½•äº†ä½ çš„ HTTP äº¤äº’ï¼Œè¿™æ ·å°±ä¸éœ€è¦ NSA è´¹å¿ƒäº†ã€‚è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º Python-Requests
è®¾è®¡çš„æ¨¡æ‹Ÿå½•åƒæœºã€‚</p>
</div>
</div>
<span id="document-community/out-there"></span><div class="section" id="integrations">
<h3>Integrations<a class="headerlink" href="#integrations" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<div class="section" id="python-for-ios">
<h4>Python for iOS<a class="headerlink" href="#python-for-ios" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests is built into the wonderful <a class="reference external" href="https://itunes.apple.com/us/app/python-2.7-for-ios/id485729872?mt=Python8">Python for iOS</a> runtime!</p>
<p>To give it a try, simply:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="articles-talks">
<h3>Articles &amp; Talks<a class="headerlink" href="#articles-talks" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://gun.io/blog/python-for-the-web/">Python for the Web</a> teaches how to use Python to interact with the web, using Requests.</li>
<li><a class="reference external" href="http://pydanny.blogspot.com/2011/05/python-http-requests-for-humans.html">Daniel Greenfeld's Review of Requests</a></li>
<li><a class="reference external" href="http://python-for-humans.heroku.com">My 'Python for Humans' talk</a> ( <a class="reference external" href="http://codeconf.s3.amazonaws.com/2011/pycodeconf/talks/PyCodeConf2011%20-%20Kenneth%20Reitz.m4a">audio</a> )</li>
<li><a class="reference external" href="http://issackelly.github.com/Consuming-Web-APIs-with-Python-Talk/slides/slides.html">Issac Kelly's 'Consuming Web APIs' talk</a></li>
<li><a class="reference external" href="http://arunsag.wordpress.com/2011/08/17/new-package-python-requests-http-for-humans/">Blog post about Requests via Yum</a></li>
<li><a class="reference external" href="http://habrahabr.ru/blogs/python/126262/">Russian blog post introducing Requests</a></li>
<li><a class="reference external" href="http://www.coglib.com/~icordasc/blog/2014/11/sending-json-in-requests.html">Sending JSON in Requests</a></li>
</ul>
</div>
<span id="document-community/support"></span><div class="section" id="support">
<span id="id1"></span><h3>æ”¯æŒ<a class="headerlink" href="#support" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>å¯¹äºRequestsï¼Œå¦‚æœä½ æœ‰é—®é¢˜æˆ–è€…å»ºè®®ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢å‡ ç§æ–¹æ³•å¾—åˆ°æ”¯æŒï¼š</p>
<div class="section" id="stackoverflow">
<h4>StackOverflow<a class="headerlink" href="#stackoverflow" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœä½ çš„é—®é¢˜ä¸åŒ…å«æ•æ„Ÿæˆ–ç§æœ‰ä¿¡æ¯ï¼Œæˆ–è€…ä½ èƒ½å°†è¿™äº›ä¿¡æ¯åŒ¿ååŒ–ï¼Œé‚£ä½ å°±å¯ä»¥åœ¨
<a class="reference external" href="https://stackoverflow.com/questions/tagged/python-requests">StackOverflow</a>
ä¸Šä½¿ç”¨ <code class="docutils literal"><span class="pre">python-requests</span></code> æ ‡ç­¾æé—®ã€‚</p>
</div>
<div class="section" id="id3">
<h4>å‘é€æ¨æ–‡<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœä½ çš„é—®é¢˜åœ¨140ä¸ªå­—ç¬¦å†…æè¿°ï¼Œæ¬¢è¿åœ¨ twitter ä¸Šå‘é€æ¨æ–‡è‡³
<a class="reference external" href="https://twitter.com/kennethreitz">&#64;kennethreitz</a>,
<a class="reference external" href="https://twitter.com/sigmavirus24">&#64;sigmavirus24</a>, æˆ–
<a class="reference external" href="https://twitter.com/lukasaoz">&#64;lukasaoz</a>ã€‚</p>
</div>
<div class="section" id="issue">
<h4>æäº¤ issue<a class="headerlink" href="#issue" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å¦‚æœä½ åœ¨ Requests ä¸­æ³¨æ„åˆ°äº†ä¸€äº›æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºï¼Œæˆ–è€…å¸Œæœ›çœ‹åˆ°ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ”¯æŒï¼Œè¯·
<a class="reference external" href="https://github.com/requests/requests/issues">åœ¨ GitHub ä¸Šæäº¤ issue</a>.</p>
</div>
<div class="section" id="id4">
<h4>é‚®ä»¶<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æˆ‘å¾ˆä¹æ„å›ç­”å…³äº Requests çš„ä¸ªäººæˆ–è€…æ›´æ·±å…¥çš„é—®é¢˜ã€‚ä½ å¯ä»¥éšæ—¶å†™ä¿¡è‡³
<a class="reference external" href="mailto:requests&#37;&#52;&#48;kennethreitz&#46;com">requests<span>&#64;</span>kennethreitz<span>&#46;</span>com</a>.</p>
</div>
<div class="section" id="irc">
<h4>IRC<a class="headerlink" href="#irc" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests çš„å®˜æ–¹ Freenode é¢‘é“æ˜¯
<a class="reference external" href="irc://irc.freenode.net/python-requests">#python-requests</a></p>
<p>Requests çš„æ ¸å¿ƒå¼€å‘äººå‘˜ç™½å¤©ä¼šåœ¨ IRC ä¸­å‡ºæ²¡ï¼Œä½ å¯ä»¥åœ¨ <code class="docutils literal"><span class="pre">#python-requests</span></code> ä¸­æ‰¾åˆ°ä»–ä»¬ï¼š</p>
<ul class="simple">
<li>kennethreitz</li>
<li>lukasa</li>
<li>sigmavirus24</li>
</ul>
</div>
</div>
<span id="document-community/vulnerabilities"></span><div class="section" id="vulnerability-disclosure">
<h3>Vulnerability Disclosure<a class="headerlink" href="#vulnerability-disclosure" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>If you think you have found a potential security vulnerability in requests,
please email <a class="reference external" href="mailto:graffatcolmingov&#37;&#52;&#48;gmail&#46;com">sigmavirus24</a> and
<a class="reference external" href="mailto:cory&#37;&#52;&#48;lukasa&#46;co&#46;uk">Lukasa</a> directly. <strong>Do not file a public issue.</strong></p>
<p>Our PGP Key fingerprints are:</p>
<ul class="simple">
<li>0161 BB7E B208 B5E0 4FDC  9F81 D9DA 0A04 9113 F853 (&#64;sigmavirus24)</li>
<li>90DC AE40 FEA7 4B14 9B70  662D F25F 2144 EEC1 373D (&#64;lukasa)</li>
</ul>
<p>If English is not your first language, please try to describe the problem and
its impact to the best of your ability. For greater detail, please use your
native language and we will try our best to translate it using online services.</p>
<p>Please also include the code you used to find the problem and the shortest
amount of code necessary to reproduce it.</p>
<p>Please do not disclose this to anyone else. We will retrieve a CVE identifier
if necessary and give you full credit under whatever name or alias you provide.
We will only request an identifier when we have a fix and can publish it in a
release.</p>
<p>We will respect your privacy and will only publicize your involvement if you
grant us permission.</p>
<div class="section" id="process">
<h4>Process<a class="headerlink" href="#process" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>This following information discusses the process the requests project follows
in response to vulnerability disclosures. If you are disclosing a
vulnerability, this section of the documentation lets you know how we will
respond to your disclosure.</p>
<div class="section" id="timeline">
<h5>Timeline<a class="headerlink" href="#timeline" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>When you report an issue, one of the project members will respond to you within
two days <em>at the outside</em>. In most cases responses will be faster, usually
within 12 hours. This initial response will at the very least confirm receipt
of the report.</p>
<p>If we were able to rapidly reproduce the issue, the initial response will also
contain confirmation of the issue. If we are not, we will often ask for more
information about the reproduction scenario.</p>
<p>Our goal is to have a fix for any vulnerability released within two weeks of
the initial disclosure. This may potentially involve shipping an interim
release that simply disables function while a more mature fix can be prepared,
but will in the vast majority of cases mean shipping a complete release as soon
as possible.</p>
<p>Throughout the fix process we will keep you up to speed with how the fix is
progressing. Once the fix is prepared, we will notify you that we believe we
have a fix. Often we will ask you to confirm the fix resolves the problem in
your environment, especially if we are not confident of our reproduction
scenario.</p>
<p>At this point, we will prepare for the release. We will obtain a CVE number
if one is required, providing you with full credit for the discovery. We will
also decide on a planned release date, and let you know when it is. This
release date will <em>always</em> be on a weekday.</p>
<p>At this point we will reach out to our major downstream packagers to notify
them of an impending security-related patch so they can make arrangements. In
addition, these packagers will be provided with the intended patch ahead of
time, to ensure that they are able to promptly release their downstream
packages. Currently the list of people we actively contact <em>ahead of a public
release</em> is:</p>
<ul class="simple">
<li>Jeremy Cline, Red Hat (&#64;jeremycline)</li>
<li>Daniele Tricoli, Debian (&#64;eriol)</li>
</ul>
<p>We will notify these individuals at least a week ahead of our planned release
date to ensure that they have sufficient time to prepare. If you believe you
should be on this list, please let one of the maintainers know at one of the
email addresses at the top of this article.</p>
<p>On release day, we will push the patch to our public repository, along with an
updated changelog that describes the issue and credits you. We will then issue
a PyPI release containing the patch.</p>
<p>At this point, we will publicise the release. This will involve mails to
mailing lists, Tweets, and all other communication mechanisms available to the
core team.</p>
<p>We will also explicitly mention which commits contain the fix to make it easier
for other distributors and users to easily patch their own versions of requests
if upgrading is not an option.</p>
</div>
</div>
<div class="section" id="previous-cves">
<h4>Previous CVEs<a class="headerlink" href="#previous-cves" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul class="simple">
<li>Fixed in 2.6.0<ul>
<li><a class="reference external" href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=2015-2296">CVE 2015-2296</a>,
reported by Matthew Daley of <a class="reference external" href="https://bugfuzz.com/">BugFuzz</a>.</li>
</ul>
</li>
<li>Fixed in 2.3.0<ul>
<li><a class="reference external" href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=2014-1829">CVE 2014-1829</a></li>
<li><a class="reference external" href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=2014-1830">CVE 2014-1830</a></li>
</ul>
</li>
</ul>
</div>
</div>
<span id="document-community/updates"></span><div class="section" id="updates">
<span id="id1"></span><h3>æ›´æ–°<a class="headerlink" href="#updates" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>å¦‚æœä½ æƒ³å’Œç¤¾åŒºä»¥åŠå¼€å‘ç‰ˆçš„ Requests ä¿æŒæœ€æ–°çš„è”ç³»ï¼Œ
è¿™æœ‰å‡ ç§æ–¹å¼:</p>
<div class="section" id="github">
<h4>GitHub<a class="headerlink" href="#github" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æœ€å¥½çš„æ–¹å¼æ˜¯è¿½è¸ª Requests å¼€å‘ç‰ˆæœ¬çš„
<a class="reference external" href="https://github.com/requests/requests">GitHub åº“</a>.</p>
</div>
<div class="section" id="twitter">
<h4>Twitter<a class="headerlink" href="#twitter" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æˆ‘ç»å¸¸æ¨é€å…³äº Requests çš„æ–°åŠŸèƒ½å’Œæ–°ç‰ˆæœ¬.</p>
<p>å…³æ³¨ <a class="reference external" href="https://twitter.com/kennethreitz">&#64;kennethreitz</a> å³å¯è·å¾—æ›´æ–°ã€‚</p>
</div>
</div>
<div class="section" id="id3">
<h3>ç‰ˆæœ¬å†å²<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<div class="section" id="release-history">
<h4>Release History<a class="headerlink" href="#release-history" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<div class="section" id="dev">
<h5>dev<a class="headerlink" href="#dev" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<p><strong>Bugfixes</strong></p>
</div>
<div class="section" id="id4">
<h5>2.18.1 (2017-06-14)<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fix an error in the packaging whereby the <a href="#id5"><span class="problematic" id="id6">*</span></a>.whl contained incorrect data that
regressed the fix in v2.17.3.</li>
</ul>
</div>
<div class="section" id="id7">
<h5>2.18.0 (2017-06-14)<a class="headerlink" href="#id7" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Response</span></code> is now a context manager, so can be used directly in a <code class="docutils literal"><span class="pre">with</span></code> statement
without first having to be wrapped by <code class="docutils literal"><span class="pre">contextlib.closing()</span></code>.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Resolve installation failure if multiprocessing is not available</li>
<li>Resolve tests crash if multiprocessing is not able to determine the number of CPU cores</li>
<li>Resolve error swallowing in utils set_environ generator</li>
</ul>
</div>
<div class="section" id="id8">
<h5>2.17.3 (2017-05-29)<a class="headerlink" href="#id8" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Improved <code class="docutils literal"><span class="pre">packages</span></code> namespace identity support, for monkeypatching libraries.</li>
</ul>
</div>
<div class="section" id="id9">
<h5>2.17.2 (2017-05-29)<a class="headerlink" href="#id9" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Improved <code class="docutils literal"><span class="pre">packages</span></code> namespace identity support, for monkeypatching libraries.</li>
</ul>
</div>
<div class="section" id="id10">
<h5>2.17.1 (2017-05-29)<a class="headerlink" href="#id10" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Improved <code class="docutils literal"><span class="pre">packages</span></code> namespace identity support, for monkeypatching libraries.</li>
</ul>
</div>
<div class="section" id="id11">
<h5>2.17.0 (2017-05-29)<a class="headerlink" href="#id11" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Removal of the 301 redirect cache. This improves thread-safety.</li>
</ul>
</div>
<div class="section" id="id12">
<h5>2.16.5 (2017-05-28)<a class="headerlink" href="#id12" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Improvements to <code class="docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">-m</span> <span class="pre">requests.help</span></code>.</li>
</ul>
</div>
<div class="section" id="id13">
<h5>2.16.4 (2017-05-27)<a class="headerlink" href="#id13" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Introduction of the <code class="docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">-m</span> <span class="pre">requests.help</span></code> command, for debugging with maintainers!</li>
</ul>
</div>
<div class="section" id="id14">
<h5>2.16.3 (2017-05-27)<a class="headerlink" href="#id14" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Further restored the <code class="docutils literal"><span class="pre">requests.packages</span></code> namespace for compatibility reasons.</li>
</ul>
</div>
<div class="section" id="id15">
<h5>2.16.2 (2017-05-27)<a class="headerlink" href="#id15" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Further restored the <code class="docutils literal"><span class="pre">requests.packages</span></code> namespace for compatibility reasons.</li>
</ul>
<p>No code modification (noted below) should be neccessary any longer.</p>
</div>
<div class="section" id="id16">
<h5>2.16.1 (2017-05-27)<a class="headerlink" href="#id16" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Restored the <code class="docutils literal"><span class="pre">requests.packages</span></code> namespace for compatibility reasons.</li>
<li>Bugfix for <code class="docutils literal"><span class="pre">urllib3</span></code> version parsing.</li>
</ul>
<p><strong>Note</strong>: code that was written to import against the <code class="docutils literal"><span class="pre">requests.packages</span></code>
namespace previously will have to import code that rests at this module-level
now.</p>
<p>For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">requests.packages.urllib3.poolmanager</span> <span class="k">import</span> <span class="n">PoolManager</span>
</pre></div>
</div>
<p>Will need to be re-written to be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">requests.packages</span> <span class="k">import</span> <span class="n">urllib3</span>
<span class="n">urllib3</span><span class="o">.</span><span class="n">poolmanager</span><span class="o">.</span><span class="n">PoolManager</span>
</pre></div>
</div>
<p>Or, even better:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">urllib3.poolmanager</span> <span class="k">import</span> <span class="n">PoolManager</span>
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h5>2.16.0 (2017-05-26)<a class="headerlink" href="#id17" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Unvendor ALL the things!</li>
</ul>
</div>
<div class="section" id="id18">
<h5>2.15.1 (2017-05-26)<a class="headerlink" href="#id18" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Everyone makes mistakes.</li>
</ul>
</div>
<div class="section" id="id19">
<h5>2.15.0 (2017-05-26)<a class="headerlink" href="#id19" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Introduction of the <code class="docutils literal"><span class="pre">Response.next</span></code> property, for getting the next
<code class="docutils literal"><span class="pre">PreparedResponse</span></code> from a redirect chain (when <code class="docutils literal"><span class="pre">allow_redirects=False</span></code>).</li>
<li>Internal refactoring of <code class="docutils literal"><span class="pre">__version__</span></code> module.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Restored once-optional parameter for <code class="docutils literal"><span class="pre">requests.utils.get_environ_proxies()</span></code>.</li>
</ul>
</div>
<div class="section" id="id20">
<h5>2.14.2 (2017-05-10)<a class="headerlink" href="#id20" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Changed a less-than to an equal-to and an or in the dependency markers to
widen compatibility with older setuptools releases.</li>
</ul>
</div>
<div class="section" id="id21">
<h5>2.14.1 (2017-05-09)<a class="headerlink" href="#id21" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Changed the dependency markers to widen compatibility with older pip
releases.</li>
</ul>
</div>
<div class="section" id="id22">
<h5>2.14.0 (2017-05-09)<a class="headerlink" href="#id22" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>It is now possible to pass <code class="docutils literal"><span class="pre">no_proxy</span></code> as a key to the <code class="docutils literal"><span class="pre">proxies</span></code>
dictionary to provide handling similar to the <code class="docutils literal"><span class="pre">NO_PROXY</span></code> environment
variable.</li>
<li>When users provide invalid paths to certificate bundle files or directories
Requests now raises <code class="docutils literal"><span class="pre">IOError</span></code>, rather than failing at the time of the HTTPS
request with a fairly inscrutable certificate validation error.</li>
<li>The behavior of <code class="docutils literal"><span class="pre">SessionRedirectMixin</span></code> was slightly altered.
<code class="docutils literal"><span class="pre">resolve_redirects</span></code> will now detect a redirect by calling
<code class="docutils literal"><span class="pre">get_redirect_target(response)</span></code> instead of directly
querying <code class="docutils literal"><span class="pre">Response.is_redirect</span></code> and <code class="docutils literal"><span class="pre">Response.headers['location']</span></code>.
Advanced users will be able to process malformed redirects more easily.</li>
<li>Changed the internal calculation of elapsed request time to have higher
resolution on Windows.</li>
<li>Added <code class="docutils literal"><span class="pre">win_inet_pton</span></code> as conditional dependency for the <code class="docutils literal"><span class="pre">[socks]</span></code> extra
on Windows with Python 2.7.</li>
<li>Changed the proxy bypass implementation on Windows: the proxy bypass
check doesn't use forward and reverse DNS requests anymore</li>
<li>URLs with schemes that begin with <code class="docutils literal"><span class="pre">http</span></code> but are not <code class="docutils literal"><span class="pre">http</span></code> or <code class="docutils literal"><span class="pre">https</span></code>
no longer have their host parts forced to lowercase.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Much improved handling of non-ASCII <code class="docutils literal"><span class="pre">Location</span></code> header values in redirects.
Fewer <code class="docutils literal"><span class="pre">UnicodeDecodeErrors</span></code> are encountered on Python 2, and Python 3 now
correctly understands that Latin-1 is unlikely to be the correct encoding.</li>
<li>If an attempt to <code class="docutils literal"><span class="pre">seek</span></code> file to find out its length fails, we now
appropriately handle that by aborting our content-length calculations.</li>
<li>Restricted <code class="docutils literal"><span class="pre">HTTPDigestAuth</span></code> to only respond to auth challenges made on 4XX
responses, rather than to all auth challenges.</li>
<li>Fixed some code that was firing <code class="docutils literal"><span class="pre">DeprecationWarning</span></code> on Python 3.6.</li>
<li>The dismayed person emoticon (<code class="docutils literal"><span class="pre">/o\\</span></code>) no longer has a big head. I'm sure
this is what you were all worrying about most.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to v1.21.1.</li>
<li>Updated bundled chardet to v3.0.2.</li>
<li>Updated bundled idna to v2.5.</li>
<li>Updated bundled certifi to 2017.4.17.</li>
</ul>
</div>
<div class="section" id="id23">
<h5>2.13.0 (2017-01-24)<a class="headerlink" href="#id23" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Features</strong></p>
<ul class="simple">
<li>Only load the <code class="docutils literal"><span class="pre">idna</span></code> library when we've determined we need it. This will
save some memory for users.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to 1.20.</li>
<li>Updated bundled idna to 2.2.</li>
</ul>
</div>
<div class="section" id="id24">
<h5>2.12.5 (2017-01-18)<a class="headerlink" href="#id24" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixed an issue with JSON encoding detection, specifically detecting
big-endian UTF-32 with BOM.</li>
</ul>
</div>
<div class="section" id="id25">
<h5>2.12.4 (2016-12-14)<a class="headerlink" href="#id25" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixed regression from 2.12.2 where non-string types were rejected in the
basic auth parameters. While support for this behaviour has been readded,
the behaviour is deprecated and will be removed in the future.</li>
</ul>
</div>
<div class="section" id="id26">
<h5>2.12.3 (2016-12-01)<a class="headerlink" href="#id26" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixed regression from v2.12.1 for URLs with schemes that begin with &quot;http&quot;.
These URLs have historically been processed as though they were HTTP-schemed
URLs, and so have had parameters added. This was removed in v2.12.2 in an
overzealous attempt to resolve problems with IDNA-encoding those URLs. This
change was reverted: the other fixes for IDNA-encoding have been judged to
be sufficient to return to the behaviour Requests had before v2.12.0.</li>
</ul>
</div>
<div class="section" id="id27">
<h5>2.12.2 (2016-11-30)<a class="headerlink" href="#id27" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixed several issues with IDNA-encoding URLs that are technically invalid but
which are widely accepted. Requests will now attempt to IDNA-encode a URL if
it can but, if it fails, and the host contains only ASCII characters, it will
be passed through optimistically. This will allow users to opt-in to using
IDNA2003 themselves if they want to, and will also allow technically invalid
but still common hostnames.</li>
<li>Fixed an issue where URLs with leading whitespace would raise
<code class="docutils literal"><span class="pre">InvalidSchema</span></code> errors.</li>
<li>Fixed an issue where some URLs without the HTTP or HTTPS schemes would still
have HTTP URL preparation applied to them.</li>
<li>Fixed an issue where Unicode strings could not be used in basic auth.</li>
<li>Fixed an issue encountered by some Requests plugins where constructing a
Response object would cause <code class="docutils literal"><span class="pre">Response.content</span></code> to raise an
<code class="docutils literal"><span class="pre">AttributeError</span></code>.</li>
</ul>
</div>
<div class="section" id="id28">
<h5>2.12.1 (2016-11-16)<a class="headerlink" href="#id28" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Updated setuptools 'security' extra for the new PyOpenSSL backend in urllib3.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to 1.19.1.</li>
</ul>
</div>
<div class="section" id="id29">
<h5>2.12.0 (2016-11-15)<a class="headerlink" href="#id29" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Updated support for internationalized domain names from IDNA2003 to IDNA2008.
This updated support is required for several forms of IDNs and is mandatory
for .de domains.</li>
<li>Much improved heuristics for guessing content lengths: Requests will no
longer read an entire <code class="docutils literal"><span class="pre">StringIO</span></code> into memory.</li>
<li>Much improved logic for recalculating <code class="docutils literal"><span class="pre">Content-Length</span></code> headers for
<code class="docutils literal"><span class="pre">PreparedRequest</span></code> objects.</li>
<li>Improved tolerance for file-like objects that have no <code class="docutils literal"><span class="pre">tell</span></code> method but
do have a <code class="docutils literal"><span class="pre">seek</span></code> method.</li>
<li>Anything that is a subclass of <code class="docutils literal"><span class="pre">Mapping</span></code> is now treated like a dictionary
by the <code class="docutils literal"><span class="pre">data=</span></code> keyword argument.</li>
<li>Requests now tolerates empty passwords in proxy credentials, rather than
stripping the credentials.</li>
<li>If a request is made with a file-like object as the body and that request is
redirected with a 307 or 308 status code, Requests will now attempt to
rewind the body object so it can be replayed.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>When calling <code class="docutils literal"><span class="pre">response.close</span></code>, the call to <code class="docutils literal"><span class="pre">close</span></code> will be propagated
through to non-urllib3 backends.</li>
<li>Fixed issue where the <code class="docutils literal"><span class="pre">ALL_PROXY</span></code> environment variable would be preferred
over scheme-specific variables like <code class="docutils literal"><span class="pre">HTTP_PROXY</span></code>.</li>
<li>Fixed issue where non-UTF8 reason phrases got severely mangled by falling
back to decoding using ISO 8859-1 instead.</li>
<li>Fixed a bug where Requests would not correctly correlate cookies set when
using custom Host headers if those Host headers did not use the native
string type for the platform.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to 1.19.</li>
<li>Updated bundled certifi certs to 2016.09.26.</li>
</ul>
</div>
<div class="section" id="id30">
<h5>2.11.1 (2016-08-17)<a class="headerlink" href="#id30" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixed a bug when using <code class="docutils literal"><span class="pre">iter_content</span></code> with <code class="docutils literal"><span class="pre">decode_unicode=True</span></code> for
streamed bodies would raise <code class="docutils literal"><span class="pre">AttributeError</span></code>. This bug was introduced in
2.11.</li>
<li>Strip Content-Type and Transfer-Encoding headers from the header block when
following a redirect that transforms the verb from POST/PUT to GET.</li>
</ul>
</div>
<div class="section" id="id31">
<h5>2.11.0 (2016-08-08)<a class="headerlink" href="#id31" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Added support for the <code class="docutils literal"><span class="pre">ALL_PROXY</span></code> environment variable.</li>
<li>Reject header values that contain leading whitespace or newline characters to
reduce risk of header smuggling.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixed occasional <code class="docutils literal"><span class="pre">TypeError</span></code> when attempting to decode a JSON response that
occurred in an error case. Now correctly returns a <code class="docutils literal"><span class="pre">ValueError</span></code>.</li>
<li>Requests would incorrectly ignore a non-CIDR IP address in the <code class="docutils literal"><span class="pre">NO_PROXY</span></code>
environment variables: Requests now treats it as a specific IP.</li>
<li>Fixed a bug when sending JSON data that could cause us to encounter obscure
OpenSSL errors in certain network conditions (yes, really).</li>
<li>Added type checks to ensure that <code class="docutils literal"><span class="pre">iter_content</span></code> only accepts integers and
<code class="docutils literal"><span class="pre">None</span></code> for chunk sizes.</li>
<li>Fixed issue where responses whose body had not been fully consumed would have
the underlying connection closed but not returned to the connection pool,
which could cause Requests to hang in situations where the <code class="docutils literal"><span class="pre">HTTPAdapter</span></code>
had been configured to use a blocking connection pool.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to 1.16.</li>
<li>Some previous releases accidentally accepted non-strings as acceptable header values. This release does not.</li>
</ul>
</div>
<div class="section" id="id32">
<h5>2.10.0 (2016-04-29)<a class="headerlink" href="#id32" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>New Features</strong></p>
<ul class="simple">
<li>SOCKS Proxy Support! (requires PySocks; <code class="docutils literal"><span class="pre">$</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">requests[socks]</span></code>)</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to 1.15.1.</li>
</ul>
</div>
<div class="section" id="id33">
<h5>2.9.2 (2016-04-29)<a class="headerlink" href="#id33" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Change built-in CaseInsensitiveDict (used for headers) to use OrderedDict
as its underlying datastore.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Don't use redirect_cache if allow_redirects=False</li>
<li>When passed objects that throw exceptions from <code class="docutils literal"><span class="pre">tell()</span></code>, send them via
chunked transfer encoding instead of failing.</li>
<li>Raise a ProxyError for proxy related connection issues.</li>
</ul>
</div>
<div class="section" id="id34">
<h5>2.9.1 (2015-12-21)<a class="headerlink" href="#id34" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Resolve regression introduced in 2.9.0 that made it impossible to send binary
strings as bodies in Python 3.</li>
<li>Fixed errors when calculating cookie expiration dates in certain locales.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated bundled urllib3 to 1.13.1.</li>
</ul>
</div>
<div class="section" id="id35">
<h5>2.9.0 (2015-12-15)<a class="headerlink" href="#id35" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Minor Improvements</strong> (Backwards compatible)</p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">verify</span></code> keyword argument now supports being passed a path to a
directory of CA certificates, not just a single-file bundle.</li>
<li>Warnings are now emitted when sending files opened in text mode.</li>
<li>Added the 511 Network Authentication Required status code to the status code
registry.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>For file-like objects that are not seeked to the very beginning, we now
send the content length for the number of bytes we will actually read, rather
than the total size of the file, allowing partial file uploads.</li>
<li>When uploading file-like objects, if they are empty or have no obvious
content length we set <code class="docutils literal"><span class="pre">Transfer-Encoding:</span> <span class="pre">chunked</span></code> rather than
<code class="docutils literal"><span class="pre">Content-Length:</span> <span class="pre">0</span></code>.</li>
<li>We correctly receive the response in buffered mode when uploading chunked
bodies.</li>
<li>We now handle being passed a query string as a bytestring on Python 3, by
decoding it as UTF-8.</li>
<li>Sessions are now closed in all cases (exceptional and not) when using the
functional API rather than leaking and waiting for the garbage collector to
clean them up.</li>
<li>Correctly handle digest auth headers with a malformed <code class="docutils literal"><span class="pre">qop</span></code> directive that
contains no token, by treating it the same as if no <code class="docutils literal"><span class="pre">qop</span></code> directive was
provided at all.</li>
<li>Minor performance improvements when removing specific cookies by name.</li>
</ul>
<p><strong>Miscellaneous</strong></p>
<ul class="simple">
<li>Updated urllib3 to 1.13.</li>
</ul>
</div>
<div class="section" id="id36">
<h5>2.8.1 (2015-10-13)<a class="headerlink" href="#id36" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Update certificate bundle to match <code class="docutils literal"><span class="pre">certifi</span></code> 2015.9.6.2's weak certificate
bundle.</li>
<li>Fix a bug in 2.8.0 where requests would raise <code class="docutils literal"><span class="pre">ConnectTimeout</span></code> instead of
<code class="docutils literal"><span class="pre">ConnectionError</span></code></li>
<li>When using the PreparedRequest flow, requests will now correctly respect the
<code class="docutils literal"><span class="pre">json</span></code> parameter. Broken in 2.8.0.</li>
<li>When using the PreparedRequest flow, requests will now correctly handle a
Unicode-string method name on Python 2. Broken in 2.8.0.</li>
</ul>
</div>
<div class="section" id="id37">
<h5>2.8.0 (2015-10-05)<a class="headerlink" href="#id37" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Minor Improvements</strong> (Backwards Compatible)</p>
<ul class="simple">
<li>Requests now supports per-host proxies. This allows the <code class="docutils literal"><span class="pre">proxies</span></code>
dictionary to have entries of the form
<code class="docutils literal"><span class="pre">{'&lt;scheme&gt;://&lt;hostname&gt;':</span> <span class="pre">'&lt;proxy&gt;'}</span></code>. Host-specific proxies will be used
in preference to the previously-supported scheme-specific ones, but the
previous syntax will continue to work.</li>
<li><code class="docutils literal"><span class="pre">Response.raise_for_status</span></code> now prints the URL that failed as part of the
exception message.</li>
<li><code class="docutils literal"><span class="pre">requests.utils.get_netrc_auth</span></code> now takes an <code class="docutils literal"><span class="pre">raise_errors</span></code> kwarg,
defaulting to <code class="docutils literal"><span class="pre">False</span></code>. When <code class="docutils literal"><span class="pre">True</span></code>, errors parsing <code class="docutils literal"><span class="pre">.netrc</span></code> files cause
exceptions to be thrown.</li>
<li>Change to bundled projects import logic to make it easier to unbundle
requests downstream.</li>
<li>Changed the default User-Agent string to avoid leaking data on Linux: now
contains only the requests version.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">json</span></code> parameter to <code class="docutils literal"><span class="pre">post()</span></code> and friends will now only be used if
neither <code class="docutils literal"><span class="pre">data</span></code> nor <code class="docutils literal"><span class="pre">files</span></code> are present, consistent with the
documentation.</li>
<li>We now ignore empty fields in the <code class="docutils literal"><span class="pre">NO_PROXY</span></code> environment variable.</li>
<li>Fixed problem where <code class="docutils literal"><span class="pre">httplib.BadStatusLine</span></code> would get raised if combining
<code class="docutils literal"><span class="pre">stream=True</span></code> with <code class="docutils literal"><span class="pre">contextlib.closing</span></code>.</li>
<li>Prevented bugs where we would attempt to return the same connection back to
the connection pool twice when sending a Chunked body.</li>
<li>Miscellaneous minor internal changes.</li>
<li>Digest Auth support is now thread safe.</li>
</ul>
<p><strong>Updates</strong></p>
<ul class="simple">
<li>Updated urllib3 to 1.12.</li>
</ul>
</div>
<div class="section" id="id38">
<h5>2.7.0 (2015-05-03)<a class="headerlink" href="#id38" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>This is the first release that follows our new release process. For more, see
<a class="reference external" href="http://docs.python-requests.org/en/latest/community/release-process/">our documentation</a>.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Updated urllib3 to 1.10.4, resolving several bugs involving chunked transfer
encoding and response framing.</li>
</ul>
</div>
<div class="section" id="id39">
<h5>2.6.2 (2015-04-23)<a class="headerlink" href="#id39" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fix regression where compressed data that was sent as chunked data was not
properly decompressed. (#2561)</li>
</ul>
</div>
<div class="section" id="id40">
<h5>2.6.1 (2015-04-22)<a class="headerlink" href="#id40" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Remove VendorAlias import machinery introduced in v2.5.2.</li>
<li>Simplify the PreparedRequest.prepare API: We no longer require the user to
pass an empty list to the hooks keyword argument. (c.f. #2552)</li>
<li>Resolve redirects now receives and forwards all of the original arguments to
the adapter. (#2503)</li>
<li>Handle UnicodeDecodeErrors when trying to deal with a unicode URL that
cannot be encoded in ASCII. (#2540)</li>
<li>Populate the parsed path of the URI field when performing Digest
Authentication. (#2426)</li>
<li>Copy a PreparedRequest's CookieJar more reliably when it is not an instance
of RequestsCookieJar. (#2527)</li>
</ul>
</div>
<div class="section" id="id41">
<h5>2.6.0 (2015-03-14)<a class="headerlink" href="#id41" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>CVE-2015-2296: Fix handling of cookies on redirect. Previously a cookie
without a host value set would use the hostname for the redirected URL
exposing requests users to session fixation attacks and potentially cookie
stealing. This was disclosed privately by Matthew Daley of
<a class="reference external" href="https://bugfuzz.com">BugFuzz</a>. This affects all versions of requests from
v2.1.0 to v2.5.3 (inclusive on both ends).</li>
<li>Fix error when requests is an <code class="docutils literal"><span class="pre">install_requires</span></code> dependency and <code class="docutils literal"><span class="pre">python</span>
<span class="pre">setup.py</span> <span class="pre">test</span></code> is run. (#2462)</li>
<li>Fix error when urllib3 is unbundled and requests continues to use the
vendored import location.</li>
<li>Include fixes to <code class="docutils literal"><span class="pre">urllib3</span></code>'s header handling.</li>
<li>Requests' handling of unvendored dependencies is now more restrictive.</li>
</ul>
<p><strong>Features and Improvements</strong></p>
<ul class="simple">
<li>Support bytearrays when passed as parameters in the <code class="docutils literal"><span class="pre">files</span></code> argument.
(#2468)</li>
<li>Avoid data duplication when creating a request with <code class="docutils literal"><span class="pre">str</span></code>, <code class="docutils literal"><span class="pre">bytes</span></code>, or
<code class="docutils literal"><span class="pre">bytearray</span></code> input to the <code class="docutils literal"><span class="pre">files</span></code> argument.</li>
</ul>
</div>
<div class="section" id="id42">
<h5>2.5.3 (2015-02-24)<a class="headerlink" href="#id42" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Revert changes to our vendored certificate bundle. For more context see
(#2455, #2456, and <a class="reference external" href="http://bugs.python.org/issue23476">http://bugs.python.org/issue23476</a>)</li>
</ul>
</div>
<div class="section" id="id43">
<h5>2.5.2 (2015-02-23)<a class="headerlink" href="#id43" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Features and Improvements</strong></p>
<ul class="simple">
<li>Add sha256 fingerprint support. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/540">shazow/urllib3#540</a>)</li>
<li>Improve the performance of headers. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/544">shazow/urllib3#544</a>)</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Copy pip's import machinery. When downstream redistributors remove
requests.packages.urllib3 the import machinery will continue to let those
same symbols work. Example usage in requests' documentation and 3rd-party
libraries relying on the vendored copies of urllib3 will work without having
to fallback to the system urllib3.</li>
<li>Attempt to quote parts of the URL on redirect if unquoting and then quoting
fails. (#2356)</li>
<li>Fix filename type check for multipart form-data uploads. (#2411)</li>
<li>Properly handle the case where a server issuing digest authentication
challenges provides both auth and auth-int qop-values. (#2408)</li>
<li>Fix a socket leak. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/549">shazow/urllib3#549</a>)</li>
<li>Fix multiple <code class="docutils literal"><span class="pre">Set-Cookie</span></code> headers properly. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/534">shazow/urllib3#534</a>)</li>
<li>Disable the built-in hostname verification. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/526">shazow/urllib3#526</a>)</li>
<li>Fix the behaviour of decoding an exhausted stream. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/535">shazow/urllib3#535</a>)</li>
</ul>
<p><strong>Security</strong></p>
<ul class="simple">
<li>Pulled in an updated <code class="docutils literal"><span class="pre">cacert.pem</span></code>.</li>
<li>Drop RC4 from the default cipher list. (<a class="reference external" href="https://github.com/shazow/urllib3/pull/551">shazow/urllib3#551</a>)</li>
</ul>
</div>
<div class="section" id="id44">
<h5>2.5.1 (2014-12-23)<a class="headerlink" href="#id44" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Behavioural Changes</strong></p>
<ul class="simple">
<li>Only catch HTTPErrors in raise_for_status (#2382)</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Handle LocationParseError from urllib3 (#2344)</li>
<li>Handle file-like object filenames that are not strings (#2379)</li>
<li>Unbreak HTTPDigestAuth handler. Allow new nonces to be negotiated (#2389)</li>
</ul>
</div>
<div class="section" id="id45">
<h5>2.5.0 (2014-12-01)<a class="headerlink" href="#id45" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Allow usage of urllib3's Retry object with HTTPAdapters (#2216)</li>
<li>The <code class="docutils literal"><span class="pre">iter_lines</span></code> method on a response now accepts a delimiter with which
to split the content (#2295)</li>
</ul>
<p><strong>Behavioural Changes</strong></p>
<ul class="simple">
<li>Add deprecation warnings to functions in requests.utils that will be removed
in 3.0 (#2309)</li>
<li>Sessions used by the functional API are always closed (#2326)</li>
<li>Restrict requests to HTTP/1.1 and HTTP/1.0 (stop accepting HTTP/0.9) (#2323)</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Only parse the URL once (#2353)</li>
<li>Allow Content-Length header to always be overridden (#2332)</li>
<li>Properly handle files in HTTPDigestAuth (#2333)</li>
<li>Cap redirect_cache size to prevent memory abuse (#2299)</li>
<li>Fix HTTPDigestAuth handling of redirects after authenticating successfully
(#2253)</li>
<li>Fix crash with custom method parameter to Session.request (#2317)</li>
<li>Fix how Link headers are parsed using the regular expression library (#2271)</li>
</ul>
<p><strong>Documentation</strong></p>
<ul class="simple">
<li>Add more references for interlinking (#2348)</li>
<li>Update CSS for theme (#2290)</li>
<li>Update width of buttons and sidebar (#2289)</li>
<li>Replace references of Gittip with Gratipay (#2282)</li>
<li>Add link to changelog in sidebar (#2273)</li>
</ul>
</div>
<div class="section" id="id46">
<h5>2.4.3 (2014-10-06)<a class="headerlink" href="#id46" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Unicode URL improvements for Python 2.</li>
<li>Re-order JSON param for backwards compat.</li>
<li>Automatically defrag authentication schemes from host/pass URIs. (<a class="reference external" href="https://github.com/requests/requests/issues/2249">#2249</a>)</li>
</ul>
</div>
<div class="section" id="id48">
<h5>2.4.2 (2014-10-05)<a class="headerlink" href="#id48" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>FINALLY! Add json parameter for uploads! (<a class="reference external" href="https://github.com/requests/requests/pull/2258">#2258</a>)</li>
<li>Support for bytestring URLs on Python 3.x (<a class="reference external" href="https://github.com/requests/requests/pull/2238">#2238</a>)</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Avoid getting stuck in a loop (<a class="reference external" href="https://github.com/requests/requests/pull/2244">#2244</a>)</li>
<li>Multiple calls to iter* fail with unhelpful error. (<a class="reference external" href="https://github.com/requests/requests/issues/2240">#2240</a>, <a class="reference external" href="https://github.com/requests/requests/issues/2241">#2241</a>)</li>
</ul>
<p><strong>Documentation</strong></p>
<ul class="simple">
<li>Correct redirection introduction (<a class="reference external" href="https://github.com/requests/requests/pull/2245/">#2245</a>)</li>
<li>Added example of how to send multiple files in one request. (<a class="reference external" href="https://github.com/requests/requests/pull/2227/">#2227</a>)</li>
<li>Clarify how to pass a custom set of CAs (<a class="reference external" href="https://github.com/requests/requests/pull/2248/">#2248</a>)</li>
</ul>
</div>
<div class="section" id="id57">
<h5>2.4.1 (2014-09-09)<a class="headerlink" href="#id57" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Now has a &quot;security&quot; package extras set, <code class="docutils literal"><span class="pre">$</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">requests[security]</span></code></li>
<li>Requests will now use Certifi if it is available.</li>
<li>Capture and re-raise urllib3 ProtocolError</li>
<li>Bugfix for responses that attempt to redirect to themselves forever (wtf?).</li>
</ul>
</div>
<div class="section" id="id58">
<h5>2.4.0 (2014-08-29)<a class="headerlink" href="#id58" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Behavioral Changes</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Connection:</span> <span class="pre">keep-alive</span></code> header is now sent automatically.</li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li>Support for connect timeouts! Timeout now accepts a tuple (connect, read) which is used to set individual connect and read timeouts.</li>
<li>Allow copying of PreparedRequests without headers/cookies.</li>
<li>Updated bundled urllib3 version.</li>
<li>Refactored settings loading from environment -- new <cite>Session.merge_environment_settings</cite>.</li>
<li>Handle socket errors in iter_content.</li>
</ul>
</div>
<div class="section" id="id59">
<h5>2.3.0 (2014-05-16)<a class="headerlink" href="#id59" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>API Changes</strong></p>
<ul class="simple">
<li>New <code class="docutils literal"><span class="pre">Response</span></code> property <code class="docutils literal"><span class="pre">is_redirect</span></code>, which is true when the
library could have processed this response as a redirection (whether
or not it actually did).</li>
<li>The <code class="docutils literal"><span class="pre">timeout</span></code> parameter now affects requests with both <code class="docutils literal"><span class="pre">stream=True</span></code> and
<code class="docutils literal"><span class="pre">stream=False</span></code> equally.</li>
<li>The change in v2.0.0 to mandate explicit proxy schemes has been reverted.
Proxy schemes now default to <code class="docutils literal"><span class="pre">http://</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">CaseInsensitiveDict</span></code> used for HTTP headers now behaves like a normal
dictionary when references as string or viewed in the interpreter.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>No longer expose Authorization or Proxy-Authorization headers on redirect.
Fix CVE-2014-1829 and CVE-2014-1830 respectively.</li>
<li>Authorization is re-evaluated each redirect.</li>
<li>On redirect, pass url as native strings.</li>
<li>Fall-back to autodetected encoding for JSON when Unicode detection fails.</li>
<li>Headers set to <code class="docutils literal"><span class="pre">None</span></code> on the <code class="docutils literal"><span class="pre">Session</span></code> are now correctly not sent.</li>
<li>Correctly honor <code class="docutils literal"><span class="pre">decode_unicode</span></code> even if it wasn't used earlier in the same
response.</li>
<li>Stop advertising <code class="docutils literal"><span class="pre">compress</span></code> as a supported Content-Encoding.</li>
<li>The <code class="docutils literal"><span class="pre">Response.history</span></code> parameter is now always a list.</li>
<li>Many, many <code class="docutils literal"><span class="pre">urllib3</span></code> bugfixes.</li>
</ul>
</div>
<div class="section" id="id60">
<h5>2.2.1 (2014-01-23)<a class="headerlink" href="#id60" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Fixes incorrect parsing of proxy credentials that contain a literal or encoded '#' character.</li>
<li>Assorted urllib3 fixes.</li>
</ul>
</div>
<div class="section" id="id61">
<h5>2.2.0 (2014-01-09)<a class="headerlink" href="#id61" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>API Changes</strong></p>
<ul class="simple">
<li>New exception: <code class="docutils literal"><span class="pre">ContentDecodingError</span></code>. Raised instead of <code class="docutils literal"><span class="pre">urllib3</span></code>
<code class="docutils literal"><span class="pre">DecodeError</span></code> exceptions.</li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li>Avoid many many exceptions from the buggy implementation of <code class="docutils literal"><span class="pre">proxy_bypass</span></code> on OS X in Python 2.6.</li>
<li>Avoid crashing when attempting to get authentication credentials from ~/.netrc when running as a user without a home directory.</li>
<li>Use the correct pool size for pools of connections to proxies.</li>
<li>Fix iteration of <code class="docutils literal"><span class="pre">CookieJar</span></code> objects.</li>
<li>Ensure that cookies are persisted over redirect.</li>
<li>Switch back to using chardet, since it has merged with charade.</li>
</ul>
</div>
<div class="section" id="id62">
<h5>2.1.0 (2013-12-05)<a class="headerlink" href="#id62" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Updated CA Bundle, of course.</li>
<li>Cookies set on individual Requests through a <code class="docutils literal"><span class="pre">Session</span></code> (e.g. via <code class="docutils literal"><span class="pre">Session.get()</span></code>) are no longer persisted to the <code class="docutils literal"><span class="pre">Session</span></code>.</li>
<li>Clean up connections when we hit problems during chunked upload, rather than leaking them.</li>
<li>Return connections to the pool when a chunked upload is successful, rather than leaking it.</li>
<li>Match the HTTPbis recommendation for HTTP 301 redirects.</li>
<li>Prevent hanging when using streaming uploads and Digest Auth when a 401 is received.</li>
<li>Values of headers set by Requests are now always the native string type.</li>
<li>Fix previously broken SNI support.</li>
<li>Fix accessing HTTP proxies using proxy authentication.</li>
<li>Unencode HTTP Basic usernames and passwords extracted from URLs.</li>
<li>Support for IP address ranges for no_proxy environment variable</li>
<li>Parse headers correctly when users override the default <code class="docutils literal"><span class="pre">Host:</span></code> header.</li>
<li>Avoid munging the URL in case of case-sensitive servers.</li>
<li>Looser URL handling for non-HTTP/HTTPS urls.</li>
<li>Accept unicode methods in Python 2.6 and 2.7.</li>
<li>More resilient cookie handling.</li>
<li>Make <code class="docutils literal"><span class="pre">Response</span></code> objects pickleable.</li>
<li>Actually added MD5-sess to Digest Auth instead of pretending to like last time.</li>
<li>Updated internal urllib3.</li>
<li>Fixed &#64;Lukasa's lack of taste.</li>
</ul>
</div>
<div class="section" id="id63">
<h5>2.0.1 (2013-10-24)<a class="headerlink" href="#id63" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Updated included CA Bundle with new mistrusts and automated process for the future</li>
<li>Added MD5-sess to Digest Auth</li>
<li>Accept per-file headers in multipart file POST messages.</li>
<li>Fixed: Don't send the full URL on CONNECT messages.</li>
<li>Fixed: Correctly lowercase a redirect scheme.</li>
<li>Fixed: Cookies not persisted when set via functional API.</li>
<li>Fixed: Translate urllib3 ProxyError into a requests ProxyError derived from ConnectionError.</li>
<li>Updated internal urllib3 and chardet.</li>
</ul>
</div>
<div class="section" id="id64">
<h5>2.0.0 (2013-09-24)<a class="headerlink" href="#id64" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p><strong>API Changes:</strong></p>
<ul class="simple">
<li>Keys in the Headers dictionary are now native strings on all Python versions,
i.e. bytestrings on Python 2, unicode on Python 3.</li>
<li>Proxy URLs now <em>must</em> have an explicit scheme. A <code class="docutils literal"><span class="pre">MissingSchema</span></code> exception
will be raised if they don't.</li>
<li>Timeouts now apply to read time if <code class="docutils literal"><span class="pre">Stream=False</span></code>.</li>
<li><code class="docutils literal"><span class="pre">RequestException</span></code> is now a subclass of <code class="docutils literal"><span class="pre">IOError</span></code>, not <code class="docutils literal"><span class="pre">RuntimeError</span></code>.</li>
<li>Added new method to <code class="docutils literal"><span class="pre">PreparedRequest</span></code> objects: <code class="docutils literal"><span class="pre">PreparedRequest.copy()</span></code>.</li>
<li>Added new method to <code class="docutils literal"><span class="pre">Session</span></code> objects: <code class="docutils literal"><span class="pre">Session.update_request()</span></code>. This
method updates a <code class="docutils literal"><span class="pre">Request</span></code> object with the data (e.g. cookies) stored on
the <code class="docutils literal"><span class="pre">Session</span></code>.</li>
<li>Added new method to <code class="docutils literal"><span class="pre">Session</span></code> objects: <code class="docutils literal"><span class="pre">Session.prepare_request()</span></code>. This
method updates and prepares a <code class="docutils literal"><span class="pre">Request</span></code> object, and returns the
corresponding <code class="docutils literal"><span class="pre">PreparedRequest</span></code> object.</li>
<li>Added new method to <code class="docutils literal"><span class="pre">HTTPAdapter</span></code> objects: <code class="docutils literal"><span class="pre">HTTPAdapter.proxy_headers()</span></code>.
This should not be called directly, but improves the subclass interface.</li>
<li><code class="docutils literal"><span class="pre">httplib.IncompleteRead</span></code> exceptions caused by incorrect chunked encoding
will now raise a Requests <code class="docutils literal"><span class="pre">ChunkedEncodingError</span></code> instead.</li>
<li>Invalid percent-escape sequences now cause a Requests <code class="docutils literal"><span class="pre">InvalidURL</span></code>
exception to be raised.</li>
<li>HTTP 208 no longer uses reason phrase <code class="docutils literal"><span class="pre">&quot;im_used&quot;</span></code>. Correctly uses
<code class="docutils literal"><span class="pre">&quot;already_reported&quot;</span></code>.</li>
<li>HTTP 226 reason added (<code class="docutils literal"><span class="pre">&quot;im_used&quot;</span></code>).</li>
</ul>
<p><strong>Bugfixes:</strong></p>
<ul class="simple">
<li>Vastly improved proxy support, including the CONNECT verb. Special thanks to
the many contributors who worked towards this improvement.</li>
<li>Cookies are now properly managed when 401 authentication responses are
received.</li>
<li>Chunked encoding fixes.</li>
<li>Support for mixed case schemes.</li>
<li>Better handling of streaming downloads.</li>
<li>Retrieve environment proxies from more locations.</li>
<li>Minor cookies fixes.</li>
<li>Improved redirect behaviour.</li>
<li>Improved streaming behaviour, particularly for compressed data.</li>
<li>Miscellaneous small Python 3 text encoding bugs.</li>
<li><code class="docutils literal"><span class="pre">.netrc</span></code> no longer overrides explicit auth.</li>
<li>Cookies set by hooks are now correctly persisted on Sessions.</li>
<li>Fix problem with cookies that specify port numbers in their host field.</li>
<li><code class="docutils literal"><span class="pre">BytesIO</span></code> can be used to perform streaming uploads.</li>
<li>More generous parsing of the <code class="docutils literal"><span class="pre">no_proxy</span></code> environment variable.</li>
<li>Non-string objects can be passed in data values alongside files.</li>
</ul>
</div>
<div class="section" id="id65">
<h5>1.2.3 (2013-05-25)<a class="headerlink" href="#id65" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Simple packaging fix</li>
</ul>
</div>
<div class="section" id="id66">
<h5>1.2.2 (2013-05-23)<a class="headerlink" href="#id66" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Simple packaging fix</li>
</ul>
</div>
<div class="section" id="id67">
<h5>1.2.1 (2013-05-20)<a class="headerlink" href="#id67" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>301 and 302 redirects now change the verb to GET for all verbs, not just
POST, improving browser compatibility.</li>
<li>Python 3.3.2 compatibility</li>
<li>Always percent-encode location headers</li>
<li>Fix connection adapter matching to be most-specific first</li>
<li>new argument to the default connection adapter for passing a block argument</li>
<li>prevent a KeyError when there's no link headers</li>
</ul>
</div>
<div class="section" id="id68">
<h5>1.2.0 (2013-03-31)<a class="headerlink" href="#id68" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Fixed cookies on sessions and on requests</li>
<li>Significantly change how hooks are dispatched - hooks now receive all the
arguments specified by the user when making a request so hooks can make a
secondary request with the same parameters. This is especially necessary for
authentication handler authors</li>
<li>certifi support was removed</li>
<li>Fixed bug where using OAuth 1 with body <code class="docutils literal"><span class="pre">signature_type</span></code> sent no data</li>
<li>Major proxy work thanks to &#64;Lukasa including parsing of proxy authentication
from the proxy url</li>
<li>Fix DigestAuth handling too many 401s</li>
<li>Update vendored urllib3 to include SSL bug fixes</li>
<li>Allow keyword arguments to be passed to <code class="docutils literal"><span class="pre">json.loads()</span></code> via the
<code class="docutils literal"><span class="pre">Response.json()</span></code> method</li>
<li>Don't send <code class="docutils literal"><span class="pre">Content-Length</span></code> header by default on <code class="docutils literal"><span class="pre">GET</span></code> or <code class="docutils literal"><span class="pre">HEAD</span></code>
requests</li>
<li>Add <code class="docutils literal"><span class="pre">elapsed</span></code> attribute to <code class="docutils literal"><span class="pre">Response</span></code> objects to time how long a request
took.</li>
<li>Fix <code class="docutils literal"><span class="pre">RequestsCookieJar</span></code></li>
<li>Sessions and Adapters are now picklable, i.e., can be used with the
multiprocessing library</li>
<li>Update charade to version 1.0.3</li>
</ul>
<p>The change in how hooks are dispatched will likely cause a great deal of
issues.</p>
</div>
<div class="section" id="id69">
<h5>1.1.0 (2013-01-10)<a class="headerlink" href="#id69" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>CHUNKED REQUESTS</li>
<li>Support for iterable response bodies</li>
<li>Assume servers persist redirect params</li>
<li>Allow explicit content types to be specified for file data</li>
<li>Make merge_kwargs case-insensitive when looking up keys</li>
</ul>
</div>
<div class="section" id="id70">
<h5>1.0.3 (2012-12-18)<a class="headerlink" href="#id70" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Fix file upload encoding bug</li>
<li>Fix cookie behavior</li>
</ul>
</div>
<div class="section" id="id71">
<h5>1.0.2 (2012-12-17)<a class="headerlink" href="#id71" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Proxy fix for HTTPAdapter.</li>
</ul>
</div>
<div class="section" id="id72">
<h5>1.0.1 (2012-12-17)<a class="headerlink" href="#id72" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Cert verification exception bug.</li>
<li>Proxy fix for HTTPAdapter.</li>
</ul>
</div>
<div class="section" id="id73">
<h5>1.0.0 (2012-12-17)<a class="headerlink" href="#id73" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Massive Refactor and Simplification</li>
<li>Switch to Apache 2.0 license</li>
<li>Swappable Connection Adapters</li>
<li>Mountable Connection Adapters</li>
<li>Mutable ProcessedRequest chain</li>
<li>/s/prefetch/stream</li>
<li>Removal of all configuration</li>
<li>Standard library logging</li>
<li>Make Response.json() callable, not property.</li>
<li>Usage of new charade project, which provides python 2 and 3 simultaneous chardet.</li>
<li>Removal of all hooks except 'response'</li>
<li>Removal of all authentication helpers (OAuth, Kerberos)</li>
</ul>
<p>This is not a backwards compatible change.</p>
</div>
<div class="section" id="id74">
<h5>0.14.2 (2012-10-27)<a class="headerlink" href="#id74" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Improved mime-compatible JSON handling</li>
<li>Proxy fixes</li>
<li>Path hack fixes</li>
<li>Case-Insensitive Content-Encoding headers</li>
<li>Support for CJK parameters in form posts</li>
</ul>
</div>
<div class="section" id="id75">
<h5>0.14.1 (2012-10-01)<a class="headerlink" href="#id75" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Python 3.3 Compatibility</li>
<li>Simply default accept-encoding</li>
<li>Bugfixes</li>
</ul>
</div>
<div class="section" id="id76">
<h5>0.14.0 (2012-09-02)<a class="headerlink" href="#id76" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>No more iter_content errors if already downloaded.</li>
</ul>
</div>
<div class="section" id="id77">
<h5>0.13.9 (2012-08-25)<a class="headerlink" href="#id77" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Fix for OAuth + POSTs</li>
<li>Remove exception eating from dispatch_hook</li>
<li>General bugfixes</li>
</ul>
</div>
<div class="section" id="id78">
<h5>0.13.8 (2012-08-21)<a class="headerlink" href="#id78" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Incredible Link header support :)</li>
</ul>
</div>
<div class="section" id="id79">
<h5>0.13.7 (2012-08-19)<a class="headerlink" href="#id79" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Support for (key, value) lists everywhere.</li>
<li>Digest Authentication improvements.</li>
<li>Ensure proxy exclusions work properly.</li>
<li>Clearer UnicodeError exceptions.</li>
<li>Automatic casting of URLs to strings (fURL and such)</li>
<li>Bugfixes.</li>
</ul>
</div>
<div class="section" id="id80">
<h5>0.13.6 (2012-08-06)<a class="headerlink" href="#id80" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Long awaited fix for hanging connections!</li>
</ul>
</div>
<div class="section" id="id81">
<h5>0.13.5 (2012-07-27)<a class="headerlink" href="#id81" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Packaging fix</li>
</ul>
</div>
<div class="section" id="id82">
<h5>0.13.4 (2012-07-27)<a class="headerlink" href="#id82" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>GSSAPI/Kerberos authentication!</li>
<li>App Engine 2.7 Fixes!</li>
<li>Fix leaking connections (from urllib3 update)</li>
<li>OAuthlib path hack fix</li>
<li>OAuthlib URL parameters fix.</li>
</ul>
</div>
<div class="section" id="id83">
<h5>0.13.3 (2012-07-12)<a class="headerlink" href="#id83" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Use simplejson if available.</li>
<li>Do not hide SSLErrors behind Timeouts.</li>
<li>Fixed param handling with urls containing fragments.</li>
<li>Significantly improved information in User Agent.</li>
<li>client certificates are ignored when verify=False</li>
</ul>
</div>
<div class="section" id="id84">
<h5>0.13.2 (2012-06-28)<a class="headerlink" href="#id84" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Zero dependencies (once again)!</li>
<li>New: Response.reason</li>
<li>Sign querystring parameters in OAuth 1.0</li>
<li>Client certificates no longer ignored when verify=False</li>
<li>Add openSUSE certificate support</li>
</ul>
</div>
<div class="section" id="id85">
<h5>0.13.1 (2012-06-07)<a class="headerlink" href="#id85" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Allow passing a file or file-like object as data.</li>
<li>Allow hooks to return responses that indicate errors.</li>
<li>Fix Response.text and Response.json for body-less responses.</li>
</ul>
</div>
<div class="section" id="id86">
<h5>0.13.0 (2012-05-29)<a class="headerlink" href="#id86" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Removal of Requests.async in favor of <a class="reference external" href="https://github.com/kennethreitz/grequests">grequests</a></li>
<li>Allow disabling of cookie persistence.</li>
<li>New implementation of safe_mode</li>
<li>cookies.get now supports default argument</li>
<li>Session cookies not saved when Session.request is called with return_response=False</li>
<li>Env: no_proxy support.</li>
<li>RequestsCookieJar improvements.</li>
<li>Various bug fixes.</li>
</ul>
</div>
<div class="section" id="id87">
<h5>0.12.1 (2012-05-08)<a class="headerlink" href="#id87" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>New <code class="docutils literal"><span class="pre">Response.json</span></code> property.</li>
<li>Ability to add string file uploads.</li>
<li>Fix out-of-range issue with iter_lines.</li>
<li>Fix iter_content default size.</li>
<li>Fix POST redirects containing files.</li>
</ul>
</div>
<div class="section" id="id88">
<h5>0.12.0 (2012-05-02)<a class="headerlink" href="#id88" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>EXPERIMENTAL OAUTH SUPPORT!</li>
<li>Proper CookieJar-backed cookies interface with awesome dict-like interface.</li>
<li>Speed fix for non-iterated content chunks.</li>
<li>Move <code class="docutils literal"><span class="pre">pre_request</span></code> to a more usable place.</li>
<li>New <code class="docutils literal"><span class="pre">pre_send</span></code> hook.</li>
<li>Lazily encode data, params, files.</li>
<li>Load system Certificate Bundle if <code class="docutils literal"><span class="pre">certify</span></code> isn't available.</li>
<li>Cleanups, fixes.</li>
</ul>
</div>
<div class="section" id="id89">
<h5>0.11.2 (2012-04-22)<a class="headerlink" href="#id89" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Attempt to use the OS's certificate bundle if <code class="docutils literal"><span class="pre">certifi</span></code> isn't available.</li>
<li>Infinite digest auth redirect fix.</li>
<li>Multi-part file upload improvements.</li>
<li>Fix decoding of invalid %encodings in URLs.</li>
<li>If there is no content in a response don't throw an error the second time that content is attempted to be read.</li>
<li>Upload data on redirects.</li>
</ul>
</div>
<div class="section" id="id90">
<h5>0.11.1 (2012-03-30)<a class="headerlink" href="#id90" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>POST redirects now break RFC to do what browsers do: Follow up with a GET.</li>
<li>New <code class="docutils literal"><span class="pre">strict_mode</span></code> configuration to disable new redirect behavior.</li>
</ul>
</div>
<div class="section" id="id91">
<h5>0.11.0 (2012-03-14)<a class="headerlink" href="#id91" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Private SSL Certificate support</li>
<li>Remove select.poll from Gevent monkeypatching</li>
<li>Remove redundant generator for chunked transfer encoding</li>
<li>Fix: Response.ok raises Timeout Exception in safe_mode</li>
</ul>
</div>
<div class="section" id="id92">
<h5>0.10.8 (2012-03-09)<a class="headerlink" href="#id92" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Generate chunked ValueError fix</li>
<li>Proxy configuration by environment variables</li>
<li>Simplification of iter_lines.</li>
<li>New <cite>trust_env</cite> configuration for disabling system/environment hints.</li>
<li>Suppress cookie errors.</li>
</ul>
</div>
<div class="section" id="id93">
<h5>0.10.7 (2012-03-07)<a class="headerlink" href="#id93" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li><cite>encode_uri</cite> = False</li>
</ul>
</div>
<div class="section" id="id94">
<h5>0.10.6 (2012-02-25)<a class="headerlink" href="#id94" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Allow '=' in cookies.</li>
</ul>
</div>
<div class="section" id="id95">
<h5>0.10.5 (2012-02-25)<a class="headerlink" href="#id95" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Response body with 0 content-length fix.</li>
<li>New async.imap.</li>
<li>Don't fail on netrc.</li>
</ul>
</div>
<div class="section" id="id96">
<h5>0.10.4 (2012-02-20)<a class="headerlink" href="#id96" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Honor netrc.</li>
</ul>
</div>
<div class="section" id="id97">
<h5>0.10.3 (2012-02-20)<a class="headerlink" href="#id97" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>HEAD requests don't follow redirects anymore.</li>
<li>raise_for_status() doesn't raise for 3xx anymore.</li>
<li>Make Session objects picklable.</li>
<li>ValueError for invalid schema URLs.</li>
</ul>
</div>
<div class="section" id="id98">
<h5>0.10.2 (2012-01-15)<a class="headerlink" href="#id98" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Vastly improved URL quoting.</li>
<li>Additional allowed cookie key values.</li>
<li>Attempted fix for &quot;Too many open files&quot; Error</li>
<li>Replace unicode errors on first pass, no need for second pass.</li>
<li>Append '/' to bare-domain urls before query insertion.</li>
<li>Exceptions now inherit from RuntimeError.</li>
<li>Binary uploads + auth fix.</li>
<li>Bugfixes.</li>
</ul>
</div>
<div class="section" id="id99">
<h5>0.10.1 (2012-01-23)<a class="headerlink" href="#id99" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>PYTHON 3 SUPPORT!</li>
<li>Dropped 2.5 Support. (<em>Backwards Incompatible</em>)</li>
</ul>
</div>
<div class="section" id="id100">
<h5>0.10.0 (2012-01-21)<a class="headerlink" href="#id100" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Response.content</span></code> is now bytes-only. (<em>Backwards Incompatible</em>)</li>
<li>New <code class="docutils literal"><span class="pre">Response.text</span></code> is unicode-only.</li>
<li>If no <code class="docutils literal"><span class="pre">Response.encoding</span></code> is specified and <code class="docutils literal"><span class="pre">chardet</span></code> is available, <code class="docutils literal"><span class="pre">Response.text</span></code> will guess an encoding.</li>
<li>Default to ISO-8859-1 (Western) encoding for &quot;text&quot; subtypes.</li>
<li>Removal of <cite>decode_unicode</cite>. (<em>Backwards Incompatible</em>)</li>
<li>New multiple-hooks system.</li>
<li>New <code class="docutils literal"><span class="pre">Response.register_hook</span></code> for registering hooks within the pipeline.</li>
<li><code class="docutils literal"><span class="pre">Response.url</span></code> is now Unicode.</li>
</ul>
</div>
<div class="section" id="id101">
<h5>0.9.3 (2012-01-18)<a class="headerlink" href="#id101" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>SSL verify=False bugfix (apparent on windows machines).</li>
</ul>
</div>
<div class="section" id="id102">
<h5>0.9.2 (2012-01-18)<a class="headerlink" href="#id102" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Asynchronous async.send method.</li>
<li>Support for proper chunk streams with boundaries.</li>
<li>session argument for Session classes.</li>
<li>Print entire hook tracebacks, not just exception instance.</li>
<li>Fix response.iter_lines from pending next line.</li>
<li>Fix but in HTTP-digest auth w/ URI having query strings.</li>
<li>Fix in Event Hooks section.</li>
<li>Urllib3 update.</li>
</ul>
</div>
<div class="section" id="id103">
<h5>0.9.1 (2012-01-06)<a class="headerlink" href="#id103" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>danger_mode for automatic Response.raise_for_status()</li>
<li>Response.iter_lines refactor</li>
</ul>
</div>
<div class="section" id="id104">
<h5>0.9.0 (2011-12-28)<a class="headerlink" href="#id104" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>verify ssl is default.</li>
</ul>
</div>
<div class="section" id="id105">
<h5>0.8.9 (2011-12-28)<a class="headerlink" href="#id105" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Packaging fix.</li>
</ul>
</div>
<div class="section" id="id106">
<h5>0.8.8 (2011-12-28)<a class="headerlink" href="#id106" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>SSL CERT VERIFICATION!</li>
<li>Release of Cerifi: Mozilla's cert list.</li>
<li>New 'verify' argument for SSL requests.</li>
<li>Urllib3 update.</li>
</ul>
</div>
<div class="section" id="id107">
<h5>0.8.7 (2011-12-24)<a class="headerlink" href="#id107" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>iter_lines last-line truncation fix</li>
<li>Force safe_mode for async requests</li>
<li>Handle safe_mode exceptions more consistently</li>
<li>Fix iteration on null responses in safe_mode</li>
</ul>
</div>
<div class="section" id="id108">
<h5>0.8.6 (2011-12-18)<a class="headerlink" href="#id108" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Socket timeout fixes.</li>
<li>Proxy Authorization support.</li>
</ul>
</div>
<div class="section" id="id109">
<h5>0.8.5 (2011-12-14)<a class="headerlink" href="#id109" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Response.iter_lines!</li>
</ul>
</div>
<div class="section" id="id110">
<h5>0.8.4 (2011-12-11)<a class="headerlink" href="#id110" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Prefetch bugfix.</li>
<li>Added license to installed version.</li>
</ul>
</div>
<div class="section" id="id111">
<h5>0.8.3 (2011-11-27)<a class="headerlink" href="#id111" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Converted auth system to use simpler callable objects.</li>
<li>New session parameter to API methods.</li>
<li>Display full URL while logging.</li>
</ul>
</div>
<div class="section" id="id112">
<h5>0.8.2 (2011-11-19)<a class="headerlink" href="#id112" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>New Unicode decoding system, based on over-ridable <cite>Response.encoding</cite>.</li>
<li>Proper URL slash-quote handling.</li>
<li>Cookies with <code class="docutils literal"><span class="pre">[</span></code>, <code class="docutils literal"><span class="pre">]</span></code>, and <code class="docutils literal"><span class="pre">_</span></code> allowed.</li>
</ul>
</div>
<div class="section" id="id113">
<h5>0.8.1 (2011-11-15)<a class="headerlink" href="#id113" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>URL Request path fix</li>
<li>Proxy fix.</li>
<li>Timeouts fix.</li>
</ul>
</div>
<div class="section" id="id114">
<h5>0.8.0 (2011-11-13)<a class="headerlink" href="#id114" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Keep-alive support!</li>
<li>Complete removal of Urllib2</li>
<li>Complete removal of Poster</li>
<li>Complete removal of CookieJars</li>
<li>New ConnectionError raising</li>
<li>Safe_mode for error catching</li>
<li>prefetch parameter for request methods</li>
<li>OPTION method</li>
<li>Async pool size throttling</li>
<li>File uploads send real names</li>
<li>Vendored in urllib3</li>
</ul>
</div>
<div class="section" id="id115">
<h5>0.7.6 (2011-11-07)<a class="headerlink" href="#id115" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Digest authentication bugfix (attach query data to path)</li>
</ul>
</div>
<div class="section" id="id116">
<h5>0.7.5 (2011-11-04)<a class="headerlink" href="#id116" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Response.content = None if there was an invalid response.</li>
<li>Redirection auth handling.</li>
</ul>
</div>
<div class="section" id="id117">
<h5>0.7.4 (2011-10-26)<a class="headerlink" href="#id117" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Session Hooks fix.</li>
</ul>
</div>
<div class="section" id="id118">
<h5>0.7.3 (2011-10-23)<a class="headerlink" href="#id118" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Digest Auth fix.</li>
</ul>
</div>
<div class="section" id="id119">
<h5>0.7.2 (2011-10-23)<a class="headerlink" href="#id119" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>PATCH Fix.</li>
</ul>
</div>
<div class="section" id="id120">
<h5>0.7.1 (2011-10-23)<a class="headerlink" href="#id120" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Move away from urllib2 authentication handling.</li>
<li>Fully Remove AuthManager, AuthObject, &amp;c.</li>
<li>New tuple-based auth system with handler callbacks.</li>
</ul>
</div>
<div class="section" id="id121">
<h5>0.7.0 (2011-10-22)<a class="headerlink" href="#id121" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Sessions are now the primary interface.</li>
<li>Deprecated InvalidMethodException.</li>
<li>PATCH fix.</li>
<li>New config system (no more global settings).</li>
</ul>
</div>
<div class="section" id="id122">
<h5>0.6.6 (2011-10-19)<a class="headerlink" href="#id122" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Session parameter bugfix (params merging).</li>
</ul>
</div>
<div class="section" id="id123">
<h5>0.6.5 (2011-10-18)<a class="headerlink" href="#id123" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Offline (fast) test suite.</li>
<li>Session dictionary argument merging.</li>
</ul>
</div>
<div class="section" id="id124">
<h5>0.6.4 (2011-10-13)<a class="headerlink" href="#id124" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Automatic decoding of unicode, based on HTTP Headers.</li>
<li>New <code class="docutils literal"><span class="pre">decode_unicode</span></code> setting.</li>
<li>Removal of <code class="docutils literal"><span class="pre">r.read/close</span></code> methods.</li>
<li>New <code class="docutils literal"><span class="pre">r.faw</span></code> interface for advanced response usage.*</li>
<li>Automatic expansion of parameterized headers.</li>
</ul>
</div>
<div class="section" id="id125">
<h5>0.6.3 (2011-10-13)<a class="headerlink" href="#id125" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Beautiful <code class="docutils literal"><span class="pre">requests.async</span></code> module, for making async requests w/ gevent.</li>
</ul>
</div>
<div class="section" id="id126">
<h5>0.6.2 (2011-10-09)<a class="headerlink" href="#id126" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>GET/HEAD obeys allow_redirects=False.</li>
</ul>
</div>
<div class="section" id="id127">
<h5>0.6.1 (2011-08-20)<a class="headerlink" href="#id127" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Enhanced status codes experience <code class="docutils literal"><span class="pre">\o/</span></code></li>
<li>Set a maximum number of redirects (<code class="docutils literal"><span class="pre">settings.max_redirects</span></code>)</li>
<li>Full Unicode URL support</li>
<li>Support for protocol-less redirects.</li>
<li>Allow for arbitrary request types.</li>
<li>Bugfixes</li>
</ul>
</div>
<div class="section" id="id128">
<h5>0.6.0 (2011-08-17)<a class="headerlink" href="#id128" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>New callback hook system</li>
<li>New persistent sessions object and context manager</li>
<li>Transparent Dict-cookie handling</li>
<li>Status code reference object</li>
<li>Removed Response.cached</li>
<li>Added Response.request</li>
<li>All args are kwargs</li>
<li>Relative redirect support</li>
<li>HTTPError handling improvements</li>
<li>Improved https testing</li>
<li>Bugfixes</li>
</ul>
</div>
<div class="section" id="id129">
<h5>0.5.1 (2011-07-23)<a class="headerlink" href="#id129" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>International Domain Name Support!</li>
<li>Access headers without fetching entire body (<code class="docutils literal"><span class="pre">read()</span></code>)</li>
<li>Use lists as dicts for parameters</li>
<li>Add Forced Basic Authentication</li>
<li>Forced Basic is default authentication type</li>
<li><code class="docutils literal"><span class="pre">python-requests.org</span></code> default User-Agent header</li>
<li>CaseInsensitiveDict lower-case caching</li>
<li>Response.history bugfix</li>
</ul>
</div>
<div class="section" id="id130">
<h5>0.5.0 (2011-06-21)<a class="headerlink" href="#id130" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>PATCH Support</li>
<li>Support for Proxies</li>
<li>HTTPBin Test Suite</li>
<li>Redirect Fixes</li>
<li>settings.verbose stream writing</li>
<li>Querystrings for all methods</li>
<li>URLErrors (Connection Refused, Timeout, Invalid URLs) are treated as explicitly raised
<code class="docutils literal"><span class="pre">r.requests.get('hwe://blah');</span> <span class="pre">r.raise_for_status()</span></code></li>
</ul>
</div>
<div class="section" id="id131">
<h5>0.4.1 (2011-05-22)<a class="headerlink" href="#id131" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Improved Redirection Handling</li>
<li>New 'allow_redirects' param for following non-GET/HEAD Redirects</li>
<li>Settings module refactoring</li>
</ul>
</div>
<div class="section" id="id132">
<h5>0.4.0 (2011-05-15)<a class="headerlink" href="#id132" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Response.history: list of redirected responses</li>
<li>Case-Insensitive Header Dictionaries!</li>
<li>Unicode URLs</li>
</ul>
</div>
<div class="section" id="id133">
<h5>0.3.4 (2011-05-14)<a class="headerlink" href="#id133" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Urllib2 HTTPAuthentication Recursion fix (Basic/Digest)</li>
<li>Internal Refactor</li>
<li>Bytes data upload Bugfix</li>
</ul>
</div>
<div class="section" id="id134">
<h5>0.3.3 (2011-05-12)<a class="headerlink" href="#id134" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Request timeouts</li>
<li>Unicode url-encoded data</li>
<li>Settings context manager and module</li>
</ul>
</div>
<div class="section" id="id135">
<h5>0.3.2 (2011-04-15)<a class="headerlink" href="#id135" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Automatic Decompression of GZip Encoded Content</li>
<li>AutoAuth Support for Tupled HTTP Auth</li>
</ul>
</div>
<div class="section" id="id136">
<h5>0.3.1 (2011-04-01)<a class="headerlink" href="#id136" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Cookie Changes</li>
<li>Response.read()</li>
<li>Poster fix</li>
</ul>
</div>
<div class="section" id="id137">
<h5>0.3.0 (2011-02-25)<a class="headerlink" href="#id137" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Automatic Authentication API Change</li>
<li>Smarter Query URL Parameterization</li>
<li>Allow file uploads and POST data together</li>
<li><dl class="first docutils">
<dt>New Authentication Manager System</dt>
<dd><ul class="first last">
<li>Simpler Basic HTTP System</li>
<li>Supports all build-in urllib2 Auths</li>
<li>Allows for custom Auth Handlers</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id138">
<h5>0.2.4 (2011-02-19)<a class="headerlink" href="#id138" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Python 2.5 Support</li>
<li>PyPy-c v1.4 Support</li>
<li>Auto-Authentication tests</li>
<li>Improved Request object constructor</li>
</ul>
</div>
<div class="section" id="id139">
<h5>0.2.3 (2011-02-15)<a class="headerlink" href="#id139" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li><dl class="first docutils">
<dt>New HTTPHandling Methods</dt>
<dd><ul class="first last">
<li>Response.__nonzero__ (false if bad HTTP Status)</li>
<li>Response.ok (True if expected HTTP Status)</li>
<li>Response.error (Logged HTTPError if bad HTTP Status)</li>
<li>Response.raise_for_status() (Raises stored HTTPError)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id140">
<h5>0.2.2 (2011-02-14)<a class="headerlink" href="#id140" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Still handles request in the event of an HTTPError. (Issue #2)</li>
<li>Eventlet and Gevent Monkeypatch support.</li>
<li>Cookie Support (Issue #1)</li>
</ul>
</div>
<div class="section" id="id141">
<h5>0.2.1 (2011-02-14)<a class="headerlink" href="#id141" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Added file attribute to POST and PUT requests for multipart-encode file uploads.</li>
<li>Added Request.url attribute for context and redirects</li>
</ul>
</div>
<div class="section" id="id142">
<h5>0.2.0 (2011-02-14)<a class="headerlink" href="#id142" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Birth!</li>
</ul>
</div>
<div class="section" id="id143">
<h5>0.0.1 (2011-02-13)<a class="headerlink" href="#id143" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li>Frustration</li>
<li>Conception</li>
</ul>
</div>
</div>
</div>
<span id="document-community/release-process"></span><div class="section" id="release-process-and-rules">
<h3>Release Process and Rules<a class="headerlink" href="#release-process-and-rules" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">v2.6.2 æ–°ç‰ˆåŠŸèƒ½.</span></p>
</div>
<p>Starting with the version to be released after <code class="docutils literal"><span class="pre">v2.6.2</span></code>, the following rules
will govern and describe how the Requests core team produces a new release.</p>
<div class="section" id="major-releases">
<h4>Major Releases<a class="headerlink" href="#major-releases" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>A major release will include breaking changes. When it is versioned, it will
be versioned as <code class="docutils literal"><span class="pre">vX.0.0</span></code>. For example, if the previous release was
<code class="docutils literal"><span class="pre">v10.2.7</span></code> the next version will be <code class="docutils literal"><span class="pre">v11.0.0</span></code>.</p>
<p>Breaking changes are changes that break backwards compatibility with prior
versions. If the project were to change the <code class="docutils literal"><span class="pre">text</span></code> attribute on a
<code class="docutils literal"><span class="pre">Response</span></code> object to a method, that would only happen in a Major release.</p>
<p>Major releases may also include miscellaneous bug fixes and upgrades to
vendored packages. The core developers of Requests are committed to providing
a good user experience. This means we're also committed to preserving
backwards compatibility as much as possible. Major releases will be infrequent
and will need strong justifications before they are considered.</p>
</div>
<div class="section" id="minor-releases">
<h4>Minor Releases<a class="headerlink" href="#minor-releases" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>A minor release will not include breaking changes but may include
miscellaneous bug fixes and upgrades to vendored packages. If the previous
version of Requests released was <code class="docutils literal"><span class="pre">v10.2.7</span></code> a minor release would be
versioned as <code class="docutils literal"><span class="pre">v10.3.0</span></code>.</p>
<p>Minor releases will be backwards compatible with releases that have the same
major version number. In other words, all versions that would start with
<code class="docutils literal"><span class="pre">v10.</span></code> should be compatible with each other.</p>
</div>
<div class="section" id="hotfix-releases">
<h4>Hotfix Releases<a class="headerlink" href="#hotfix-releases" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>A hotfix release will only include bug fixes that were missed when the project
released the previous version. If the previous version of Requests released
<code class="docutils literal"><span class="pre">v10.2.7</span></code> the hotfix release would be versioned as <code class="docutils literal"><span class="pre">v10.2.8</span></code>.</p>
<p>Hotfixes will <strong>not</strong> include upgrades to vendored dependencies after
<code class="docutils literal"><span class="pre">v2.6.2</span></code></p>
</div>
<div class="section" id="reasoning">
<h4>Reasoning<a class="headerlink" href="#reasoning" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>In the 2.5 and 2.6 release series, the Requests core team upgraded vendored
dependencies and caused a great deal of headaches for both users and the core
team. To reduce this pain, we're forming a concrete set of procedures so
expectations will be properly set.</p>
</div>
</div>
</div>
</div>
<div class="section" id="api">
<h2>API æ–‡æ¡£/æŒ‡å—<a class="headerlink" href="#api" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å¦‚æœä½ è¦äº†è§£å…·ä½“çš„å‡½æ•°ã€ç±»ã€æ–¹æ³•ï¼Œè¿™éƒ¨åˆ†æ–‡æ¡£å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚</p>
<div class="toctree-wrapper compound">
<span id="document-api"></span><div class="section" id="module-requests">
<span id="id1"></span><span id="api"></span><h3>å¼€å‘æ¥å£<a class="headerlink" href="#module-requests" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è¿™éƒ¨åˆ†æ–‡æ¡£åŒ…å«äº† Requests æ‰€æœ‰çš„æ¥å£ã€‚å¯¹äº Requests ä¾èµ–çš„å¤–éƒ¨åº“éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä»‹ç»æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå¹¶æä¾›äº†è§„èŒƒæ–‡æ¡£çš„é“¾æ¥ã€‚</p>
<div class="section" id="id2">
<h4>ä¸»è¦æ¥å£<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests æ‰€æœ‰çš„åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡ä»¥ä¸‹ 7 ä¸ªæ–¹æ³•è®¿é—®ã€‚å®ƒä»¬å…¨éƒ¨éƒ½ä¼šè¿”å›ä¸€ä¸ª
<a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> å¯¹è±¡çš„å®ä¾‹ã€‚</p>
<dl class="function">
<dt id="requests.request">
<code class="descclassname">requests.</code><code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#request"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.request" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Constructs and sends a <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> -- method for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>params</strong> -- (optional) Dictionary or bytes to be sent in the query string for the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>data</strong> -- (optional) Dictionary or list of tuples <code class="docutils literal"><span class="pre">[(key,</span> <span class="pre">value)]</span></code> (will be form-encoded), bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>json</strong> -- (optional) json data to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>headers</strong> -- (optional) Dictionary of HTTP Headers to send with the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>cookies</strong> -- (optional) Dict or CookieJar object to send with the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>files</strong> -- (optional) Dictionary of <code class="docutils literal"><span class="pre">'name':</span> <span class="pre">file-like-objects</span></code> (or <code class="docutils literal"><span class="pre">{'name':</span> <span class="pre">file-tuple}</span></code>) for multipart encoding upload.
<code class="docutils literal"><span class="pre">file-tuple</span></code> can be a 2-tuple <code class="docutils literal"><span class="pre">('filename',</span> <span class="pre">fileobj)</span></code>, 3-tuple <code class="docutils literal"><span class="pre">('filename',</span> <span class="pre">fileobj,</span> <span class="pre">'content_type')</span></code>
or a 4-tuple <code class="docutils literal"><span class="pre">('filename',</span> <span class="pre">fileobj,</span> <span class="pre">'content_type',</span> <span class="pre">custom_headers)</span></code>, where <code class="docutils literal"><span class="pre">'content-type'</span></code> is a string
defining the content type of the given file and <code class="docutils literal"><span class="pre">custom_headers</span></code> a dict-like object containing additional headers
to add for the file.</li>
<li><strong>auth</strong> -- (optional) Auth tuple to enable Basic/Digest/Custom HTTP Auth.</li>
<li><strong>timeout</strong> (<em>float</em><em> or </em><em>tuple</em>) -- (optional) How many seconds to wait for the server to send data
before giving up, as a float, or a <a class="reference internal" href="index.html#timeouts"><span class="std std-ref">(connect timeout, read
timeout)</span></a> tuple.</li>
<li><strong>allow_redirects</strong> (<em>bool</em>) -- (optional) Boolean. Enable/disable GET/OPTIONS/POST/PUT/PATCH/DELETE/HEAD redirection. Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</li>
<li><strong>proxies</strong> -- (optional) Dictionary mapping protocol to the URL of the proxy.</li>
<li><strong>verify</strong> -- (optional) Either a boolean, in which case it controls whether we verify
the server's TLS certificate, or a string, in which case it must be a path
to a CA bundle to use. Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</li>
<li><strong>stream</strong> -- (optional) if <code class="docutils literal"><span class="pre">False</span></code>, the response content will be immediately downloaded.</li>
<li><strong>cert</strong> -- (optional) if String, path to ssl client cert file (.pem). If Tuple, ('cert', 'key') pair.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="requests.head">
<code class="descclassname">requests.</code><code class="descname">head</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#head"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.head" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a HEAD request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.get">
<code class="descclassname">requests.</code><code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#get"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.get" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a GET request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>params</strong> -- (optional) Dictionary or bytes to be sent in the query string for the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.post">
<code class="descclassname">requests.</code><code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>json=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#post"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.post" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a POST request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>data</strong> -- (optional) Dictionary (will be form-encoded), bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>json</strong> -- (optional) json data to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.put">
<code class="descclassname">requests.</code><code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#put"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.put" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a PUT request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>data</strong> -- (optional) Dictionary (will be form-encoded), bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>json</strong> -- (optional) json data to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.patch">
<code class="descclassname">requests.</code><code class="descname">patch</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#patch"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.patch" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a PATCH request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>data</strong> -- (optional) Dictionary (will be form-encoded), bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>json</strong> -- (optional) json data to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.delete">
<code class="descclassname">requests.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/api.html#delete"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.delete" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a DELETE request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first"><a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id3">
<h4>å¼‚å¸¸<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="exception">
<dt id="requests.RequestException">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">RequestException</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#RequestException"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.RequestException" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>There was an ambiguous exception that occurred while handling your
request.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.ConnectionError">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">ConnectionError</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#ConnectionError"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.ConnectionError" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A Connection error occurred.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.HTTPError">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">HTTPError</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#HTTPError"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.HTTPError" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>An HTTP error occurred.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.URLRequired">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">URLRequired</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#URLRequired"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.URLRequired" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A valid URL is required to make a request.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.TooManyRedirects">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">TooManyRedirects</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#TooManyRedirects"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.TooManyRedirects" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Too many redirects.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.ConnectTimeout">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">ConnectTimeout</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#ConnectTimeout"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.ConnectTimeout" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The request timed out while trying to connect to the remote server.</p>
<p>Requests that produced this error are safe to retry.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.ReadTimeout">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">ReadTimeout</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#ReadTimeout"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.ReadTimeout" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The server did not send any data in the allotted amount of time.</p>
</dd></dl>

<dl class="exception">
<dt id="requests.Timeout">
<em class="property">exception </em><code class="descclassname">requests.</code><code class="descname">Timeout</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/exceptions.html#Timeout"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Timeout" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The request timed out.</p>
<p>Catching this error will catch both
<code class="xref py py-exc docutils literal"><span class="pre">ConnectTimeout</span></code> and
<code class="xref py py-exc docutils literal"><span class="pre">ReadTimeout</span></code> errors.</p>
</dd></dl>

</div>
<div class="section" id="id4">
<h4>è¯·æ±‚ä¼šè¯<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<span class="target" id="sessionapi"></span><dl class="class">
<dt id="requests.Session">
<em class="property">class </em><code class="descclassname">requests.</code><code class="descname">Session</code><a class="reference internal" href="_modules/requests/sessions.html#Session"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A Requests session.</p>
<p>Provides cookie persistence, connection-pooling, and configuration.</p>
<p>Basic Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<p>Or as a context manager:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="requests.Session.auth">
<code class="descname">auth</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.auth" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Default Authentication tuple or object to attach to
<a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.cert">
<code class="descname">cert</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.cert" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>SSL client certificate default, if String, path to ssl client
cert file (.pem). If Tuple, ('cert', 'key') pair.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.close"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.close" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Closes all adapters and as such the session</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.cookies">
<code class="descname">cookies</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A CookieJar containing all currently outstanding cookies set on this
session. By default it is a
<a class="reference internal" href="#requests.cookies.RequestsCookieJar" title="requests.cookies.RequestsCookieJar"><code class="xref py py-class docutils literal"><span class="pre">RequestsCookieJar</span></code></a>, but
may be any other <code class="docutils literal"><span class="pre">cookielib.CookieJar</span></code> compatible object.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.delete"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.delete" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a DELETE request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.get"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.get" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a GET request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.get_adapter">
<code class="descname">get_adapter</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.get_adapter"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.get_adapter" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns the appropriate connection adapter for the given URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><a class="reference internal" href="index.html#requests.adapters.BaseAdapter" title="requests.adapters.BaseAdapter">requests.adapters.BaseAdapter</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.get_redirect_target">
<code class="descname">get_redirect_target</code><span class="sig-paren">(</span><em>resp</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Session.get_redirect_target" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Receives a Response. Returns a redirect URI or <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.head">
<code class="descname">head</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.head"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.head" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a HEAD request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.headers">
<code class="descname">headers</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A case-insensitive dictionary of headers to be sent on each
<a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> sent from this
<a class="reference internal" href="#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.hooks">
<code class="descname">hooks</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.hooks" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Event-handling hooks.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.max_redirects">
<code class="descname">max_redirects</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.max_redirects" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Maximum number of redirects allowed. If the request exceeds this
limit, a <a class="reference internal" href="#requests.TooManyRedirects" title="requests.TooManyRedirects"><code class="xref py py-class docutils literal"><span class="pre">TooManyRedirects</span></code></a> exception is raised.
This defaults to requests.models.DEFAULT_REDIRECT_LIMIT, which is
30.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.merge_environment_settings">
<code class="descname">merge_environment_settings</code><span class="sig-paren">(</span><em>url</em>, <em>proxies</em>, <em>stream</em>, <em>verify</em>, <em>cert</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.merge_environment_settings"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.merge_environment_settings" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Check the environment and merge it with some settings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.mount">
<code class="descname">mount</code><span class="sig-paren">(</span><em>prefix</em>, <em>adapter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.mount"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.mount" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Registers a connection adapter to a prefix.</p>
<p>Adapters are sorted in descending order by prefix length.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.options">
<code class="descname">options</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.options"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.options" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a OPTIONS request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.params">
<code class="descname">params</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.params" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dictionary of querystring data to attach to each
<a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>. The dictionary values may be lists for
representing multivalued query parameters.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.patch">
<code class="descname">patch</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.patch"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.patch" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a PATCH request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>data</strong> -- (optional) Dictionary, bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>json=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.post"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.post" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a POST request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>data</strong> -- (optional) Dictionary, bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>json</strong> -- (optional) json to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.prepare_request">
<code class="descname">prepare_request</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.prepare_request"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.prepare_request" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Constructs a <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> for
transmission and returns it. The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> has settings
merged from the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> instance and those of the
<a class="reference internal" href="#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>request</strong> -- <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> instance to prepare with this
session's settings.</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><a class="reference internal" href="index.html#requests.PreparedRequest" title="requests.PreparedRequest">requests.PreparedRequest</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.proxies">
<code class="descname">proxies</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.proxies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dictionary mapping protocol or protocol and host to the URL of the proxy
(e.g. {'http': 'foo.bar:3128', 'http://host.name': 'foo.bar:4012'}) to
be used on each <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.put"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.put" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends a PUT request. Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>data</strong> -- (optional) Dictionary, bytes, or file-like object to send in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">request</span></code> takes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.rebuild_auth">
<code class="descname">rebuild_auth</code><span class="sig-paren">(</span><em>prepared_request</em>, <em>response</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Session.rebuild_auth" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>When being redirected we may want to strip authentication from the
request to avoid leaking credentials. This method intelligently removes
and reapplies authentication where possible to avoid credential loss.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.rebuild_method">
<code class="descname">rebuild_method</code><span class="sig-paren">(</span><em>prepared_request</em>, <em>response</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Session.rebuild_method" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>When being redirected we may want to change the method of the request
based on certain specs or browser behavior.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.rebuild_proxies">
<code class="descname">rebuild_proxies</code><span class="sig-paren">(</span><em>prepared_request</em>, <em>proxies</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Session.rebuild_proxies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>This method re-evaluates the proxy configuration by considering the
environment variables. If we are redirected to a URL covered by
NO_PROXY, we strip the proxy configuration. Otherwise, we set missing
proxy keys for this URL (in case they were stripped by a previous
redirect).</p>
<p>This method also replaces the Proxy-Authorization header where
necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>params=None</em>, <em>data=None</em>, <em>headers=None</em>, <em>cookies=None</em>, <em>files=None</em>, <em>auth=None</em>, <em>timeout=None</em>, <em>allow_redirects=True</em>, <em>proxies=None</em>, <em>hooks=None</em>, <em>stream=None</em>, <em>verify=None</em>, <em>cert=None</em>, <em>json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.request"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.request" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Constructs a <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>, prepares it and sends it.
Returns <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> -- method for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>url</strong> -- URL for the new <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</li>
<li><strong>params</strong> -- (optional) Dictionary or bytes to be sent in the query
string for the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>data</strong> -- (optional) Dictionary, bytes, or file-like object to send
in the body of the <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>json</strong> -- (optional) json to send in the body of the
<a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>headers</strong> -- (optional) Dictionary of HTTP Headers to send with the
<a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>cookies</strong> -- (optional) Dict or CookieJar object to send with the
<a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>.</li>
<li><strong>files</strong> -- (optional) Dictionary of <code class="docutils literal"><span class="pre">'filename':</span> <span class="pre">file-like-objects</span></code>
for multipart encoding upload.</li>
<li><strong>auth</strong> -- (optional) Auth tuple or callable to enable
Basic/Digest/Custom HTTP Auth.</li>
<li><strong>timeout</strong> (<em>float</em><em> or </em><em>tuple</em>) -- (optional) How long to wait for the server to send
data before giving up, as a float, or a <a class="reference internal" href="index.html#timeouts"><span class="std std-ref">(connect timeout,
read timeout)</span></a> tuple.</li>
<li><strong>allow_redirects</strong> (<em>bool</em>) -- (optional) Set to True by default.</li>
<li><strong>proxies</strong> -- (optional) Dictionary mapping protocol or protocol and
hostname to the URL of the proxy.</li>
<li><strong>stream</strong> -- (optional) whether to immediately download the response
content. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
<li><strong>verify</strong> -- (optional) Either a boolean, in which case it controls whether we verify
the server's TLS certificate, or a string, in which case it must be a path
to a CA bundle to use. Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</li>
<li><strong>cert</strong> -- (optional) if String, path to ssl client cert file (.pem).
If Tuple, ('cert', 'key') pair.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.Session.resolve_redirects">
<code class="descname">resolve_redirects</code><span class="sig-paren">(</span><em>resp</em>, <em>req</em>, <em>stream=False</em>, <em>timeout=None</em>, <em>verify=True</em>, <em>cert=None</em>, <em>proxies=None</em>, <em>yield_requests=False</em>, <em>**adapter_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Session.resolve_redirects" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Receives a Response. Returns a generator of Responses or Requests.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Session.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/sessions.html#Session.send"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Session.send" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Send a given PreparedRequest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.stream">
<code class="descname">stream</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.stream" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Stream response content default.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.trust_env">
<code class="descname">trust_env</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.trust_env" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Trust environment settings for proxy configuration, default
authentication and similar.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Session.verify">
<code class="descname">verify</code><em class="property"> = None</em><a class="headerlink" href="#requests.Session.verify" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>SSL Verification default.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id5">
<h4>ä½çº§ç±»<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="class">
<dt id="requests.Request">
<em class="property">class </em><code class="descclassname">requests.</code><code class="descname">Request</code><span class="sig-paren">(</span><em>method=None</em>, <em>url=None</em>, <em>headers=None</em>, <em>files=None</em>, <em>data=None</em>, <em>params=None</em>, <em>auth=None</em>, <em>cookies=None</em>, <em>hooks=None</em>, <em>json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Request"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Request" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A user-created <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</p>
<p>Used to prepare a <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a>, which is sent to the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> -- HTTP method to use.</li>
<li><strong>url</strong> -- URL to send.</li>
<li><strong>headers</strong> -- dictionary of headers to send.</li>
<li><strong>files</strong> -- dictionary of {filename: fileobject} files to multipart upload.</li>
<li><strong>data</strong> -- the body to attach to the request. If a dictionary is provided, form-encoding will take place.</li>
<li><strong>json</strong> -- json for the body to attach to the request (if files or data is not specified).</li>
<li><strong>params</strong> -- dictionary of URL parameters to append to the URL.</li>
<li><strong>auth</strong> -- Auth handler or (user, pass) tuple.</li>
<li><strong>cookies</strong> -- dictionary or CookieJar of cookies to attach to this request.</li>
<li><strong>hooks</strong> -- dictionary of callback hooks, for internal usage.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span><span class="o">.</span><span class="n">prepare</span><span class="p">()</span>
<span class="go">&lt;PreparedRequest [GET]&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="requests.Request.deregister_hook">
<code class="descname">deregister_hook</code><span class="sig-paren">(</span><em>event</em>, <em>hook</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Request.deregister_hook" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Deregister a previously registered hook.
Returns True if the hook existed, False if not.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Request.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Request.prepare"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Request.prepare" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Constructs a <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> for transmission and returns it.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Request.register_hook">
<code class="descname">register_hook</code><span class="sig-paren">(</span><em>event</em>, <em>hook</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.Request.register_hook" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Properly register a hook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="requests.Response">
<em class="property">class </em><code class="descclassname">requests.</code><code class="descname">Response</code><a class="reference internal" href="_modules/requests/models.html#Response"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Response" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object, which contains a
server's response to an HTTP request.</p>
<dl class="attribute">
<dt id="requests.Response.apparent_encoding">
<code class="descname">apparent_encoding</code><a class="headerlink" href="#requests.Response.apparent_encoding" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The apparent encoding, provided by the chardet library.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Response.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.close"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Response.close" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Releases the connection back to the pool. Once this method has been
called the underlying <code class="docutils literal"><span class="pre">raw</span></code> object must not be accessed again.</p>
<p><em>Note: Should not normally need to be called explicitly.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.content">
<code class="descname">content</code><a class="headerlink" href="#requests.Response.content" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Content of the response, in bytes.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.cookies">
<code class="descname">cookies</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A CookieJar of Cookies the server sent back.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.elapsed">
<code class="descname">elapsed</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.elapsed" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The amount of time elapsed between sending the request
and the arrival of the response (as a timedelta).
This property specifically measures the time taken between sending
the first byte of the request and finishing parsing the headers. It
is therefore unaffected by consuming the response content or the
value of the <code class="docutils literal"><span class="pre">stream</span></code> keyword argument.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.encoding">
<code class="descname">encoding</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.encoding" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Encoding to decode with when accessing r.text.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.headers">
<code class="descname">headers</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Case-insensitive Dictionary of Response Headers.
For example, <code class="docutils literal"><span class="pre">headers['content-encoding']</span></code> will return the
value of a <code class="docutils literal"><span class="pre">'Content-Encoding'</span></code> response header.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.history">
<code class="descname">history</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.history" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> objects from
the history of the Request. Any redirect responses will end
up here. The list is sorted from the oldest to the most recent request.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.is_permanent_redirect">
<code class="descname">is_permanent_redirect</code><a class="headerlink" href="#requests.Response.is_permanent_redirect" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>True if this Response one of the permanent versions of redirect.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.is_redirect">
<code class="descname">is_redirect</code><a class="headerlink" href="#requests.Response.is_redirect" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>True if this Response is a well-formed HTTP redirect that could have
been processed automatically (by <a class="reference internal" href="#requests.Session.resolve_redirects" title="requests.Session.resolve_redirects"><code class="xref py py-meth docutils literal"><span class="pre">Session.resolve_redirects</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="requests.Response.iter_content">
<code class="descname">iter_content</code><span class="sig-paren">(</span><em>chunk_size=1</em>, <em>decode_unicode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.iter_content"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Response.iter_content" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Iterates over the response data.  When stream=True is set on the
request, this avoids reading the content at once into memory for
large responses.  The chunk size is the number of bytes it should
read into memory.  This is not necessarily the length of each item
returned as decoding can take place.</p>
<p>chunk_size must be of type int or None. A value of None will
function differently depending on the value of <cite>stream</cite>.
stream=True will read data as it arrives in whatever size the
chunks are received. If stream=False, data is returned as
a single chunk.</p>
<p>If decode_unicode is True, content will be decoded using the best
available encoding based on the response.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Response.iter_lines">
<code class="descname">iter_lines</code><span class="sig-paren">(</span><em>chunk_size=512</em>, <em>decode_unicode=None</em>, <em>delimiter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.iter_lines"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Response.iter_lines" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Iterates over the response data, one line at a time.  When
stream=True is set on the request, this avoids reading the
content at once into memory for large responses.</p>
<div class="admonition note">
<p class="first admonition-title">æ³¨è§£</p>
<p class="last">This method is not reentrant safe.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.Response.json">
<code class="descname">json</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.json"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Response.json" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns the json-encoded content of a response, if any.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">json.loads</span></code> takes.</td>
</tr>
<tr class="field-even field"><th class="field-name">å¼•å‘:</th><td class="field-body"><strong>ValueError</strong> -- If the response body does not contain valid json.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.links">
<code class="descname">links</code><a class="headerlink" href="#requests.Response.links" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns the parsed header links of the response, if any.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.next">
<code class="descname">next</code><a class="headerlink" href="#requests.Response.next" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns a PreparedRequest for the next request in a redirect chain, if there is one.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.ok">
<code class="descname">ok</code><a class="headerlink" href="#requests.Response.ok" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns True if <a class="reference internal" href="#requests.Response.status_code" title="requests.Response.status_code"><code class="xref py py-attr docutils literal"><span class="pre">status_code</span></code></a> is less than 400.</p>
<p>This attribute checks if the status code of the response is between
400 and 600 to see if there was a client error or a server error. If
the status code, is between 200 and 400, this will return True. This
is <strong>not</strong> a check to see if the response code is <code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="requests.Response.raise_for_status">
<code class="descname">raise_for_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.raise_for_status"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.Response.raise_for_status" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Raises stored <a class="reference internal" href="#requests.HTTPError" title="requests.HTTPError"><code class="xref py py-class docutils literal"><span class="pre">HTTPError</span></code></a>, if one occurred.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.raw">
<code class="descname">raw</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.raw" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>File-like object representation of response (for advanced usage).
Use of <code class="docutils literal"><span class="pre">raw</span></code> requires that <code class="docutils literal"><span class="pre">stream=True</span></code> be set on the request.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.reason">
<code class="descname">reason</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.reason" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Textual reason of responded HTTP Status, e.g. &quot;Not Found&quot; or &quot;OK&quot;.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.request">
<code class="descname">request</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.request" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> object to which this
is a response.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.status_code">
<code class="descname">status_code</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.status_code" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Integer Code of responded HTTP Status, e.g. 404 or 200.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.text">
<code class="descname">text</code><a class="headerlink" href="#requests.Response.text" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Content of the response, in unicode.</p>
<p>If Response.encoding is None, encoding will be guessed using
<code class="docutils literal"><span class="pre">chardet</span></code>.</p>
<p>The encoding of the response content is determined based solely on HTTP
headers, following RFC 2616 to the letter. If you can take advantage of
non-HTTP knowledge to make a better guess at the encoding, you should
set <code class="docutils literal"><span class="pre">r.encoding</span></code> appropriately before accessing this property.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.Response.url">
<code class="descname">url</code><em class="property"> = None</em><a class="headerlink" href="#requests.Response.url" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Final URL location of Response.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id6">
<h4>æ›´ä½çº§çš„ç±»<a class="headerlink" href="#id6" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="class">
<dt id="requests.PreparedRequest">
<em class="property">class </em><code class="descclassname">requests.</code><code class="descname">PreparedRequest</code><a class="reference internal" href="_modules/requests/models.html#PreparedRequest"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The fully mutable <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> object,
containing the exact bytes that will be sent to the server.</p>
<p>Generated from either a <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object or manually.</p>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">prepare</span><span class="p">()</span>
<span class="go">&lt;PreparedRequest [GET]&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="requests.PreparedRequest.body">
<code class="descname">body</code><em class="property"> = None</em><a class="headerlink" href="#requests.PreparedRequest.body" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>request body to send to the server.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.deregister_hook">
<code class="descname">deregister_hook</code><span class="sig-paren">(</span><em>event</em>, <em>hook</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.PreparedRequest.deregister_hook" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Deregister a previously registered hook.
Returns True if the hook existed, False if not.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.PreparedRequest.headers">
<code class="descname">headers</code><em class="property"> = None</em><a class="headerlink" href="#requests.PreparedRequest.headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>dictionary of HTTP headers.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.PreparedRequest.hooks">
<code class="descname">hooks</code><em class="property"> = None</em><a class="headerlink" href="#requests.PreparedRequest.hooks" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>dictionary of callback hooks, for internal usage.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.PreparedRequest.method">
<code class="descname">method</code><em class="property"> = None</em><a class="headerlink" href="#requests.PreparedRequest.method" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>HTTP verb to send to the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.PreparedRequest.path_url">
<code class="descname">path_url</code><a class="headerlink" href="#requests.PreparedRequest.path_url" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Build the path URL to use.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><em>method=None</em>, <em>url=None</em>, <em>headers=None</em>, <em>files=None</em>, <em>data=None</em>, <em>params=None</em>, <em>auth=None</em>, <em>cookies=None</em>, <em>hooks=None</em>, <em>json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the entire request with the given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_auth">
<code class="descname">prepare_auth</code><span class="sig-paren">(</span><em>auth</em>, <em>url=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_auth"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_auth" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given HTTP auth data.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_body">
<code class="descname">prepare_body</code><span class="sig-paren">(</span><em>data</em>, <em>files</em>, <em>json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_body"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_body" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given HTTP body data.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_content_length">
<code class="descname">prepare_content_length</code><span class="sig-paren">(</span><em>body</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_content_length"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_content_length" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepare Content-Length header based on request method and body</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_cookies">
<code class="descname">prepare_cookies</code><span class="sig-paren">(</span><em>cookies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_cookies"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given HTTP cookie data.</p>
<p>This function eventually generates a <code class="docutils literal"><span class="pre">Cookie</span></code> header from the
given cookies using cookielib. Due to cookielib's design, the header
will not be regenerated if it already exists, meaning this function
can only be called once for the life of the
<a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> object. Any subsequent calls
to <code class="docutils literal"><span class="pre">prepare_cookies</span></code> will have no actual effect, unless the &quot;Cookie&quot;
header is removed beforehand.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_headers">
<code class="descname">prepare_headers</code><span class="sig-paren">(</span><em>headers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_headers"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given HTTP headers.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_hooks">
<code class="descname">prepare_hooks</code><span class="sig-paren">(</span><em>hooks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_hooks"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_hooks" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given hooks.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_method">
<code class="descname">prepare_method</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_method"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_method" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given HTTP method.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.prepare_url">
<code class="descname">prepare_url</code><span class="sig-paren">(</span><em>url</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#PreparedRequest.prepare_url"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.PreparedRequest.prepare_url" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Prepares the given HTTP URL.</p>
</dd></dl>

<dl class="method">
<dt id="requests.PreparedRequest.register_hook">
<code class="descname">register_hook</code><span class="sig-paren">(</span><em>event</em>, <em>hook</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.PreparedRequest.register_hook" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Properly register a hook.</p>
</dd></dl>

<dl class="attribute">
<dt id="requests.PreparedRequest.url">
<code class="descname">url</code><em class="property"> = None</em><a class="headerlink" href="#requests.PreparedRequest.url" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>HTTP URL to send the request to.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="requests.adapters.BaseAdapter">
<em class="property">class </em><code class="descclassname">requests.adapters.</code><code class="descname">BaseAdapter</code><a class="reference internal" href="_modules/requests/adapters.html#BaseAdapter"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.BaseAdapter" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The Base Transport Adapter</p>
<dl class="method">
<dt id="requests.adapters.BaseAdapter.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#BaseAdapter.close"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.BaseAdapter.close" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Cleans up adapter specific items.</p>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.BaseAdapter.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>request</em>, <em>stream=False</em>, <em>timeout=None</em>, <em>verify=True</em>, <em>cert=None</em>, <em>proxies=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#BaseAdapter.send"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.BaseAdapter.send" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends PreparedRequest object. Returns Response object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>request</strong> -- The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> being sent.</li>
<li><strong>stream</strong> -- (optional) Whether to stream the request content.</li>
<li><strong>timeout</strong> (<em>float</em><em> or </em><em>tuple</em>) -- (optional) How long to wait for the server to send
data before giving up, as a float, or a <a class="reference internal" href="index.html#timeouts"><span class="std std-ref">(connect timeout,
read timeout)</span></a> tuple.</li>
<li><strong>verify</strong> -- (optional) Either a boolean, in which case it controls whether we verify
the server's TLS certificate, or a string, in which case it must be a path
to a CA bundle to use</li>
<li><strong>cert</strong> -- (optional) Any user-provided SSL certificate to be trusted.</li>
<li><strong>proxies</strong> -- (optional) The proxies dictionary to apply to the request.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="requests.adapters.HTTPAdapter">
<em class="property">class </em><code class="descclassname">requests.adapters.</code><code class="descname">HTTPAdapter</code><span class="sig-paren">(</span><em>pool_connections=10</em>, <em>pool_maxsize=10</em>, <em>max_retries=0</em>, <em>pool_block=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>The built-in HTTP Adapter for urllib3.</p>
<p>Provides a general-case interface for Requests sessions to contact HTTP and
HTTPS urls by implementing the Transport Adapter interface. This class will
usually be created by the <a class="reference internal" href="#requests.Session" title="requests.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> class under the
covers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>pool_connections</strong> -- The number of urllib3 connection pools to cache.</li>
<li><strong>pool_maxsize</strong> -- The maximum number of connections to save in the pool.</li>
<li><strong>max_retries</strong> -- The maximum number of retries each connection
should attempt. Note, this applies only to failed DNS lookups, socket
connections and connection timeouts, never to requests where data has
made it to the server. By default, Requests does not retry failed
connections. If you need granular control over the conditions under
which we retry a request, import urllib3's <code class="docutils literal"><span class="pre">Retry</span></code> class and pass
that instead.</li>
<li><strong>pool_block</strong> -- Whether the connection pool should block for connections.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">adapters</span><span class="o">.</span><span class="n">HTTPAdapter</span><span class="p">(</span><span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;http://&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="requests.adapters.HTTPAdapter.add_headers">
<code class="descname">add_headers</code><span class="sig-paren">(</span><em>request</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.add_headers"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.add_headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Add any headers needed by the connection. As of v2.0 this does
nothing by default, but is left for overriding by users that subclass
the <a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<p>This should not be called from user code, and is only exposed for use
when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>request</strong> -- The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> to add headers to.</li>
<li><strong>kwargs</strong> -- The keyword arguments from the call to send().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.build_response">
<code class="descname">build_response</code><span class="sig-paren">(</span><em>req</em>, <em>resp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.build_response"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.build_response" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Builds a <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object from a urllib3
response. This should not be called from user code, and is only exposed
for use when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>req</strong> -- The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> used to generate the response.</li>
<li><strong>resp</strong> -- The urllib3 response object.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.cert_verify">
<code class="descname">cert_verify</code><span class="sig-paren">(</span><em>conn</em>, <em>url</em>, <em>verify</em>, <em>cert</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.cert_verify"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.cert_verify" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Verify a SSL certificate. This method should not be called from user
code, and is only exposed for use when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>conn</strong> -- The urllib3 connection object associated with the cert.</li>
<li><strong>url</strong> -- The requested URL.</li>
<li><strong>verify</strong> -- Either a boolean, in which case it controls whether we verify
the server's TLS certificate, or a string, in which case it must be a path
to a CA bundle to use</li>
<li><strong>cert</strong> -- The SSL certificate to verify.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.close"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.close" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Disposes of any internal state.</p>
<p>Currently, this closes the PoolManager and any active ProxyManager,
which closes any pooled connections.</p>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.get_connection">
<code class="descname">get_connection</code><span class="sig-paren">(</span><em>url</em>, <em>proxies=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.get_connection"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.get_connection" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns a urllib3 connection for the given URL. This should not be
called from user code, and is only exposed for use when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> -- The URL to connect to.</li>
<li><strong>proxies</strong> -- (optional) A Requests-style dictionary of proxies used on this request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last">urllib3.ConnectionPool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.init_poolmanager">
<code class="descname">init_poolmanager</code><span class="sig-paren">(</span><em>connections</em>, <em>maxsize</em>, <em>block=False</em>, <em>**pool_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.init_poolmanager"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.init_poolmanager" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Initializes a urllib3 PoolManager.</p>
<p>This method should not be called from user code, and is only
exposed for use when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>connections</strong> -- The number of urllib3 connection pools to cache.</li>
<li><strong>maxsize</strong> -- The maximum number of connections to save in the pool.</li>
<li><strong>block</strong> -- Block when no free connections are available.</li>
<li><strong>pool_kwargs</strong> -- Extra keyword arguments used to initialize the Pool Manager.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.proxy_headers">
<code class="descname">proxy_headers</code><span class="sig-paren">(</span><em>proxy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.proxy_headers"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.proxy_headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns a dictionary of the headers to add to any request sent
through a proxy. This works with urllib3 magic to ensure that they are
correctly sent to the proxy, rather than in a tunnelled request if
CONNECT is being used.</p>
<p>This should not be called from user code, and is only exposed for use
when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>proxies</strong> -- The url of the proxy being used for this request.</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.proxy_manager_for">
<code class="descname">proxy_manager_for</code><span class="sig-paren">(</span><em>proxy</em>, <em>**proxy_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.proxy_manager_for"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.proxy_manager_for" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Return urllib3 ProxyManager for the given proxy.</p>
<p>This method should not be called from user code, and is only
exposed for use when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>proxy</strong> -- The proxy to return a urllib3 ProxyManager for.</li>
<li><strong>proxy_kwargs</strong> -- Extra keyword arguments used to configure the Proxy Manager.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›:</th><td class="field-body"><p class="first">ProxyManager</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://urllib3.readthedocs.io/en/latest/reference/index.html#urllib3.ProxyManager" title="(åœ¨ urllib3 vdev)">urllib3.ProxyManager</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.request_url">
<code class="descname">request_url</code><span class="sig-paren">(</span><em>request</em>, <em>proxies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.request_url"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.request_url" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Obtain the url to use when making the final request.</p>
<p>If the message is being sent through a HTTP proxy, the full URL has to
be used. Otherwise, we should only use the path portion of the URL.</p>
<p>This should not be called from user code, and is only exposed for use
when subclassing the
<a class="reference internal" href="#requests.adapters.HTTPAdapter" title="requests.adapters.HTTPAdapter"><code class="xref py py-class docutils literal"><span class="pre">HTTPAdapter</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> -- The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> being sent.</li>
<li><strong>proxies</strong> -- A dictionary of schemes or schemes and hosts to proxy URLs.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.adapters.HTTPAdapter.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>request</em>, <em>stream=False</em>, <em>timeout=None</em>, <em>verify=True</em>, <em>cert=None</em>, <em>proxies=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/adapters.html#HTTPAdapter.send"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.adapters.HTTPAdapter.send" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Sends PreparedRequest object. Returns Response object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> -- The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> being sent.</li>
<li><strong>stream</strong> -- (optional) Whether to stream the request content.</li>
<li><strong>timeout</strong> (<em>float</em><em> or </em><em>tuple</em><em> or </em><em>urllib3 Timeout object</em>) -- (optional) How long to wait for the server to send
data before giving up, as a float, or a <a class="reference internal" href="index.html#timeouts"><span class="std std-ref">(connect timeout,
read timeout)</span></a> tuple.</li>
<li><strong>verify</strong> -- (optional) Either a boolean, in which case it controls whether
we verify the server's TLS certificate, or a string, in which case it
must be a path to a CA bundle to use</li>
<li><strong>cert</strong> -- (optional) Any user-provided SSL certificate to be trusted.</li>
<li><strong>proxies</strong> -- (optional) The proxies dictionary to apply to the request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last"><a class="reference internal" href="index.html#requests.Response" title="requests.Response">requests.Response</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id7">
<h4>èº«ä»½éªŒè¯<a class="headerlink" href="#id7" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="class">
<dt id="requests.auth.AuthBase">
<em class="property">class </em><code class="descclassname">requests.auth.</code><code class="descname">AuthBase</code><a class="reference internal" href="_modules/requests/auth.html#AuthBase"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.auth.AuthBase" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Base class that all auth implementations derive from</p>
</dd></dl>

<dl class="class">
<dt id="requests.auth.HTTPBasicAuth">
<em class="property">class </em><code class="descclassname">requests.auth.</code><code class="descname">HTTPBasicAuth</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/auth.html#HTTPBasicAuth"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.auth.HTTPBasicAuth" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Attaches HTTP Basic Authentication to the given Request object.</p>
</dd></dl>

<dl class="class">
<dt id="requests.auth.HTTPProxyAuth">
<em class="property">class </em><code class="descclassname">requests.auth.</code><code class="descname">HTTPProxyAuth</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/auth.html#HTTPProxyAuth"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.auth.HTTPProxyAuth" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Attaches HTTP Proxy Authentication to a given Request object.</p>
</dd></dl>

<dl class="class">
<dt id="requests.auth.HTTPDigestAuth">
<em class="property">class </em><code class="descclassname">requests.auth.</code><code class="descname">HTTPDigestAuth</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/auth.html#HTTPDigestAuth"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.auth.HTTPDigestAuth" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Attaches HTTP Digest Authentication to the given Request object.</p>
</dd></dl>

</div>
<div class="section" id="id8">
<h4>ç¼–ç <a class="headerlink" href="#id8" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="function">
<dt id="requests.utils.get_encodings_from_content">
<code class="descclassname">requests.utils.</code><code class="descname">get_encodings_from_content</code><span class="sig-paren">(</span><em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/utils.html#get_encodings_from_content"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.utils.get_encodings_from_content" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns encodings from given content string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>content</strong> -- bytestring to extract encodings from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.utils.get_encoding_from_headers">
<code class="descclassname">requests.utils.</code><code class="descname">get_encoding_from_headers</code><span class="sig-paren">(</span><em>headers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/utils.html#get_encoding_from_headers"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.utils.get_encoding_from_headers" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns encodings from given HTTP Header Dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>headers</strong> -- dictionary to extract encoding from.</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.utils.get_unicode_from_response">
<code class="descclassname">requests.utils.</code><code class="descname">get_unicode_from_response</code><span class="sig-paren">(</span><em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/utils.html#get_unicode_from_response"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.utils.get_unicode_from_response" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns the requested content back in unicode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>r</strong> -- Response object to get unicode content from.</td>
</tr>
</tbody>
</table>
<p>Tried:</p>
<ol class="arabic simple">
<li>charset from content-type</li>
<li>fall back and replace all unicode characters</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="cookie">
<span id="api-cookies"></span><h4>Cookie<a class="headerlink" href="#cookie" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="function">
<dt id="requests.utils.add_dict_to_cookiejar">
<code class="descclassname">requests.utils.</code><code class="descname">add_dict_to_cookiejar</code><span class="sig-paren">(</span><em>cj</em>, <em>cookie_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/utils.html#add_dict_to_cookiejar"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.utils.add_dict_to_cookiejar" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns a CookieJar from a key/value dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first simple">
<li><strong>cj</strong> -- CookieJar to insert cookies into.</li>
<li><strong>cookie_dict</strong> -- Dict of key/values to insert into CookieJar.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body"><p class="first last">CookieJar</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="requests.utils.cookiejar_from_dict">
<code class="descclassname">requests.utils.</code><code class="descname">cookiejar_from_dict</code><span class="sig-paren">(</span><em>cookie_dict</em>, <em>cookiejar=None</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#cookiejar_from_dict"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.utils.cookiejar_from_dict" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns a CookieJar from a key/value dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>cookie_dict</strong> -- Dict of key/values to insert into CookieJar.</li>
<li><strong>cookiejar</strong> -- (optional) A cookiejar to add the cookies to.</li>
<li><strong>overwrite</strong> -- (optional) If False, will not replace cookies
already in the jar with new ones.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="requests.cookies.RequestsCookieJar">
<em class="property">class </em><code class="descclassname">requests.cookies.</code><code class="descname">RequestsCookieJar</code><span class="sig-paren">(</span><em>policy=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Compatibility class; is a cookielib.CookieJar, but exposes a dict
interface.</p>
<p>This is the CookieJar we create by default for requests and sessions that
don't specify one, since some clients may expect response.cookies and
session.cookies to support dict operations.</p>
<p>Requests does not use the dict interface internally; it's just for
compatibility with external client code. All requests code should work
out of the box with externally provided instances of <code class="docutils literal"><span class="pre">CookieJar</span></code>, e.g.
<code class="docutils literal"><span class="pre">LWPCookieJar</span></code> and <code class="docutils literal"><span class="pre">FileCookieJar</span></code>.</p>
<p>Unlike a regular CookieJar, this class is pickleable.</p>
<div class="admonition warning">
<p class="first admonition-title">è­¦å‘Š</p>
<p class="last">dictionary operations that are normally O(1) may be O(n).</p>
</div>
<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.add_cookie_header">
<code class="descname">add_cookie_header</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.add_cookie_header" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Add correct Cookie: header to request (urllib2.Request object).</p>
<p>The Cookie2 header is also added unless policy.hide_cookie2 is true.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>domain=None</em>, <em>path=None</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.clear" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Clear some cookies.</p>
<p>Invoking this method without arguments will clear all cookies.  If
given a single argument, only cookies belonging to that domain will be
removed.  If given two arguments, cookies belonging to the specified
path within that domain are removed.  If given three arguments, then
the cookie with the specified name, path and domain is removed.</p>
<p>Raises KeyError if no matching cookie exists.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.clear_expired_cookies">
<code class="descname">clear_expired_cookies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.clear_expired_cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Discard all expired cookies.</p>
<p>You probably don't need to call this method: expired cookies are never
sent back to the server (provided you're using DefaultCookiePolicy),
this method is called by CookieJar itself every so often, and the
.save() method won't save expired cookies anyway (unless you ask
otherwise by passing a true ignore_expires argument).</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.clear_session_cookies">
<code class="descname">clear_session_cookies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.clear_session_cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Discard all session cookies.</p>
<p>Note that the .save() method won't save session cookies anyway, unless
you ask otherwise by passing a true ignore_discard argument.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.copy"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.copy" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Return a copy of this RequestsCookieJar.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.extract_cookies">
<code class="descname">extract_cookies</code><span class="sig-paren">(</span><em>response</em>, <em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.extract_cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Extract cookies from response, where allowable given the request.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>name</em>, <em>default=None</em>, <em>domain=None</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.get"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.get" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like get() that also supports optional domain and path args in
order to resolve naming collisions from using one cookie jar over
multiple domains.</p>
<div class="admonition warning">
<p class="first admonition-title">è­¦å‘Š</p>
<p class="last">operation is O(n), not O(1).</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.get_dict">
<code class="descname">get_dict</code><span class="sig-paren">(</span><em>domain=None</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.get_dict"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.get_dict" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Takes as an argument an optional domain and path and returns a plain
old Python dict of name-value pairs of cookies that meet the
requirements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.items"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.items" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like items() that returns a list of name-value tuples from the
jar. Allows client-code to call <code class="docutils literal"><span class="pre">dict(RequestsCookieJar)</span></code> and get a
vanilla python dict of key value pairs.</p>
<div class="admonition seealso">
<p class="first admonition-title">å‚è§</p>
<p class="last">keys() and values().</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.iteritems"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.iteritems" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like iteritems() that returns an iterator of name-value tuples
from the jar.</p>
<div class="admonition seealso">
<p class="first admonition-title">å‚è§</p>
<p class="last">iterkeys() and itervalues().</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.iterkeys">
<code class="descname">iterkeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.iterkeys"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.iterkeys" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like iterkeys() that returns an iterator of names of cookies
from the jar.</p>
<div class="admonition seealso">
<p class="first admonition-title">å‚è§</p>
<p class="last">itervalues() and iteritems().</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.itervalues">
<code class="descname">itervalues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.itervalues"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.itervalues" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like itervalues() that returns an iterator of values of cookies
from the jar.</p>
<div class="admonition seealso">
<p class="first admonition-title">å‚è§</p>
<p class="last">iterkeys() and iteritems().</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.keys"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.keys" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like keys() that returns a list of names of cookies from the
jar.</p>
<div class="admonition seealso">
<p class="first admonition-title">å‚è§</p>
<p class="last">values() and items().</p>
</div>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.list_domains">
<code class="descname">list_domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.list_domains"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.list_domains" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Utility method to list all the domains in the jar.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.list_paths">
<code class="descname">list_paths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.list_paths"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.list_paths" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Utility method to list all the paths in the jar.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.make_cookies">
<code class="descname">make_cookies</code><span class="sig-paren">(</span><em>response</em>, <em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.make_cookies" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Return sequence of Cookie objects extracted from response object.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.multiple_domains">
<code class="descname">multiple_domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.multiple_domains"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.multiple_domains" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Returns True if there are multiple domains in the jar.
Returns False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">è¿”å›ç±»å‹:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; v, remove specified key and return the corresponding value.<a class="headerlink" href="#requests.cookies.RequestsCookieJar.pop" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.popitem">
<code class="descname">popitem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; (k, v), remove and return some (key, value) pair<a class="headerlink" href="#requests.cookies.RequestsCookieJar.popitem" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>as a 2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.set"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.set" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like set() that also supports optional domain and path args in
order to resolve naming collisions from using one cookie jar over
multiple domains.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.set_cookie_if_ok">
<code class="descname">set_cookie_if_ok</code><span class="sig-paren">(</span><em>cookie</em>, <em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#requests.cookies.RequestsCookieJar.set_cookie_if_ok" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Set a cookie if policy says it's OK to do so.</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.setdefault">
<code class="descname">setdefault</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; D.get(k,d), also set D[k]=d if k not in D<a class="headerlink" href="#requests.cookies.RequestsCookieJar.setdefault" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.update"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.update" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Updates this jar with cookies from another CookieJar or dict-like</p>
</dd></dl>

<dl class="method">
<dt id="requests.cookies.RequestsCookieJar.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/cookies.html#RequestsCookieJar.values"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.RequestsCookieJar.values" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>Dict-like values() that returns a list of values of cookies from the
jar.</p>
<div class="admonition seealso">
<p class="first admonition-title">å‚è§</p>
<p class="last">keys() and items().</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="requests.cookies.CookieConflictError">
<em class="property">class </em><code class="descclassname">requests.cookies.</code><code class="descname">CookieConflictError</code><a class="reference internal" href="_modules/requests/cookies.html#CookieConflictError"><span class="viewcode-link">[æºä»£ç ]</span></a><a class="headerlink" href="#requests.cookies.CookieConflictError" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>There are two cookies that meet the criteria specified in the cookie jar.
Use .get and .set and include domain and path args in order to be more specific.</p>
</dd></dl>

</div>
<div class="section" id="id9">
<h4>çŠ¶æ€ç æŸ¥è¯¢<a class="headerlink" href="#id9" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<dl class="attribute">
<dt id="requests.codes">
<code class="descclassname">requests.</code><code class="descname">codes</code><a class="headerlink" href="#requests.codes" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd></dd></dl>

<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="p">[</span><span class="s1">&#39;temporary_redirect&#39;</span><span class="p">]</span>
<span class="go">307</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">teapot</span>
<span class="go">418</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="p">[</span><span class="s1">&#39;\o/&#39;</span><span class="p">]</span>
<span class="go">200</span>
</pre></div>
</div>
<hr class="docutils" />
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">requests.</code><code class="descname">Request</code><span class="sig-paren">(</span><em>method=None</em>, <em>url=None</em>, <em>headers=None</em>, <em>files=None</em>, <em>data=None</em>, <em>params=None</em>, <em>auth=None</em>, <em>cookies=None</em>, <em>hooks=None</em>, <em>json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Request"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>A user-created <a class="reference internal" href="#requests.Request" title="requests.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> object.</p>
<p>Used to prepare a <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a>, which is sent to the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> -- HTTP method to use.</li>
<li><strong>url</strong> -- URL to send.</li>
<li><strong>headers</strong> -- dictionary of headers to send.</li>
<li><strong>files</strong> -- dictionary of {filename: fileobject} files to multipart upload.</li>
<li><strong>data</strong> -- the body to attach to the request. If a dictionary is provided, form-encoding will take place.</li>
<li><strong>json</strong> -- json for the body to attach to the request (if files or data is not specified).</li>
<li><strong>params</strong> -- dictionary of URL parameters to append to the URL.</li>
<li><strong>auth</strong> -- Auth handler or (user, pass) tuple.</li>
<li><strong>cookies</strong> -- dictionary or CookieJar of cookies to attach to this request.</li>
<li><strong>hooks</strong> -- dictionary of callback hooks, for internal usage.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;http://httpbin.org/get&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span><span class="o">.</span><span class="n">prepare</span><span class="p">()</span>
<span class="go">&lt;PreparedRequest [GET]&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt>
<code class="descname">deregister_hook</code><span class="sig-paren">(</span><em>event</em>, <em>hook</em><span class="sig-paren">)</span></dt>
<dd><p>Deregister a previously registered hook.
Returns True if the hook existed, False if not.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Request.prepare"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>Constructs a <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> for transmission and returns it.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">register_hook</code><span class="sig-paren">(</span><em>event</em>, <em>hook</em><span class="sig-paren">)</span></dt>
<dd><p>Properly register a hook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">requests.</code><code class="descname">Response</code><a class="reference internal" href="_modules/requests/models.html#Response"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>The <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> object, which contains a
server's response to an HTTP request.</p>
<dl class="attribute">
<dt>
<code class="descname">apparent_encoding</code></dt>
<dd><p>The apparent encoding, provided by the chardet library.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.close"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>Releases the connection back to the pool. Once this method has been
called the underlying <code class="docutils literal"><span class="pre">raw</span></code> object must not be accessed again.</p>
<p><em>Note: Should not normally need to be called explicitly.</em></p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">content</code></dt>
<dd><p>Content of the response, in bytes.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cookies</code><em class="property"> = None</em></dt>
<dd><p>A CookieJar of Cookies the server sent back.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">elapsed</code><em class="property"> = None</em></dt>
<dd><p>The amount of time elapsed between sending the request
and the arrival of the response (as a timedelta).
This property specifically measures the time taken between sending
the first byte of the request and finishing parsing the headers. It
is therefore unaffected by consuming the response content or the
value of the <code class="docutils literal"><span class="pre">stream</span></code> keyword argument.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">encoding</code><em class="property"> = None</em></dt>
<dd><p>Encoding to decode with when accessing r.text.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">headers</code><em class="property"> = None</em></dt>
<dd><p>Case-insensitive Dictionary of Response Headers.
For example, <code class="docutils literal"><span class="pre">headers['content-encoding']</span></code> will return the
value of a <code class="docutils literal"><span class="pre">'Content-Encoding'</span></code> response header.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">history</code><em class="property"> = None</em></dt>
<dd><p>A list of <a class="reference internal" href="#requests.Response" title="requests.Response"><code class="xref py py-class docutils literal"><span class="pre">Response</span></code></a> objects from
the history of the Request. Any redirect responses will end
up here. The list is sorted from the oldest to the most recent request.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_permanent_redirect</code></dt>
<dd><p>True if this Response one of the permanent versions of redirect.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_redirect</code></dt>
<dd><p>True if this Response is a well-formed HTTP redirect that could have
been processed automatically (by <a class="reference internal" href="#requests.Session.resolve_redirects" title="requests.Session.resolve_redirects"><code class="xref py py-meth docutils literal"><span class="pre">Session.resolve_redirects</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">iter_content</code><span class="sig-paren">(</span><em>chunk_size=1</em>, <em>decode_unicode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.iter_content"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>Iterates over the response data.  When stream=True is set on the
request, this avoids reading the content at once into memory for
large responses.  The chunk size is the number of bytes it should
read into memory.  This is not necessarily the length of each item
returned as decoding can take place.</p>
<p>chunk_size must be of type int or None. A value of None will
function differently depending on the value of <cite>stream</cite>.
stream=True will read data as it arrives in whatever size the
chunks are received. If stream=False, data is returned as
a single chunk.</p>
<p>If decode_unicode is True, content will be decoded using the best
available encoding based on the response.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">iter_lines</code><span class="sig-paren">(</span><em>chunk_size=512</em>, <em>decode_unicode=None</em>, <em>delimiter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.iter_lines"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>Iterates over the response data, one line at a time.  When
stream=True is set on the request, this avoids reading the
content at once into memory for large responses.</p>
<div class="admonition note">
<p class="first admonition-title">æ³¨è§£</p>
<p class="last">This method is not reentrant safe.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">json</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.json"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>Returns the json-encoded content of a response, if any.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">å‚æ•°:</th><td class="field-body"><strong>**kwargs</strong> -- Optional arguments that <code class="docutils literal"><span class="pre">json.loads</span></code> takes.</td>
</tr>
<tr class="field-even field"><th class="field-name">å¼•å‘:</th><td class="field-body"><strong>ValueError</strong> -- If the response body does not contain valid json.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">links</code></dt>
<dd><p>Returns the parsed header links of the response, if any.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">next</code></dt>
<dd><p>Returns a PreparedRequest for the next request in a redirect chain, if there is one.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">ok</code></dt>
<dd><p>Returns True if <a class="reference internal" href="#requests.Response.status_code" title="requests.Response.status_code"><code class="xref py py-attr docutils literal"><span class="pre">status_code</span></code></a> is less than 400.</p>
<p>This attribute checks if the status code of the response is between
400 and 600 to see if there was a client error or a server error. If
the status code, is between 200 and 400, this will return True. This
is <strong>not</strong> a check to see if the response code is <code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">raise_for_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/requests/models.html#Response.raise_for_status"><span class="viewcode-link">[æºä»£ç ]</span></a></dt>
<dd><p>Raises stored <a class="reference internal" href="#requests.HTTPError" title="requests.HTTPError"><code class="xref py py-class docutils literal"><span class="pre">HTTPError</span></code></a>, if one occurred.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">raw</code><em class="property"> = None</em></dt>
<dd><p>File-like object representation of response (for advanced usage).
Use of <code class="docutils literal"><span class="pre">raw</span></code> requires that <code class="docutils literal"><span class="pre">stream=True</span></code> be set on the request.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">reason</code><em class="property"> = None</em></dt>
<dd><p>Textual reason of responded HTTP Status, e.g. &quot;Not Found&quot; or &quot;OK&quot;.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">request</code><em class="property"> = None</em></dt>
<dd><p>The <a class="reference internal" href="#requests.PreparedRequest" title="requests.PreparedRequest"><code class="xref py py-class docutils literal"><span class="pre">PreparedRequest</span></code></a> object to which this
is a response.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">status_code</code><em class="property"> = None</em></dt>
<dd><p>Integer Code of responded HTTP Status, e.g. 404 or 200.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">text</code></dt>
<dd><p>Content of the response, in unicode.</p>
<p>If Response.encoding is None, encoding will be guessed using
<code class="docutils literal"><span class="pre">chardet</span></code>.</p>
<p>The encoding of the response content is determined based solely on HTTP
headers, following RFC 2616 to the letter. If you can take advantage of
non-HTTP knowledge to make a better guess at the encoding, you should
set <code class="docutils literal"><span class="pre">r.encoding</span></code> appropriately before accessing this property.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">url</code><em class="property"> = None</em></dt>
<dd><p>Final URL location of Response.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="x">
<h4>è¿ç§»åˆ° 1.x<a class="headerlink" href="#x" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>æœ¬èŠ‚è¯¦ç»†ä»‹ç» 0.x å’Œ 1.x çš„ä¸»è¦åŒºåˆ«ï¼Œå‡å°‘å‡çº§å¸¦æ¥çš„ä¸€äº›ä¸ä¾¿ã€‚</p>
<div class="section" id="id10">
<h5>API å˜åŒ–<a class="headerlink" href="#id10" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Response.json</span></code> ç°åœ¨æ˜¯å¯è°ƒç”¨çš„å¹¶ä¸”ä¸å†æ˜¯å“åº”ä½“çš„å±æ€§ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/timeline.json&#39;</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>   <span class="c1"># å¦‚æœ JSON è§£ç å¤±è´¥ï¼Œè¯¥è°ƒç”¨ä¼šå¼•å‘å¼‚å¸¸ã€‚</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Session</span></code> API ä¹Ÿå‘ç”Ÿäº†å˜åŒ–. Sessions å¯¹è±¡ä¸å†éœ€è¦å‚æ•°äº†ã€‚
<code class="docutils literal"><span class="pre">Session</span></code> ç°åœ¨æ˜¯å¤§å†™çš„äº†ï¼Œä½†ä¸ºäº†å‘åå…¼å®¹ï¼Œå®ƒä»ç„¶èƒ½è¢«å°å†™çš„ <code class="docutils literal"><span class="pre">session</span></code> å®ä¾‹åŒ–ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>    <span class="c1"># è¿‡å»ä¼šè¯éœ€è¦æ¥æ”¶å‚æ•°</span>
<span class="n">s</span><span class="o">.</span><span class="n">auth</span> <span class="o">=</span> <span class="n">auth</span>
<span class="n">s</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/headers&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">é™¤äº†'response'ï¼Œæ‰€æœ‰çš„è¯·æ±‚æŒ‚é’©å·²è¢«ç§»é™¤ã€‚</p>
</li>
<li><p class="first">è®¤è¯åŠ©æ‰‹å·²ç»è¢«åˆ†è§£æˆå•ç‹¬çš„æ¨¡å—äº†. å‚è§
<a class="reference external" href="https://github.com/requests/requests-oauthlib">requests-oauthlib</a> and <a class="reference external" href="https://github.com/requests/requests-kerberos">requests-kerberos</a>.</p>
</li>
</ul>
<ul>
<li><p class="first">æµè¯·æ±‚çš„å‚æ•°å·²ä» <code class="docutils literal"><span class="pre">prefetch</span></code> æ”¹å˜åˆ° <code class="docutils literal"><span class="pre">stream</span></code> ï¼Œå¹¶ä¸”é€»è¾‘ä¹Ÿè¢«é¢ å€’ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ
<code class="docutils literal"><span class="pre">stream</span></code> ç°åœ¨å¯¹äºåŸå§‹å“åº”è¯»å–ä¹Ÿæ˜¯å¿…éœ€çš„ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># åœ¨ 0.x ä¸­ï¼Œä¼ å…¥ prefetch=False ä¼šè¾¾åˆ°åŒæ ·çš„ç»“æœ</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/timeline.json&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="mi">8192</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</li>
<li><p class="first">requests æ–¹æ³•çš„ <code class="docutils literal"><span class="pre">config</span></code> å‚æ•°å·²å…¨éƒ¨åˆ é™¤ã€‚ ç°åœ¨é…ç½®è¿™äº›é€‰é¡¹éƒ½åœ¨ <code class="docutils literal"><span class="pre">Session</span></code> ï¼Œæ¯”å¦‚
keep-alive å’Œæœ€å¤§æ•°ç›®çš„é‡å®šå‘ã€‚ è¯¦ç»†ç¨‹åº¦é€‰é¡¹åº”å½“ç”±é…ç½®æ—¥å¿—æ¥å¤„ç†ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="c1"># å¯ç”¨è°ƒè¯•äº http.client çº§åˆ« (requests-&gt;urllib3-&gt;http.client)</span>
<span class="c1"># ä½ å°†èƒ½çœ‹åˆ° REQUESTï¼ŒåŒ…æ‹¬ HEADERS å’Œ DATAï¼Œä»¥åŠåŒ…å« HEADERS ä½†ä¸åŒ…å« DATA çš„ RESPONSEã€‚</span>
<span class="c1"># å”¯ä¸€ç¼ºå°‘çš„æ˜¯ response.bodyï¼Œå®ƒä¸ä¼šè¢« log è®°å½•ã€‚</span>
<span class="k">try</span><span class="p">:</span> <span class="c1"># for Python 3</span>
    <span class="kn">from</span> <span class="nn">http.client</span> <span class="k">import</span> <span class="n">HTTPConnection</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">httplib</span> <span class="k">import</span> <span class="n">HTTPConnection</span>
<span class="n">HTTPConnection</span><span class="o">.</span><span class="n">debuglevel</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">()</span> <span class="c1"># åˆå§‹åŒ– loggingï¼Œå¦åˆ™ä¸ä¼šçœ‹åˆ°ä»»ä½• requests çš„è¾“å‡ºã€‚</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">requests_log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests.packages.urllib3&quot;</span><span class="p">)</span>
<span class="n">requests_log</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">requests_log</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/headers&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id11">
<h5>è®¸å¯<a class="headerlink" href="#id11" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>æœ‰ä¸€ä¸ªå…³é”®çš„ä¸ API æ— å…³çš„åŒºåˆ«æ˜¯å¼€æ”¾è®¸å¯ä» <a class="reference external" href="http://opensource.org/licenses/ISC">ISC</a> è®¸å¯ å˜æ›´åˆ° <a class="reference external" href="http://opensource.org/licenses/Apache-2.0">Apache 2.0</a> è®¸å¯.  Apache 2.0
license ç¡®ä¿äº†å¯¹äº Requests çš„è´¡çŒ®ä¹Ÿè¢«æ¶µç›–åœ¨ Apache 2.0 è®¸å¯å†….</p>
</div>
</div>
<div class="section" id="id12">
<h4>è¿ç§»åˆ° 2.x<a class="headerlink" href="#id12" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>å’Œ 1.0 å‘å¸ƒç‰ˆç›¸æ¯”ï¼Œç ´åå‘åå…¼å®¹çš„æ›´æ”¹æ¯”è¾ƒå°‘ã€‚ä¸è¿‡åœ¨è¿™ä¸ªä¸»å‘å¸ƒç‰ˆæœ¬ä¸­ï¼Œä¾ç„¶è¿˜æœ‰ä¸€äº›åº”è¯¥æ³¨æ„çš„é—®é¢˜ã€‚</p>
<p>æ›´å¤šå…³äºå˜æ›´çš„ç»†èŠ‚ï¼ŒåŒ…æ‹¬ APIï¼Œä»¥åŠç›¸å…³çš„ GitHub Issue å’Œéƒ¨åˆ† bug ä¿®å¤ï¼Œè¯·å‚é˜… Cory <a class="reference external" href="http://lukasa.co.uk/2013/09/Requests_20/">blog</a>
ä¸­çš„ç›¸å…³ä¸»é¢˜ã€‚</p>
<div class="section" id="id13">
<h5>API å˜åŒ–<a class="headerlink" href="#id13" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul>
<li><p class="first">Requests å¤„ç†å¼‚å¸¸çš„è¡Œä¸ºæœ‰éƒ¨åˆ†æ›´æ”¹ã€‚ <code class="docutils literal"><span class="pre">RequestException</span></code> ç°åœ¨æ˜¯ <code class="docutils literal"><span class="pre">IOError</span></code>
çš„å­ç±»ï¼Œè€Œé <code class="docutils literal"><span class="pre">RuntimeError</span></code> çš„å­ç±»ï¼Œæ–°çš„å½’ç±»æ›´ä¸ºåˆç†ã€‚æ­¤å¤–ï¼Œæ— æ•ˆçš„ URL
è½¬ä¹‰åºåˆ—ç°åœ¨ä¼šå¼•å‘ <code class="docutils literal"><span class="pre">RequestException</span></code> çš„ä¸€ä¸ªå­ç±»ï¼Œè€Œéä¸€ä¸ª <code class="docutils literal"><span class="pre">ValueError</span></code>ã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://%zz/&#39;</span><span class="p">)</span>   <span class="c1"># raises requests.exceptions.InvalidURL</span>
</pre></div>
</div>
<p>æœ€åï¼Œ é”™è¯¯åˆ†å—å¯¼è‡´çš„ <code class="docutils literal"><span class="pre">httplib.IncompleteRead</span></code> å¼‚å¸¸ç°åœ¨å˜æˆäº† <code class="docutils literal"><span class="pre">ChunkedEncodingError</span></code>ã€‚</p>
</li>
<li><p class="first">ä»£ç† API ç•¥æœ‰æ”¹åŠ¨ï¼Œç°åœ¨éœ€è¦æä¾›ä»£ç† URL çš„ schemeã€‚</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;http&quot;</span><span class="p">:</span> <span class="s2">&quot;10.10.1.10:3128&quot;</span><span class="p">,</span>    <span class="c1"># éœ€ä½¿ç”¨ http://10.10.1.10:3128</span>
<span class="p">}</span>

<span class="c1"># requests 1.x ä¸­æœ‰æ•ˆï¼Œ requests 2.x ä¸­ä¼šå¼•å‘ requests.exceptions.MissingSchema</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://example.org&quot;</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id14">
<h5>è¡Œä¸ºå˜åŒ–<a class="headerlink" href="#id14" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">headers</span></code> å­—å…¸ä¸­çš„ key ç°åœ¨éƒ½æ˜¯åŸç”Ÿå­—ç¬¦ä¸²ï¼Œåœ¨æ‰€æœ‰ç‰ˆæœ¬çš„ Python
ä¸­éƒ½æ˜¯å¦‚æ­¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒPython 2 ä¸­æ˜¯ bytestringï¼ŒPython 3 ä¸­æ˜¯ unicodeã€‚
å¦‚æœ key ä¸æ˜¯åŸå£°å­—ç¬¦ä¸²ï¼ˆPython 2 ä¸­ unicodeï¼Œæˆ– Python 3 ä¸­ bytestringï¼‰
å®ƒä»¬ä¼šè¢«ä»¥ UTF-8 ç¼–ç è½¬æˆåŸç”Ÿå­—ç¬¦ä¸²ã€‚</li>
<li><code class="docutils literal"><span class="pre">headers</span></code> å­—å…¸ä¸­çš„ value åº”è¯¥éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚åœ¨ 1.0 ç‰ˆä¹‹å‰è¯¥é¡¹ç›®å°±æ˜¯è¦æ±‚è¿™æ ·åšçš„ï¼Œåªä¸è¿‡æœ€è¿‘ï¼ˆv2.11.0ä¹‹åï¼‰è¿™æ¡å˜æˆäº†å¼ºåˆ¶æ¡æ¬¾ã€‚å»ºè®®åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œé¿å…è®© header å€¼ä½¿ç”¨ unicode ç¼–ç ã€‚</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>è´¡çŒ®æŒ‡å—<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å¦‚æœä½ è¦ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®ï¼Œè¯·å‚è€ƒè¿™éƒ¨åˆ†æ–‡æ¡£ã€‚</p>
<div class="toctree-wrapper compound">
<span id="document-dev/contributing"></span><div class="section" id="contributor-s-guide">
<span id="contributing"></span><h3>Contributor's Guide<a class="headerlink" href="#contributor-s-guide" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>If you're reading this, you're probably interested in contributing to Requests.
Thank you very much! Open source projects live-and-die based on the support
they receive from others, and the fact that you're even considering
contributing to the Requests project is <em>very</em> generous of you.</p>
<p>This document lays out guidelines and advice for contributing to this project.
If you're thinking of contributing, please start by reading this document and
getting a feel for how contributing to this project works. If you have any
questions, feel free to reach out to either <a class="reference external" href="http://www.coglib.com/~icordasc/">Ian Cordasco</a> or <a class="reference external" href="https://lukasa.co.uk/about">Cory Benfield</a>,
the primary maintainers.</p>
<p>If you have non-technical feedback, philosophical ponderings, crazy ideas, or
other general thoughts about Requests or its position within the Python
ecosystem, the BDFL, <a class="reference external" href="mailto:me&#37;&#52;&#48;kennethreitz&#46;org">Kenneth Reitz</a>, would love to hear from you.</p>
<p>The guide is split into sections based on the type of contribution you're
thinking of making, with a section that covers general guidelines for all
contributors.</p>
<div class="section" id="be-cordial">
<h4>Be Cordial<a class="headerlink" href="#be-cordial" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<blockquote>
<div><strong>Be cordial or be on your way</strong>. <em>â€”Kenneth Reitz</em></div></blockquote>
<p>Requests has one very important rule governing all forms of contribution,
including reporting bugs or requesting features. This golden rule is
&quot;<a class="reference external" href="http://kennethreitz.org/be-cordial-or-be-on-your-way/">be cordial or be on your way</a>&quot;.</p>
<p><strong>All contributions are welcome</strong>, as long as
everyone involved is treated with respect.</p>
</div>
<div class="section" id="get-early-feedback">
<span id="early-feedback"></span><h4>Get Early Feedback<a class="headerlink" href="#get-early-feedback" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>If you are contributing, do not feel the need to sit on your contribution until
it is perfectly polished and complete. It helps everyone involved for you to
seek feedback as early as you possibly can. Submitting an early, unfinished
version of your contribution for feedback in no way prejudices your chances of
getting that contribution accepted, and can save you from putting a lot of work
into a contribution that is not suitable for the project.</p>
</div>
<div class="section" id="contribution-suitability">
<h4>Contribution Suitability<a class="headerlink" href="#contribution-suitability" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Our project maintainers have the last word on whether or not a contribution is
suitable for Requests. All contributions will be considered carefully, but from
time to time, contributions will be rejected because they do not suit the
current goals or needs of the project.</p>
<p>If your contribution is rejected, don't despair! As long as you followed these
guidelines, you will have a much better chance of getting your next
contribution accepted.</p>
</div>
<div class="section" id="code-contributions">
<h4>Code Contributions<a class="headerlink" href="#code-contributions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<div class="section" id="steps-for-submitting-code">
<h5>Steps for Submitting Code<a class="headerlink" href="#steps-for-submitting-code" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>When contributing code, you'll want to follow this checklist:</p>
<ol class="arabic simple">
<li>Fork the repository on GitHub.</li>
<li>Run the tests to confirm they all pass on your system. If they don't, you'll
need to investigate why they fail. If you're unable to diagnose this
yourself, raise it as a bug report by following the guidelines in this
document: <a class="reference internal" href="#bug-reports"><span class="std std-ref">Bug Reports</span></a>.</li>
<li>Write tests that demonstrate your bug or feature. Ensure that they fail.</li>
<li>Make your change.</li>
<li>Run the entire test suite again, confirming that all tests pass <em>including
the ones you just added</em>.</li>
<li>Send a GitHub Pull Request to the main repository's <code class="docutils literal"><span class="pre">master</span></code> branch.
GitHub Pull Requests are the expected method of code collaboration on this
project.</li>
</ol>
<p>The following sub-sections go into more detail on some of the points above.</p>
</div>
<div class="section" id="code-review">
<h5>Code Review<a class="headerlink" href="#code-review" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>Contributions will not be merged until they've been code reviewed. You should
implement any code review feedback unless you strongly object to it. In the
event that you object to the code review feedback, you should make your case
clearly and calmly. If, after doing so, the feedback is judged to still apply,
you must either apply the feedback or withdraw your contribution.</p>
</div>
<div class="section" id="new-contributors">
<h5>New Contributors<a class="headerlink" href="#new-contributors" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>If you are new or relatively new to Open Source, welcome! Requests aims to
be a gentle introduction to the world of Open Source. If you're concerned about
how best to contribute, please consider mailing a maintainer (listed above) and
asking for help.</p>
<p>Please also check the <a class="reference internal" href="#early-feedback"><span class="std std-ref">Get Early Feedback</span></a> section.</p>
</div>
<div class="section" id="kenneth-reitz-s-code-style">
<h5>Kenneth Reitz's Code Styleâ„¢<a class="headerlink" href="#kenneth-reitz-s-code-style" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h5>
<p>The Requests codebase uses the <a class="reference external" href="http://pep8.org">PEP 8</a> code style.</p>
<p>In addition to the standards outlined in PEP 8, we have a few guidelines:</p>
<ul class="simple">
<li>Line-length can exceed 79 characters, to 100, when convenient.</li>
<li>Line-length can exceed 100 characters, when doing otherwise would be <em>terribly</em> inconvenient.</li>
<li>Always use single-quoted strings (e.g. <code class="docutils literal"><span class="pre">'#flatearth'</span></code>), unless a single-quote occurs within the string.</li>
</ul>
<p>Additionally, one of the styles that PEP8 recommends for <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#indentation">line continuations</a>
completely lacks all sense of taste, and is not to be permitted within
the Requests codebase:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Aligned with opening delimiter.</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">long_function_name</span><span class="p">(</span><span class="n">var_one</span><span class="p">,</span> <span class="n">var_two</span><span class="p">,</span>
                         <span class="n">var_three</span><span class="p">,</span> <span class="n">var_four</span><span class="p">)</span>
</pre></div>
</div>
<p>No. Just don't. Please.</p>
<p>Docstrings are to follow the following syntaxes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">the_earth_is_flat</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;NASA divided up the seas into thirty-three degrees.&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci_spiral_tool</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;With my feet upon the ground I lose myself / between the sounds</span>
<span class="sd">    and open wide to suck it in. / I feel it move across my skin. / I&#39;m</span>
<span class="sd">    reaching up and reaching out. / I&#39;m reaching for the random or</span>
<span class="sd">    whatever will bewilder me. / Whatever will bewilder me. / And</span>
<span class="sd">    following our will and wind we may just go where no one&#39;s been. /</span>
<span class="sd">    We&#39;ll ride the spiral to the end and may just go where no one&#39;s</span>
<span class="sd">    been.</span>

<span class="sd">    Spiral out. Keep going...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>All functions, methods, and classes are to contain docstrings. Object data
model methods (e.g. <code class="docutils literal"><span class="pre">__repr__</span></code>) are typically the exception to this rule.</p>
<p>Thanks for helping to make the world a better place!</p>
</div>
</div>
<div class="section" id="documentation-contributions">
<h4>Documentation Contributions<a class="headerlink" href="#documentation-contributions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Documentation improvements are always welcome! The documentation files live in
the <code class="docutils literal"><span class="pre">docs/</span></code> directory of the codebase. They're written in
<a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>, and use <a class="reference external" href="http://sphinx-doc.org/index.html">Sphinx</a> to generate the full suite of
documentation.</p>
<p>When contributing documentation, please do your best to follow the style of the
documentation files. This means a soft-limit of 79 characters wide in your text
files and a semi-formal, yet friendly and approachable, prose style.</p>
<p>When presenting Python code, use single-quoted strings (<code class="docutils literal"><span class="pre">'hello'</span></code> instead of
<code class="docutils literal"><span class="pre">&quot;hello&quot;</span></code>).</p>
</div>
<div class="section" id="bug-reports">
<span id="id1"></span><h4>Bug Reports<a class="headerlink" href="#bug-reports" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Bug reports are hugely important! Before you raise one, though, please check
through the <a class="reference external" href="https://github.com/kennethreitz/requests/issues">GitHub issues</a>, <strong>both open and closed</strong>, to confirm that the bug
hasn't been reported before. Duplicate bug reports are a huge drain on the time
of other contributors, and should be avoided as much as possible.</p>
</div>
<div class="section" id="feature-requests">
<h4>Feature Requests<a class="headerlink" href="#feature-requests" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests is in a perpetual feature freeze, only the BDFL can add or approve of
new features. The maintainers believe that Requests is a feature-complete
piece of software at this time.</p>
<p>One of the most important skills to have while maintaining a largely-used
open source project is learning the ability to say &quot;no&quot; to suggested changes,
while keeping an open ear and mind.</p>
<p>If you believe there is a feature missing, feel free to raise a feature
request, but please do be aware that the overwhelming likelihood is that your
feature request will not be accepted.</p>
</div>
</div>
<span id="document-dev/philosophy"></span><div class="section" id="development-philosophy">
<h3>Development Philosophy<a class="headerlink" href="#development-philosophy" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>Requests is an open but opinionated library, created by an open but opinionated developer.</p>
<div class="section" id="management-style">
<h4>Management Style<a class="headerlink" href="#management-style" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><a class="reference external" href="http://kennethreitz.org">Kenneth Reitz</a> is the BDFL. He has final say in any decision related to the Requests project. Kenneth is responsible for the direction and form of the library. In addition to making decisions based on technical merit, he is responsible for making decisions based on the development philosophy of Requests. Only Kenneth may merge code into Requests.</p>
<p><a class="reference external" href="http://www.coglib.com/~icordasc/">Ian Cordasco</a> and <a class="reference external" href="https://lukasa.co.uk/about/">Cory Benfield</a> are the core contributors. They are responsible for triaging bug reports, reviewing pull requests and ensuring that Kenneth is kept up to speed with developments around the library. The day-to-day managing of the project is done by the core contributors. They are responsible for making judgements about whether or not a feature request is likely to be accepted by Kenneth. They do not have the authority to change code or merge code changes, though they may change documentation. Their word is not final.</p>
</div>
<div class="section" id="values">
<h4>Values<a class="headerlink" href="#values" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul class="simple">
<li>Simplicity is always better than functionality.</li>
<li>Listen to everyone, then disregard it.</li>
<li>The API is all that matters. Everything else is secondary.</li>
<li>Fit the 90% use-case. Ignore the nay-sayers.</li>
</ul>
</div>
<div class="section" id="semantic-versioning">
<h4>Semantic Versioning<a class="headerlink" href="#semantic-versioning" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>For many years, the open source community has been plagued with version number dystonia. Numbers vary so greatly from project to project, they are practically meaningless.</p>
<p>Requests uses <a class="reference external" href="http://semver.org">Semantic Versioning</a>. This specification seeks to put an end to this madness with a small set of practical guidelines for you and your colleagues to use in your next project.</p>
</div>
<div class="section" id="standard-library">
<h4>Standard Library?<a class="headerlink" href="#standard-library" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests has no <em>active</em> plans to be included in the standard library. This decision has been discussed at length with Guido as well as numerous core developers.</p>
<p>Essentially, the standard library is where a library goes to die. It is appropriate for a module to be included when active development is no longer necessary.</p>
</div>
<div class="section" id="linux-distro-packages">
<h4>Linux Distro Packages<a class="headerlink" href="#linux-distro-packages" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Distributions have been made for many Linux repositories, including: Ubuntu, Debian, RHEL, and Arch.</p>
<p>These distributions are sometimes divergent forks, or are otherwise not kept up-to-date with the latest code and bugfixes. PyPI (and its mirrors) and GitHub are the official distribution sources; alternatives are not supported by the Requests project.</p>
</div>
</div>
<span id="document-dev/todo"></span><div class="section" id="how-to-help">
<h3>How to Help<a class="headerlink" href="#how-to-help" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>Requests is under active development, and contributions are more than welcome!</p>
<ol class="arabic simple">
<li>Check for open issues or open a fresh issue to start a discussion around a bug.
There is a Contributor Friendly tag for issues that should be ideal for people who are not very
familiar with the codebase yet.</li>
<li>Fork <a class="reference external" href="https://github.com/kennethreitz/requests">the repository</a> on GitHub and start making your
changes to a new branch.</li>
<li>Write a test which shows that the bug was fixed.</li>
<li>Send a pull request and bug the maintainer until it gets merged and published. :)
Make sure to add yourself to <a class="reference external" href="https://github.com/kennethreitz/requests/blob/master/AUTHORS.rst">AUTHORS</a>.</li>
</ol>
<div class="section" id="feature-freeze">
<h4>Feature Freeze<a class="headerlink" href="#feature-freeze" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>As of v1.0.0, Requests has now entered a feature freeze. Requests for new
features and Pull Requests implementing those features will not be accepted.</p>
</div>
<div class="section" id="development-dependencies">
<h4>Development Dependencies<a class="headerlink" href="#development-dependencies" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>You'll need to install py.test in order to run the Requests' test suite:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ pip install -r requirements.txt
$ py.test
platform darwin -- Python 2.7.3 -- pytest-2.3.4
collected 25 items

test_requests.py .........................
25 passed in 3.50 seconds
</pre></div>
</div>
</div>
<div class="section" id="runtime-environments">
<h4>Runtime Environments<a class="headerlink" href="#runtime-environments" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>Requests currently supports the following versions of Python:</p>
<ul class="simple">
<li>Python 2.6</li>
<li>Python 2.7</li>
<li>Python 3.3</li>
<li>Python 3.4</li>
<li>Python 3.5</li>
<li>PyPy 1.9</li>
</ul>
<p>Google AppEngine is not officially supported although support is available
with the <a class="reference external" href="http://toolbelt.readthedocs.io/">Requests-Toolbelt</a>.</p>
</div>
<div class="section" id="are-you-crazy">
<h4>Are you crazy?<a class="headerlink" href="#are-you-crazy" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul class="simple">
<li>SPDY support would be awesome. No C extensions.</li>
</ul>
</div>
<div class="section" id="downstream-repackaging">
<h4>Downstream Repackaging<a class="headerlink" href="#downstream-repackaging" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p>If you are repackaging Requests, please note that you must also redistribute the <code class="docutils literal"><span class="pre">cacerts.pem</span></code> file in order to get correct SSL functionality.</p>
</div>
</div>
<span id="document-dev/authors"></span><div class="section" id="id1">
<h3>è´¡çŒ®è€…<a class="headerlink" href="#id1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>Requests is written and maintained by Kenneth Reitz and
various contributors:</p>
<div class="section" id="keepers-of-the-four-crystals">
<h4>Keepers of the Four Crystals<a class="headerlink" href="#keepers-of-the-four-crystals" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul class="simple">
<li>Kenneth Reitz &lt;<a class="reference external" href="mailto:me&#37;&#52;&#48;kennethreitz&#46;org">me<span>&#64;</span>kennethreitz<span>&#46;</span>org</a>&gt; <a class="reference external" href="https://github.com/kennethreitz">&#64;kennethreitz</a>, Keeper of the Master Crystal.</li>
<li>Cory Benfield &lt;<a class="reference external" href="mailto:cory&#37;&#52;&#48;lukasa&#46;co&#46;uk">cory<span>&#64;</span>lukasa<span>&#46;</span>co<span>&#46;</span>uk</a>&gt; <a class="reference external" href="https://github.com/lukasa">&#64;lukasa</a></li>
<li>Ian Cordasco &lt;<a class="reference external" href="mailto:graffatcolmingov&#37;&#52;&#48;gmail&#46;com">graffatcolmingov<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; <a class="reference external" href="https://github.com/sigmavirus24">&#64;sigmavirus24</a></li>
<li>Nate Prewitt &lt;<a class="reference external" href="mailto:nate&#46;prewitt&#37;&#52;&#48;gmail&#46;com">nate<span>&#46;</span>prewitt<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; <a class="reference external" href="https://github.com/nateprewitt">&#64;nateprewitt</a></li>
</ul>
</div>
<div class="section" id="urllib3">
<h4>Urllib3<a class="headerlink" href="#urllib3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul class="simple">
<li>Andrey Petrov &lt;<a class="reference external" href="mailto:andrey&#46;petrov&#37;&#52;&#48;shazow&#46;net">andrey<span>&#46;</span>petrov<span>&#64;</span>shazow<span>&#46;</span>net</a>&gt;</li>
</ul>
</div>
<div class="section" id="patches-and-suggestions">
<h4>Patches and Suggestions<a class="headerlink" href="#patches-and-suggestions" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul class="simple">
<li>Various Pocoo Members</li>
<li>Chris Adams</li>
<li>Flavio Percoco Premoli</li>
<li>Dj Gilcrease</li>
<li>Justin Murphy</li>
<li>Rob Madole</li>
<li>Aram Dulyan</li>
<li>Johannes Gorset</li>
<li>æ‘å±±ã‚ãŒã­ (Megane Murayama)</li>
<li>James Rowe</li>
<li>Daniel Schauenberg</li>
<li>Zbigniew Siciarz</li>
<li>Daniele Tricoli 'Eriol'</li>
<li>Richard Boulton</li>
<li>Miguel Olivares &lt;<a class="reference external" href="mailto:miguel&#37;&#52;&#48;moliware&#46;com">miguel<span>&#64;</span>moliware<span>&#46;</span>com</a>&gt;</li>
<li>Alberto Paro</li>
<li>JÃ©rÃ©my Bethmont</li>
<li>æ½˜æ—­ (Xu Pan)</li>
<li>TamÃ¡s GulÃ¡csi</li>
<li>RubÃ©n Abad</li>
<li>Peter Manser</li>
<li>Jeremy Selier</li>
<li>Jens Diemer</li>
<li>Alex (<a class="reference external" href="https://github.com/alopatin">&#64;alopatin</a>)</li>
<li>Tom Hogans &lt;<a class="reference external" href="mailto:tomhsx&#37;&#52;&#48;gmail&#46;com">tomhsx<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Armin Ronacher</li>
<li>Shrikant Sharat Kandula</li>
<li>Mikko Ohtamaa</li>
<li>Den Shabalin</li>
<li>Daniel Miller &lt;<a class="reference external" href="mailto:danielm&#37;&#52;&#48;vs-networks&#46;com">danielm<span>&#64;</span>vs-networks<span>&#46;</span>com</a>&gt;</li>
<li>Alejandro Giacometti</li>
<li>Rick Mak</li>
<li>Johan BergstrÃ¶m</li>
<li>Josselin Jacquard</li>
<li>Travis N. Vaught</li>
<li>Fredrik MÃ¶llerstrand</li>
<li>Daniel Hengeveld</li>
<li>Dan Head</li>
<li>Bruno ReniÃ©</li>
<li>David Fischer</li>
<li>Joseph McCullough</li>
<li>Juergen Brendel</li>
<li>Juan Riaza</li>
<li>Ryan Kelly</li>
<li>Rolando Espinoza La fuente</li>
<li>Robert Gieseke</li>
<li>Idan Gazit</li>
<li>Ed Summers</li>
<li>Chris Van Horne</li>
<li>Christopher Davis</li>
<li>Ori Livneh</li>
<li>Jason Emerick</li>
<li>Bryan Helmig</li>
<li>Jonas Obrist</li>
<li>Lucian Ursu</li>
<li>Tom Moertel</li>
<li>Frank Kumro Jr</li>
<li>Chase Sterling</li>
<li>Marty Alchin</li>
<li>takluyver</li>
<li>Ben Toews (<a class="reference external" href="https://github.com/mastahyeti">&#64;mastahyeti</a>)</li>
<li>David Kemp</li>
<li>Brendon Crawford</li>
<li>Denis (<a class="reference external" href="https://github.com/Telofy">&#64;Telofy</a>)</li>
<li>Matt Giuca</li>
<li>Adam Tauber</li>
<li>Honza Javorek</li>
<li>Brendan Maguire &lt;<a class="reference external" href="mailto:maguire&#46;brendan&#37;&#52;&#48;gmail&#46;com">maguire<span>&#46;</span>brendan<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Chris Dary</li>
<li>Danver Braganza &lt;<a class="reference external" href="mailto:danverbraganza&#37;&#52;&#48;gmail&#46;com">danverbraganza<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Max Countryman</li>
<li>Nick Chadwick</li>
<li>Jonathan Drosdeck</li>
<li>Jiri Machalek</li>
<li>Steve Pulec</li>
<li>Michael Kelly</li>
<li>Michael Newman &lt;<a class="reference external" href="mailto:newmaniese&#37;&#52;&#48;gmail&#46;com">newmaniese<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Jonty Wareing &lt;<a class="reference external" href="mailto:jonty&#37;&#52;&#48;jonty&#46;co&#46;uk">jonty<span>&#64;</span>jonty<span>&#46;</span>co<span>&#46;</span>uk</a>&gt;</li>
<li>Shivaram Lingamneni</li>
<li>Miguel Turner</li>
<li>Rohan Jain (<a class="reference external" href="https://github.com/crodjer">&#64;crodjer</a>)</li>
<li>Justin Barber &lt;<a class="reference external" href="mailto:barber&#46;justin&#37;&#52;&#48;gmail&#46;com">barber<span>&#46;</span>justin<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Roman Haritonov (<a class="reference external" href="https://github.com/reclosedev">&#64;reclosedev</a>)</li>
<li>Josh Imhoff &lt;<a class="reference external" href="mailto:joshimhoff13&#37;&#52;&#48;gmail&#46;com">joshimhoff13<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Arup Malakar &lt;<a class="reference external" href="mailto:amalakar&#37;&#52;&#48;gmail&#46;com">amalakar<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Danilo Bargen (<a class="reference external" href="https://github.com/dbrgn">&#64;dbrgn</a>)</li>
<li>Torsten Landschoff</li>
<li>Michael Holler (<a class="reference external" href="https://github.com/apotheos">&#64;apotheos</a>)</li>
<li>Timnit Gebru</li>
<li>Sarah Gonzalez</li>
<li>Victoria Mo</li>
<li>Leila Muhtasib</li>
<li>Matthias Rahlf &lt;<a class="reference external" href="mailto:matthias&#37;&#52;&#48;webding&#46;de">matthias<span>&#64;</span>webding<span>&#46;</span>de</a>&gt;</li>
<li>Jakub Roztocil &lt;<a class="reference external" href="mailto:jakub&#37;&#52;&#48;roztocil&#46;name">jakub<span>&#64;</span>roztocil<span>&#46;</span>name</a>&gt;</li>
<li>Rhys Elsmore</li>
<li>AndrÃ© Graf (<a class="reference external" href="https://github.com/dergraf">&#64;dergraf</a>)</li>
<li>Stephen Zhuang (<a class="reference external" href="https://github.com/everbird">&#64;everbird</a>)</li>
<li>Martijn Pieters</li>
<li>Jonatan Heyman</li>
<li>David Bonner &lt;<a class="reference external" href="mailto:dbonner&#37;&#52;&#48;gmail&#46;com">dbonner<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/rascalking">&#64;rascalking</a>)</li>
<li>Vinod Chandru</li>
<li>Johnny Goodnow &lt;<a class="reference external" href="mailto:j&#46;goodnow29&#37;&#52;&#48;gmail&#46;com">j<span>&#46;</span>goodnow29<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Denis Ryzhkov &lt;<a class="reference external" href="mailto:denisr&#37;&#52;&#48;denisr&#46;com">denisr<span>&#64;</span>denisr<span>&#46;</span>com</a>&gt;</li>
<li>Wilfred Hughes &lt;<a class="reference external" href="mailto:me&#37;&#52;&#48;wilfred&#46;me&#46;uk">me<span>&#64;</span>wilfred<span>&#46;</span>me<span>&#46;</span>uk</a>&gt;</li>
<li>Dmitry Medvinsky &lt;<a class="reference external" href="mailto:me&#37;&#52;&#48;dmedvinsky&#46;name">me<span>&#64;</span>dmedvinsky<span>&#46;</span>name</a>&gt;</li>
<li>Bryce Boe &lt;<a class="reference external" href="mailto:bbzbryce&#37;&#52;&#48;gmail&#46;com">bbzbryce<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/bboe">&#64;bboe</a>)</li>
<li>Colin Dunklau &lt;<a class="reference external" href="mailto:colin&#46;dunklau&#37;&#52;&#48;gmail&#46;com">colin<span>&#46;</span>dunklau<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/cdunklau">&#64;cdunklau</a>)</li>
<li>Bob Carroll &lt;<a class="reference external" href="mailto:bob&#46;carroll&#37;&#52;&#48;alum&#46;rit&#46;edu">bob<span>&#46;</span>carroll<span>&#64;</span>alum<span>&#46;</span>rit<span>&#46;</span>edu</a>&gt; (<a class="reference external" href="https://github.com/rcarz">&#64;rcarz</a>)</li>
<li>Hugo Osvaldo Barrera &lt;<a class="reference external" href="mailto:hugo&#37;&#52;&#48;osvaldobarrera&#46;com&#46;ar">hugo<span>&#64;</span>osvaldobarrera<span>&#46;</span>com<span>&#46;</span>ar</a>&gt; (<a class="reference external" href="https://github.com/hobarrera">&#64;hobarrera</a>)</li>
<li>Åukasz Langa &lt;<a class="reference external" href="mailto:lukasz&#37;&#52;&#48;langa&#46;pl">lukasz<span>&#64;</span>langa<span>&#46;</span>pl</a>&gt;</li>
<li>Dave Shawley &lt;<a class="reference external" href="mailto:daveshawley&#37;&#52;&#48;gmail&#46;com">daveshawley<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>James Clarke (<a class="reference external" href="https://github.com/jam">&#64;jam</a>)</li>
<li>Kevin Burke &lt;<a class="reference external" href="mailto:kev&#37;&#52;&#48;inburke&#46;com">kev<span>&#64;</span>inburke<span>&#46;</span>com</a>&gt;</li>
<li>Flavio Curella</li>
<li>David Pursehouse &lt;<a class="reference external" href="mailto:david&#46;pursehouse&#37;&#52;&#48;gmail&#46;com">david<span>&#46;</span>pursehouse<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/dpursehouse">&#64;dpursehouse</a>)</li>
<li>Jon Parise (<a class="reference external" href="https://github.com/jparise">&#64;jparise</a>)</li>
<li>Alexander Karpinsky (<a class="reference external" href="https://twitter.com/homm86">&#64;homm86</a>)</li>
<li>Marc Schlaich (<a class="reference external" href="https://github.com/schlamar">&#64;schlamar</a>)</li>
<li>Park Ilsu &lt;<a class="reference external" href="mailto:daftonshady&#37;&#52;&#48;gmail&#46;com">daftonshady<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/daftshady">&#64;daftshady</a>)</li>
<li>Matt Spitz (<a class="reference external" href="https://github.com/mattspitz">&#64;mattspitz</a>)</li>
<li>Vikram Oberoi (<a class="reference external" href="https://github.com/voberoi">&#64;voberoi</a>)</li>
<li>Can Ibanoglu &lt;<a class="reference external" href="mailto:can&#46;ibanoglu&#37;&#52;&#48;gmail&#46;com">can<span>&#46;</span>ibanoglu<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/canibanoglu">&#64;canibanoglu</a>)</li>
<li>Thomas WeiÃŸschuh &lt;<a class="reference external" href="mailto:thomas&#37;&#52;&#48;t-8ch&#46;de">thomas<span>&#64;</span>t-8ch<span>&#46;</span>de</a>&gt; (<a class="reference external" href="https://github.com/t-8ch">&#64;t-8ch</a>)</li>
<li>Jayson Vantuyl &lt;<a class="reference external" href="mailto:jayson&#37;&#52;&#48;aggressive&#46;ly">jayson<span>&#64;</span>aggressive<span>&#46;</span>ly</a>&gt;</li>
<li>Pengfei.X &lt;<a class="reference external" href="mailto:pengphy&#37;&#52;&#48;gmail&#46;com">pengphy<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Kamil Madac &lt;<a class="reference external" href="mailto:kamil&#46;madac&#37;&#52;&#48;gmail&#46;com">kamil<span>&#46;</span>madac<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Michael Becker &lt;<a class="reference external" href="mailto:mike&#37;&#52;&#48;beckerfuffle&#46;com">mike<span>&#64;</span>beckerfuffle<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://twitter.com/beckerfuffle">&#64;beckerfuffle</a>)</li>
<li>Erik Wickstrom &lt;<a class="reference external" href="mailto:erik&#37;&#52;&#48;erikwickstrom&#46;com">erik<span>&#64;</span>erikwickstrom<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/erikwickstrom">&#64;erikwickstrom</a>)</li>
<li>ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸Ğ½ ĞŸĞ¾Ğ´ÑˆÑƒĞ¼Ğ¾Ğº (<a class="reference external" href="https://github.com/podshumok">&#64;podshumok</a>)</li>
<li>Ben Bass (<a class="reference external" href="https://github.com/codedstructure">&#64;codedstructure</a>)</li>
<li>Jonathan Wong &lt;<a class="reference external" href="mailto:evolutionace&#37;&#52;&#48;gmail&#46;com">evolutionace<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/ContinuousFunction">&#64;ContinuousFunction</a>)</li>
<li>Martin Jul (<a class="reference external" href="https://github.com/mjul">&#64;mjul</a>)</li>
<li>Joe Alcorn (<a class="reference external" href="https://github.com/buttscicles">&#64;buttscicles</a>)</li>
<li>Syed Suhail Ahmed &lt;<a class="reference external" href="mailto:ssuhail&#46;ahmed93&#37;&#52;&#48;gmail&#46;com">ssuhail<span>&#46;</span>ahmed93<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/syedsuhail">&#64;syedsuhail</a>)</li>
<li>Scott Sadler (<a class="reference external" href="https://github.com/ssadler">&#64;ssadler</a>)</li>
<li>Arthur Darcet (<a class="reference external" href="https://github.com/arthurdarcet">&#64;arthurdarcet</a>)</li>
<li>Ulrich Petri (<a class="reference external" href="https://github.com/ulope">&#64;ulope</a>)</li>
<li>Muhammad Yasoob Ullah Khalid &lt;<a class="reference external" href="mailto:yasoob&#46;khld&#37;&#52;&#48;gmail&#46;com">yasoob<span>&#46;</span>khld<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/yasoob">&#64;yasoob</a>)</li>
<li>Paul van der Linden (<a class="reference external" href="https://github.com/pvanderlinden">&#64;pvanderlinden</a>)</li>
<li>Colin Dickson (<a class="reference external" href="https://github.com/colindickson">&#64;colindickson</a>)</li>
<li>Smiley Barry (<a class="reference external" href="https://github.com/smiley">&#64;smiley</a>)</li>
<li>Shagun Sodhani (<a class="reference external" href="https://github.com/shagunsodhani">&#64;shagunsodhani</a>)</li>
<li>Robin Linderborg (<a class="reference external" href="https://github.com/vienno">&#64;vienno</a>)</li>
<li>Brian Samek (<a class="reference external" href="https://github.com/bsamek">&#64;bsamek</a>)</li>
<li>Dmitry Dygalo (<a class="reference external" href="https://github.com/Stranger6667">&#64;Stranger6667</a>)</li>
<li>piotrjurkiewicz</li>
<li>Jesse Shapiro &lt;<a class="reference external" href="mailto:jesse&#37;&#52;&#48;jesseshapiro&#46;net">jesse<span>&#64;</span>jesseshapiro<span>&#46;</span>net</a>&gt; (<a class="reference external" href="https://github.com/haikuginger">&#64;haikuginger</a>)</li>
<li>Nate Prewitt &lt;<a class="reference external" href="mailto:nate&#46;prewitt&#37;&#52;&#48;gmail&#46;com">nate<span>&#46;</span>prewitt<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/nateprewitt">&#64;nateprewitt</a>)</li>
<li>Maik Himstedt</li>
<li>Michael Hunsinger</li>
<li>Brian Bamsch &lt;<a class="reference external" href="mailto:bbamsch32&#37;&#52;&#48;gmail&#46;com">bbamsch32<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/bbamsch">&#64;bbamsch</a>)</li>
<li>Om Prakash Kumar &lt;<a class="reference external" href="mailto:omprakash070&#37;&#52;&#48;gmail&#46;com">omprakash070<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/iamprakashom">&#64;iamprakashom</a>)</li>
<li>Philipp Konrad &lt;<a class="reference external" href="mailto:gardiac2002&#37;&#52;&#48;gmail&#46;com">gardiac2002<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/gardiac2002">&#64;gardiac2002</a>)</li>
<li>Hussain Tamboli &lt;<a class="reference external" href="mailto:hussaintamboli18&#37;&#52;&#48;gmail&#46;com">hussaintamboli18<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/hussaintamboli">&#64;hussaintamboli</a>)</li>
<li>Casey Davidson (<a class="reference external" href="https://github.com/davidsoncasey">&#64;davidsoncasey</a>)</li>
<li>Andrii Soldatenko (<a class="reference external" href="https://github.com/andriisoldatenko">&#64;a_soldatenko</a>)</li>
<li>Moinuddin Quadri &lt;<a class="reference external" href="mailto:moin18&#37;&#52;&#48;gmail&#46;com">moin18<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/moin18">&#64;moin18</a>)</li>
<li>Matt Kohl (<a class="reference external" href="https://github.com/mattkohl">&#64;mattkohl</a>)</li>
<li>Jonathan Vanasco (<a class="reference external" href="https://github.com/jvanasco">&#64;jvanasco</a>)</li>
<li>David Fontenot (<a class="reference external" href="https://github.com/davidfontenot">&#64;davidfontenot</a>)</li>
<li>Shmuel Amar (<a class="reference external" href="https://github.com/shmuelamar">&#64;shmuelamar</a>)</li>
<li>Gary Wu (<a class="reference external" href="https://github.com/garywu">&#64;garywu</a>)</li>
<li>Ryan Pineo (<a class="reference external" href="https://github.com/ryanpineo">&#64;ryanpineo</a>)</li>
<li>Ed Morley (<a class="reference external" href="https://github.com/edmorley">&#64;edmorley</a>)</li>
<li>Matt Liu &lt;<a class="reference external" href="mailto:liumatt&#37;&#52;&#48;gmail&#46;com">liumatt<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/mlcrazy">&#64;mlcrazy</a>)</li>
</ul>
</div>
</div>
</div>
<p>æ²¡æœ‰åˆ«çš„æŒ‡å—äº†ï¼Œä½ ç°åœ¨è¦é è‡ªå·±äº†ã€‚</p>
<p>ç¥ä½ å¥½è¿ã€‚</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="index.html#document-index">
    <img class="logo" src="_static/requests-sidebar.png" title="https://kennethreitz.org/tattoos"/>
  </a>
</p>

<p>
  <iframe src="http://ghbtns.com/github-btn.html?user=requests&repo=requests&type=watch&count=true&size=large"
    allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>

<p>
  Requests is an elegant and simple HTTP library for Python, built for
  human beings.
</p>

<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=pythonrequestsorg" id="_carbonads_js"></script>

<h3>Stay Informed</h3>
<p>Receive updates on new releases and upcoming projects.</p>

<p><iframe src="http://ghbtns.com/github-btn.html?user=kennethreitz&type=follow&count=false"
  allowtransparency="true" frameborder="0" scrolling="0" width="200" height="20"></iframe></p>

<p><a href="https://twitter.com/kennethreitz" class="twitter-follow-button" data-show-count="false">Follow @kennethreitz</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></p>
<p><a href="https://saythanks.io/to/kennethreitz">Say Thanks!</a></p>
<p><a href="http://tinyletter.com/kennethreitz">Join Mailing List</a>.</p>


<h3>Other Projects</h3>

<p>More <a href="http://kennethreitz.org/">Kenneth Reitz</a> projects:</p>
<ul>
    <li><a href="http://edmsynths.com/">edmsynths.com</a></li>
    <li><a href="http://pipenv.org/">pipenv</a></li>
    <li><a href="http://pep8.org/">pep8.org</a></li>
    <li><a href="http://httpbin.org/">httpbin.org</a></li>
    <li><a href="http://python-guide.org">The Python Guide</a></li>
    <li><a href="https://github.com/kennethreitz/maya">Maya: Datetimes for Humans</a></li>
    <li><a href="https://github.com/kennethreitz/records">Records: SQL for Humans</a></li>
    <li><a href="http://www.git-legit.org">Legit: Git for Humans</a></li>
    <li><a href="http://docs.python-tablib.org/en/latest/">Tablib: Tabular Datasets</a></li>
</ul>


<h3>Useful Links</h3>
<ul>
  <li><a href="http://docs.python-requests.org/en/latest/community/recommended/">Recommended Packages and Extensions</a></li>

  <p></p>

  <li><a href="http://github.com/requests/requests">Requests @ GitHub</a></li>
  <li><a href="http://pypi.python.org/pypi/requests">Requests @ PyPI</a></li>
  <li><a href="http://github.com/requests/requests/issues">Issue Tracker</a></li>
  <li><a href="http://docs.python-requests.org/en/latest/community/updates/#software-updates">Release History</a></li>
</ul>


<h3>Translations</h3>

<ul>
  <li><a href="http://docs.python-requests.org/">English</a></li>
  <li><a href="http://fr.python-requests.org/">French</a></li>
  <li><a href="http://de.python-requests.org/">German</a></li>
  <li><a href="http://jp.python-requests.org/">Japanese</a></li>
  <li><a href="http://cn.python-requests.org/">Chinese</a></li>
  <li><a href="http://pt.python-requests.org/">Portuguese</a></li>
  <li><a href="http://it.python-requests.org/">Italian</a></li>
  <li><a href="http://es.python-requests.org/">Spanish</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>å¿«é€Ÿæœç´¢</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="è½¬å‘" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->

<!-- CSS Adjustments (I'm very picky.) -->
<style type="text/css">

  /* Rezzy requires precise alignment. */
  img.logo {margin-left: -20px!important;}

  /* "Quick Search" should be capitalized. */
  div#searchbox h3 {text-transform: capitalize;}

  /* Make the document a little wider, less code is cut-off. */
  div.document {width: 1008px;}

  /* Much-improved spacing around code blocks. */
  div.highlight pre {padding: 11px 14px;}

  /* Remain Responsive! */
  @media screen and (max-width: 1008px) {
    div.sphinxsidebar {display: none;}
    div.document {width: 100%!important;}

    /* Have code blocks escape the document right-margin. */
    div.highlight pre {margin-right: -30px;}
  }

</style>

<!-- Analytics tracking for Kenneth. -->
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '56ca7a57c88d9011080024dd');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>

<!-- There are no more hacks. -->
<!--         à®‡Ú¿Ú°Û£-Ú°Û£â€”         -->
<!--   Love, Kenneth Reitz    -->

<script src="_static//konami.js"></script>
<script>
  var easter_egg = new Konami('http://fortunes.herokuapp.com/random/raw');
</script>

<!-- That was not a hack. That was art. -->
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;MMXVII. A <a href="http://kennethreitz.com/pages/open-projects.html">Kenneth Reitz</a> Project.
      
    </div>

    
    <a href="https://github.com/requests/requests" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>